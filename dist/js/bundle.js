!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=30)}([function(e,t,n){"use strict";var r=n(3),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){e.exports=n(14)},function(e,t){var n,r;Fraction=function(e,t){if(void 0!==e&&t)"number"==typeof e&&"number"==typeof t?(this.numerator=e,this.denominator=t):"string"==typeof e&&"string"==typeof t&&(this.numerator=parseInt(e),this.denominator=parseInt(t));else if(void 0===t)if(num=e,"number"==typeof num)this.numerator=num,this.denominator=1;else if("string"==typeof num){var n,r,i=num.split(" ");if(i[0]&&(n=i[0]),i[1]&&(r=i[1]),n%1==0&&r&&r.match("/"))return new Fraction(n).add(new Fraction(r));if(!n||r)return;if("string"==typeof n&&n.match("/")){var o=n.split("/");this.numerator=o[0],this.denominator=o[1]}else{if("string"==typeof n&&n.match("."))return new Fraction(parseFloat(n));this.numerator=parseInt(n),this.denominator=1}}this.normalize()},Fraction.prototype.clone=function(){return new Fraction(this.numerator,this.denominator)},Fraction.prototype.toString=function(){if("NaN"===this.denominator)return"NaN";var e=this.numerator/this.denominator>0?Math.floor(this.numerator/this.denominator):Math.ceil(this.numerator/this.denominator),t=this.numerator%this.denominator,n=this.denominator,r=[];return 0!=e&&r.push(e),0!=t&&r.push((0===e?t:Math.abs(t))+"/"+n),r.length>0?r.join(" "):0},Fraction.prototype.rescale=function(e){return this.numerator*=e,this.denominator*=e,this},Fraction.prototype.add=function(e){var t=this.clone();return e=e instanceof Fraction?e.clone():new Fraction(e),td=t.denominator,t.rescale(e.denominator),e.rescale(td),t.numerator+=e.numerator,t.normalize()},Fraction.prototype.subtract=function(e){var t=this.clone();return e=e instanceof Fraction?e.clone():new Fraction(e),td=t.denominator,t.rescale(e.denominator),e.rescale(td),t.numerator-=e.numerator,t.normalize()},Fraction.prototype.multiply=function(e){var t=this.clone();if(e instanceof Fraction)t.numerator*=e.numerator,t.denominator*=e.denominator;else{if("number"!=typeof e)return t.multiply(new Fraction(e));t.numerator*=e}return t.normalize()},Fraction.prototype.divide=function(e){var t=this.clone();if(e instanceof Fraction)t.numerator*=e.denominator,t.denominator*=e.numerator;else{if("number"!=typeof e)return t.divide(new Fraction(e));t.denominator*=e}return t.normalize()},Fraction.prototype.equals=function(e){e instanceof Fraction||(e=new Fraction(e));var t=this.clone().normalize();e=e.clone().normalize();return t.numerator===e.numerator&&t.denominator===e.denominator},Fraction.prototype.normalize=(n=function(e){return"number"==typeof e&&(e>0&&e%1>0&&e%1<1||e<0&&e%-1<0&&e%-1>-1)},r=function(e,t){if(t){var n=Math.pow(10,t);return Math.round(e*n)/n}return Math.round(e)},function(){if(n(this.denominator)){var e=r(this.denominator,9),t=Math.pow(10,e.toString().split(".")[1].length);this.denominator=Math.round(this.denominator*t),this.numerator*=t}n(this.numerator)&&(e=r(this.numerator,9),t=Math.pow(10,e.toString().split(".")[1].length),this.numerator=Math.round(this.numerator*t),this.denominator*=t);var i=Fraction.gcf(this.numerator,this.denominator);return this.numerator/=i,this.denominator/=i,(this.numerator<0&&this.denominator<0||this.numerator>0&&this.denominator<0)&&(this.numerator*=-1,this.denominator*=-1),this}),Fraction.gcf=function(e,t){var n=[],r=Fraction.primeFactors(e),i=Fraction.primeFactors(t);return r.forEach((function(e){var t=i.indexOf(e);t>=0&&(n.push(e),i.splice(t,1))})),0===n.length?1:function(){var e,t=n[0];for(e=1;e<n.length;e++)t*=n[e];return t}()},Fraction.primeFactors=function(e){for(var t=Math.abs(e),n=[],r=2;r*r<=t;)t%r==0?(n.push(r),t/=r):r++;return 1!=t&&n.push(t),n},e.exports.Fraction=Fraction},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(0),i=n(19),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(a=n(8)),a),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(o)})),e.exports=c}).call(this,n(7))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],l=!1,p=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&d())}function d(){if(!l){var e=a(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(0),i=n(20),o=n(4),s=n(22),a=n(25),c=n(26),u=n(9);e.exports=function(e){return new Promise((function(t,l){var p=e.data,f=e.headers;r.isFormData(p)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password||"";f.Authorization="Basic "+btoa(h+":"+m)}var g=s(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),o(g,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};i(t,l,r),d=null}},d.onabort=function(){d&&(l(u("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){l(u("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(u(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=n(27),_=(e.withCredentials||c(g))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;_&&(f[e.xsrfHeaderName]=_)}if("setRequestHeader"in d&&r.forEach(f,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),l(e),d=null)})),void 0===p&&(p=null),d.send(p)}))}},function(e,t,n){"use strict";var r=n(21);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){t=t||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(o,(function(i){r.isObject(t[i])?n[i]=r.deepMerge(e[i],t[i]):void 0!==t[i]?n[i]=t[i]:r.isObject(e[i])?n[i]=r.deepMerge(e[i]):void 0!==e[i]&&(n[i]=e[i])})),r.forEach(s,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var a=i.concat(o).concat(s),c=Object.keys(t).filter((function(e){return-1===a.indexOf(e)}));return r.forEach(c,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Recipe}));var axios__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),axios__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);class Recipe{constructor(e){this.id=e}async getRecipe(){try{const e=await axios__WEBPACK_IMPORTED_MODULE_0___default()(`https://forkify-api.herokuapp.com/api/get?rId=${this.id}`);this.title=e.data.recipe.title,this.author=e.data.recipe.publisher,this.img=e.data.recipe.image_url,this.url=e.data.recipe.source_url,this.ingredients=e.data.recipe.ingredients}catch(e){console.log(e),alert("Something went wrong :(")}}calcTime(){const e=this.ingredients.length,t=Math.ceil(e/3);this.time=15*t}calcServings(){this.servings=4}parseIngredients(){const unitsGet=["tablespoons","tablespoon","ounces","ounce","teaspoons","teaspoon","cups","pounds","jars","jar","cloves","clove","whole"],unitsUse=["tbsp","tbsp","oz","oz","tsp","tsp","cup","pound","jar","jar","clove","clove","whole"],units=[...unitsUse,"kg","g"],newIngredients=this.ingredients.map(el=>{let ingredient=el.toLowerCase();unitsGet.forEach((e,t)=>{ingredient=ingredient.replace(e,unitsUse[t])}),ingredient=ingredient.replace(/ *\([^)]*\) */g," ");const arrIng=ingredient.split(" "),unitIndex=arrIng.findIndex(e=>units.includes(e));let objIng;if(unitIndex>-1){const arrCount=arrIng.slice(0,unitIndex);let count;count=1===arrCount.length?arrIng[0].replace("-","+"):eval(arrIng-slice(0,unitIndex).join("+")),objIng={count:count,unit:arrIng[unitIndex],ingredient:arrIng.slice(unitIndex+1).join(" ")}}else parseInt(arrIng[0],10)?objIng={count:parseInt(arrIng[0],10),unit:"",ingredients:arrIng.slice(1).join(" ")}:-1===unitIndex&&(objIng={count:1,unit:"",ingredient:ingredient});return objIng});this.ingredients=newIngredients}updateServings(e){const t="dec"===e?this.servings-1:this.servings+1;this.ingredients.forEach(e=>{e.count*=t/this.servings}),this.servings=t}}},function(e,t,n){(function(t){var n=t&&t.pid?t.pid.toString(36):"";function r(){var e=Date.now(),t=r.last||e;return r.last=e>t?e:t+1}e.exports=e.exports.default=function(e,t){return(e||"")+""+n+r().toString(36)+(t||"")},e.exports.process=function(e,t){return(e||"")+n+r().toString(36)+(t||"")},e.exports.time=function(e,t){return(e||"")+r().toString(36)+(t||"")}}).call(this,n(7))},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(15),s=n(10);function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=a(n(6));c.Axios=o,c.create=function(e){return a(s(c.defaults,e))},c.Cancel=n(11),c.CancelToken=n(28),c.isCancel=n(5),c.all=function(e){return Promise.all(e)},c.spread=n(29),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var r=n(0),i=n(4),o=n(16),s=n(17),a=n(10);function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=c},function(e,t,n){"use strict";var r=n(0);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(0),i=n(18),o=n(5),s=n(6);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(9);e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(23),i=n(24);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(0),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(11);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r);class o{constructor(e){this.query=e}async getResults(){try{const e=await i()(`https://forkify-api.herokuapp.com/api/search?&q=${this.query}`);this.result=e.data.recipes,console.log(e)}catch(e){alert("Something went wrong :)")}}}var s=n(12),a=n(13),c=n.n(a);class u{constructor(){this.items=[]}addItem(e,t,n){const r={id:c()(),count:e,unit:t,ingredient:n};return this.items.push(r),r}deleteItem(e){const t=this.items.findIndex(t=>t.id===e);this.items.splice(t,1)}updateCount(e,t){this.items.find(t=>t.id===e).count=t}}class l{constructor(){this.likes=[]}addLike(e,t,n,r){const i={id:e,title:t,author:n,img:r};return this.likes.push(i),this.persistData(),i}deleteLike(e){const t=this.likes.findIndex(t=>t.id===e);this.likes.splice(t,1),this.persistData()}isLiked(e){return-1!==this.likes.findIndex(t=>t.id===e)}getNumLikes(){return this.likes.length}persistData(){localStorage.setItem("likes",JSON.stringify(this.likes))}readStorageData(){const e=JSON.parse(localStorage.getItem("likes"));e&&(this.likes=e)}}const p={searchForm:document.querySelector(".search"),searchInput:document.querySelector(".search__field"),searchResult:document.querySelector(".results"),resultList:document.querySelector(".results__list"),resultPage:document.querySelector(".results__pages"),recipe:document.querySelector(".recipe"),shopping:document.querySelector(".shopping__list"),likesMenu:document.querySelector(".likes__field"),likesList:document.querySelector(".likes__list")},f="loader",d=e=>{e.insertAdjacentHTML("afterbegin",'\n      <div class="loader">\n         <svg>\n            <use href="img/icons.svg#icon-cw"></use>\n         </svg>\n      </div>\n   ')},h=()=>{const e=document.querySelector(`.${f}`);e&&e.parentElement.removeChild(e)},m=()=>{p.resultList.innerHTML="",p.resultPage.innerHTML=""},g=(e,t=17)=>{const n=[];return e.length>t?(e.split(" ").reduce((e,r)=>(e+r.length<=t&&n.push(r),e+r.length),0),`${n.join(" ")}...`):e},v=e=>{const t=`\n      <li>\n         <a class="likes__link" href="#${e.recipe_id}">\n            <figure class="likes__fig">\n               <img src="${e.image_url}" alt="${e.title}">\n            </figure>\n            <div class="likes__data">\n               <h4 class="likes__name">${g(e.title)}</h4>\n               <p class="likes__author">${e.publisher}</p>\n            </div>\n         </a>\n      </li>\n   `;p.resultList.insertAdjacentHTML("beforeend",t)},_=(e,t)=>`\n   <button class="btn-inline results__btn--${t}" data-goto=${"prev"===t?e-1:e+1}>\n      <span>Page${"prev"===t?e-1:e+1}</span>\n      <svg class="search__icon">\n         <use href="img/icons.svg#icon-triangle-${"prev"===t?"left":"right"}"></use>\n      </svg>\n   </button>\n`,y=(e,t=1,n=10)=>{const r=(t-1)*n,i=t*n;e.slice(r,i).forEach(v),((e,t,n)=>{const r=Math.ceil(t/n);let i;1===e&&r>1?i=_(e,"next"):e<r?i=`${_(e,"prev")}${_(e,"next")}`:e===r&&r>1&&(i=_(e,"prev")),p.resultPage.insertAdjacentHTML("afterbegin",i)})(t,e.length,n)};var b=n(2);const w=e=>{if(e){const[t,n]=e.toString().split(".").map(e=>parseInt(e,10));if(!n)return e;if(0===t){const t=new b.Fraction(e);return`${t.numerator}/${t.denominator}`}{const n=new b.Fraction(e-t);return`${t} ${n.numerator}/${n.denominator}`}}return"?"},x=(e,t)=>{const n=`\n      <figure class="recipe__fig">\n         <img src="${e.img}" alt="${e.title}" class="recipe__img">\n         <h1 class="recipe__title">\n            <span>${e.title}</span>\n         </h1>\n      </figure>\n\n      <div class="recipe__details">\n         <div class="recipe__info">\n            <svg class="recipe__info-icon">\n               <use href="img/icons.svg#icon-stopwatch"></use>\n            </svg>\n            <span class="recipe__info-data recipe__info-data--minutes">${e.time}</span>\n            <span class="recipe__info-text"> minutes</span>\n         </div>\n         <div class="recipe__info">\n            <svg class="recipe__info-icon">\n               <use href="img/icons.svg#icon-man"></use>\n            </svg>\n            <span class="recipe__info-data recipe__info-data--people">${e.servings}</span>\n            <span class="recipe__info-text"> servings</span>\n\n            <div class="recipe__info-buttons">\n               <button class="btn-tiny btn-decrease">\n                  <svg>\n                     <use href="img/icons.svg#icon-circle-with-minus"></use>\n                  </svg>\n               </button>\n               <button class="btn-tiny btn-increase">\n                  <svg>\n                     <use href="img/icons.svg#icon-circle-with-plus"></use>\n                  </svg>\n               </button>\n            </div>\n         </div>\n         <button class="recipe__love">\n            <svg class="header__likes">\n               <use href="img/icons.svg#icon-heart${t?"":"-outlined"}"></use>\n            </svg>\n         </button>\n      </div>\n\n      <div class="recipe__ingredients">\n         <ul class="recipe__ingredient-list">\n            ${e.ingredients.map(e=>{return`\n   <li class="recipe__item">\n      <svg class="recipe__icon">\n            <use href="img/icons.svg#icon-check"></use>\n      </svg>\n      <div class="recipe__count">${w((t=e).count)}</div>\n      <div class="recipe__ingredient">\n         <span class="recipe__unit">${t.unit}</span>\n         ${t.ingredient} \n      </div>\n   </li>\n`;var t}).join("")};\n            \n         </ul>\n\n         <button class="btn-small recipe__btn recipe__btn--add">\n            <svg class="search__icon">\n               <use href="img/icons.svg#icon-shopping-cart"></use>\n            </svg>\n            <span>Add to shopping list</span>\n         </button>\n      </div>\n\n      <div class="recipe__directions">\n         <h2 class="heading-2">How to cook it</h2>\n         <p class="recipe__directions-text">\n            This recipe was carefully designed and tested by\n            <span class="recipe__by">${e.author}</span>. Please check out directions at their website.\n         </p>\n         <a class="btn-small recipe__btn" href="${e.url}" target="_blank">\n            <span>Directions</span>\n            <svg class="search__icon">\n               <use href="img/icons.svg#icon-triangle-right"></use>\n            </svg>\n         </a>\n      </div>  \n   `;p.recipe.insertAdjacentHTML("afterbegin",n)},k=e=>{document.querySelector(".recipe__info-data--people").textContent=e.servings,Array.from(document.querySelectorAll(".recipe__count")).forEach((t,n)=>{t.textContent=w(e.ingredients[n].count)})},S=e=>{const t=e?"icon-heart":"icon-heart-outlined";document.querySelector(".recipe__love use").setAttribute("href",`img/icons.svg#${t}`)},E=e=>{p.likesMenu.style.visibility=e>0?"visible":"hidden"},L=e=>{const t=`\n      <li>\n         <a class="likes__link" href="#${e.id}">\n            <figure class="likes__fig">\n               <img src="${e.img}" alt="${e.title}">\n            </figure>\n            <div class="likes__data">\n               <h4 class="likes__name">${g(e.title)}</h4>\n               <p class="likes__author">${e.author}</p>\n            </div>\n         </a>\n      </li>\n   `;p.likesList.insertAdjacentHTML("beforeend",t)},T={},j=async()=>{const e=p.searchInput.value;if(e){T.search=new o(e),p.searchInput.value="",m(),d(p.searchResult);try{await T.search.getResults(),h(),y(T.search.result)}catch(e){alert("Something went wrong with the search...")}}};p.searchForm.addEventListener("submit",e=>{e.preventDefault(),j()}),p.searchResult.addEventListener("click",e=>{const t=e.target.closest(".btn-inline");if(t){const e=parseInt(t.dataset.goto,10);m(),y(T.search.result,e)}});const I=async()=>{const e=window.location.hash.replace("#","");if(e){p.recipe.innerHTML="",d(p.recipe),T.search&&(e=>{Array.from(document.querySelectorAll(".results__link--active")).forEach(e=>{e.classList.remove("results__link--active")}),document.querySelector(`a[href="#${e}"]`).classList.add("results__link--active")})(e),T.recipe=new s.a(e);try{await T.recipe.getRecipe(),T.recipe.parseIngredients(),T.recipe.calcTime(),T.recipe.calcServings(),h(),x(T.recipe,T.likes.isLiked(e)),console.log(T.recipe)}catch(e){console.log(e),alert("Error processing recipe!")}}};["hashchange","load"].forEach(e=>window.addEventListener(e,I));const F=()=>{T.list||(T.list=new u),T.recipe.ingredients.forEach(e=>{(e=>{const t=`\n      <li class="shopping__item" data-itemid=${e.id}>\n         <div class="shopping__count">\n            <input type="number" value="${e.count}" step="${e.count}" class="shopping__count-value"> \n            <p>${e.unit}</p>\n         </div>\n         <p class="shopping__description">${e.ingredient}</p>\n         <button class="shopping__delete btn-tiny">\n            <svg>\n               <use href="img/icons.svg#icon-circle-with-cross"></use>\n            </svg>\n         </button>\n      </li>\n   `;p.shopping.insertAdjacentHTML("beforeend",t)})(T.list.addItem(e.count,e.unit,e.ingredient))})};p.shopping.addEventListener("click",e=>{const t=e.target.closest(".shopping__item").dataset.itemid;if(e.target.matches(".shopping__delete, .shopping__delete *"))T.list.deleteItem(t),(e=>{const t=document.querySelector(`[data-itemid="${e}"]`);t&&t.parentElement.removeChild(t)})(t);else if(e.target.matches(".shpping__count-value")){const n=parseFloat(e.target.value,10);T.list.updateCount(t,n)}});const C=()=>{T.likes||(T.likes=new l);const e=T.recipe.id;if(T.likes.isLiked(e))T.likes.deleteLike(e),S(!1),(e=>{const t=document.querySelector(`.likes__link[href*="${e}"]`).parentElement;t&&t.parentElement.removeChild(t)})(e);else{const t=T.likes.addLike(e,T.recipe.title,T.recipe.author,T.recipe.img);S(!0),L(t)}E(T.likes.getNumLikes())};window.addEventListener("load",()=>{T.likes=new l,T.likes.readStorageData(),E(T.likes.getNumLikes()),T.likes.likes.forEach(e=>L(e))}),p.recipe.addEventListener("click",e=>{e.target.matches(".btn-decrease, .btn-decrease *")?T.recipe.servings>1&&(T.recipe.updateServings("dec"),k(T.recipe)):e.target.matches(".btn-increase, .btn-increase *")?(T.recipe.updateServings("inc"),k(T.recipe)):e.target.matches(".recipe__btn--add, .recipe__btn--add *")?F():e.target.matches(".recipe__love, .recipe__love *")&&C()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZyYWN0aW9uYWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL2lzQ2FuY2VsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvY3JlYXRlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL21lcmdlQ29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kZWxzL1JlY2lwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5pcWlkL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvdHJhbnNmb3JtRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9lbmhhbmNlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2J1aWxkRnVsbFBhdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWxUb2tlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9tb2RlbHMvU2VhcmNoLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9tb2RlbHMvTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kZWxzL0xpa2VzLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy92aWV3cy9iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy92aWV3cy9zZWFyY2hWaWV3LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy92aWV3cy9yZWNpcGVWaWV3LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy92aWV3cy9saWtlc1ZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy92aWV3cy9saXN0Vmlldy5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInRvU3RyaW5nIiwiaXNBcnJheSIsInZhbCIsImlzVW5kZWZpbmVkIiwiaXNPYmplY3QiLCJpc0Z1bmN0aW9uIiwiZm9yRWFjaCIsIm9iaiIsImZuIiwibGVuZ3RoIiwiaXNBcnJheUJ1ZmZlciIsImlzQnVmZmVyIiwiY29uc3RydWN0b3IiLCJpc0Zvcm1EYXRhIiwiRm9ybURhdGEiLCJpc0FycmF5QnVmZmVyVmlldyIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwiYnVmZmVyIiwiaXNTdHJpbmciLCJpc051bWJlciIsImlzRGF0ZSIsImlzRmlsZSIsImlzQmxvYiIsImlzU3RyZWFtIiwicGlwZSIsImlzVVJMU2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiaXNTdGFuZGFyZEJyb3dzZXJFbnYiLCJuYXZpZ2F0b3IiLCJwcm9kdWN0Iiwid2luZG93IiwiZG9jdW1lbnQiLCJtZXJnZSIsInJlc3VsdCIsImFzc2lnblZhbHVlIiwiYXJndW1lbnRzIiwiZGVlcE1lcmdlIiwiZXh0ZW5kIiwiYSIsImIiLCJ0aGlzQXJnIiwidHJpbSIsInN0ciIsInJlcGxhY2UiLCJpc0Zsb2F0Iiwicm91bmRUb1BsYWNlcyIsIkZyYWN0aW9uIiwibnVtZXJhdG9yIiwiZGVub21pbmF0b3IiLCJ0aGlzIiwicGFyc2VJbnQiLCJudW0iLCJhcnIiLCJzcGxpdCIsIm1hdGNoIiwiYWRkIiwiZiIsInBhcnNlRmxvYXQiLCJub3JtYWxpemUiLCJjbG9uZSIsIndob2xlcGFydCIsIk1hdGgiLCJmbG9vciIsImNlaWwiLCJwdXNoIiwiYWJzIiwiam9pbiIsInJlc2NhbGUiLCJmYWN0b3IiLCJ0ZCIsInN1YnRyYWN0IiwibXVsdGlwbHkiLCJkaXZpZGUiLCJlcXVhbHMiLCJwbGFjZXMiLCJzY2FsYXIiLCJwb3ciLCJyb3VuZCIsInJvdW5kZWQiLCJzY2FsZXVwIiwiZ2NmIiwiY29tbW9uX2ZhY3RvcnMiLCJmYSIsInByaW1lRmFjdG9ycyIsImZiIiwiaW5kZXhPZiIsInNwbGljZSIsImZhY3RvcnMiLCJfZmFjdG9yIiwiYXJncyIsIkFycmF5IiwiYXBwbHkiLCJ1dGlscyIsImVuY29kZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInVybCIsInBhcmFtcyIsInBhcmFtc1NlcmlhbGl6ZXIiLCJzZXJpYWxpemVkUGFyYW1zIiwicGFydHMiLCJ2IiwidG9JU09TdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwiaGFzaG1hcmtJbmRleCIsInNsaWNlIiwiX19DQU5DRUxfXyIsIm5vcm1hbGl6ZUhlYWRlck5hbWUiLCJERUZBVUxUX0NPTlRFTlRfVFlQRSIsInNldENvbnRlbnRUeXBlSWZVbnNldCIsImhlYWRlcnMiLCJhZGFwdGVyIiwiZGVmYXVsdHMiLCJYTUxIdHRwUmVxdWVzdCIsInByb2Nlc3MiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiZGF0YSIsInRyYW5zZm9ybVJlc3BvbnNlIiwicGFyc2UiLCJlIiwidGltZW91dCIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJtYXhDb250ZW50TGVuZ3RoIiwidmFsaWRhdGVTdGF0dXMiLCJzdGF0dXMiLCJjb21tb24iLCJtZXRob2QiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsIkVycm9yIiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwibGVuIiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsIm5leHRUaWNrIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwic2V0dGxlIiwiYnVpbGRVUkwiLCJidWlsZEZ1bGxQYXRoIiwicGFyc2VIZWFkZXJzIiwiaXNVUkxTYW1lT3JpZ2luIiwiY3JlYXRlRXJyb3IiLCJjb25maWciLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3REYXRhIiwicmVxdWVzdEhlYWRlcnMiLCJyZXF1ZXN0IiwiYXV0aCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJBdXRob3JpemF0aW9uIiwiYnRvYSIsImZ1bGxQYXRoIiwiYmFzZVVSTCIsIm9wZW4iLCJ0b1VwcGVyQ2FzZSIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVVSTCIsInJlc3BvbnNlSGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsIm9uYWJvcnQiLCJvbmVycm9yIiwib250aW1lb3V0IiwidGltZW91dEVycm9yTWVzc2FnZSIsImNvb2tpZXMiLCJ4c3JmVmFsdWUiLCJ3aXRoQ3JlZGVudGlhbHMiLCJyZWFkIiwidW5kZWZpbmVkIiwidG9Mb3dlckNhc2UiLCJzZXRSZXF1ZXN0SGVhZGVyIiwib25Eb3dubG9hZFByb2dyZXNzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uVXBsb2FkUHJvZ3Jlc3MiLCJ1cGxvYWQiLCJjYW5jZWxUb2tlbiIsInByb21pc2UiLCJ0aGVuIiwiY2FuY2VsIiwiYWJvcnQiLCJzZW5kIiwiZW5oYW5jZUVycm9yIiwibWVzc2FnZSIsImNvZGUiLCJlcnJvciIsImNvbmZpZzEiLCJjb25maWcyIiwidmFsdWVGcm9tQ29uZmlnMktleXMiLCJtZXJnZURlZXBQcm9wZXJ0aWVzS2V5cyIsImRlZmF1bHRUb0NvbmZpZzJLZXlzIiwicHJvcCIsImF4aW9zS2V5cyIsIm90aGVyS2V5cyIsImtleXMiLCJmaWx0ZXIiLCJDYW5jZWwiLCJSZWNpcGUiLCJpZCIsInJlcyIsInJlY2lwZSIsImF1dGhvciIsInB1Ymxpc2hlciIsImltZyIsImltYWdlX3VybCIsInNvdXJjZV91cmwiLCJpbmdyZWRpZW50cyIsImNvbnNvbGUiLCJsb2ciLCJhbGVydCIsIm51bUluZyIsInBlcmlvZHMiLCJ0aW1lIiwic2VydmluZ3MiLCJ1bml0c0dldCIsInVuaXRzVXNlIiwidW5pdHMiLCJuZXdJbmdyZWRpZW50cyIsIm1hcCIsImVsIiwiaW5ncmVkaWVudCIsInVuaXQiLCJhcnJJbmciLCJ1bml0SW5kZXgiLCJmaW5kSW5kZXgiLCJlbDEiLCJpbmNsdWRlcyIsIm9iakluZyIsImFyckNvdW50IiwiY291bnQiLCJldmFsIiwidHlwZSIsIm5ld1NlcnZpbmdzIiwiaW5nIiwicGlkIiwibm93IiwiRGF0ZSIsImxhc3QiLCJkZWZhdWx0IiwicHJlZml4Iiwic3VmZml4IiwiQXhpb3MiLCJtZXJnZUNvbmZpZyIsImNyZWF0ZUluc3RhbmNlIiwiZGVmYXVsdENvbmZpZyIsImNvbnRleHQiLCJpbnN0YW5jZSIsImF4aW9zIiwiaW5zdGFuY2VDb25maWciLCJDYW5jZWxUb2tlbiIsImlzQ2FuY2VsIiwiYWxsIiwicHJvbWlzZXMiLCJzcHJlYWQiLCJJbnRlcmNlcHRvck1hbmFnZXIiLCJkaXNwYXRjaFJlcXVlc3QiLCJpbnRlcmNlcHRvcnMiLCJjaGFpbiIsImludGVyY2VwdG9yIiwidW5zaGlmdCIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwic2hpZnQiLCJnZXRVcmkiLCJoYW5kbGVycyIsInVzZSIsImVqZWN0IiwiaCIsInRyYW5zZm9ybURhdGEiLCJ0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwidGhyb3dJZlJlcXVlc3RlZCIsInJlYXNvbiIsImZucyIsIm5vcm1hbGl6ZWROYW1lIiwiaXNBeGlvc0Vycm9yIiwidG9KU09OIiwiZGVzY3JpcHRpb24iLCJudW1iZXIiLCJmaWxlTmFtZSIsImxpbmVOdW1iZXIiLCJjb2x1bW5OdW1iZXIiLCJzdGFjayIsImlzQWJzb2x1dGVVUkwiLCJjb21iaW5lVVJMcyIsInJlcXVlc3RlZFVSTCIsInRlc3QiLCJyZWxhdGl2ZVVSTCIsImlnbm9yZUR1cGxpY2F0ZU9mIiwicGFyc2VkIiwibGluZSIsInN1YnN0ciIsIm9yaWdpblVSTCIsIm1zaWUiLCJ1c2VyQWdlbnQiLCJ1cmxQYXJzaW5nTm9kZSIsImNyZWF0ZUVsZW1lbnQiLCJyZXNvbHZlVVJMIiwiaHJlZiIsInNldEF0dHJpYnV0ZSIsInByb3RvY29sIiwiaG9zdCIsInNlYXJjaCIsImhhc2giLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsImNoYXJBdCIsImxvY2F0aW9uIiwicmVxdWVzdFVSTCIsIndyaXRlIiwiZXhwaXJlcyIsInBhdGgiLCJkb21haW4iLCJzZWN1cmUiLCJjb29raWUiLCJ0b0dNVFN0cmluZyIsIlJlZ0V4cCIsImRlY29kZVVSSUNvbXBvbmVudCIsInJlbW92ZSIsImV4ZWN1dG9yIiwiVHlwZUVycm9yIiwicmVzb2x2ZVByb21pc2UiLCJ0b2tlbiIsInNvdXJjZSIsImNhbGxiYWNrIiwicXVlcnkiLCJyZWNpcGVzIiwiaXRlbXMiLCJpdGVtIiwiaW5kZXgiLCJuZXdDb3VudCIsImZpbmQiLCJMaWtlcyIsImxpa2VzIiwibGlrZSIsInBlcnNpc3REYXRhIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInN0b3JhZ2UiLCJnZXRJdGVtIiwic2VhcmNoRm9ybSIsInF1ZXJ5U2VsZWN0b3IiLCJzZWFyY2hJbnB1dCIsInNlYXJjaFJlc3VsdCIsInJlc3VsdExpc3QiLCJyZXN1bHRQYWdlIiwic2hvcHBpbmciLCJsaWtlc01lbnUiLCJsaWtlc0xpc3QiLCJlbGVtZW50U3RpbmdzIiwicmVuZGVyTG9hZGVyIiwicGFyZW50IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiY2xlYXJMb2FkZXIiLCJsb2FkZXIiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJjbGVhclJlc3VsdHMiLCJpbm5lckhUTUwiLCJsaW1pdFJlY2lwZVRpdGxlIiwibGltaXQiLCJuZXdUaXRsZSIsInJlZHVjZSIsImFjYyIsImN1ciIsInJlbmRlclJlY2lwZSIsIm1hcmt1cCIsInJlY2lwZV9pZCIsImNyZWF0ZUJ1dHRvbiIsInBhZ2UiLCJyZW5kZXJSZXN1bHRzIiwicmVzUGVyUGFnZSIsInN0YXJ0IiwiZW5kIiwibnVtUmVzdWx0cyIsInBhZ2VzIiwiYnV0dG9uIiwicmVuZGVyQnV0dG9ucyIsImZvcm1hdENvdW50IiwiaW50IiwiZGVjIiwiZnIiLCJpc0xpa2VkIiwiY3JlYXRlSW5ncmVkaWVudCIsInVwZGF0ZUluZ0NvdW50IiwidGV4dENvbnRlbnQiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInRvZ2dsZUxpa2VCdG4iLCJpY29uU3RyaW5nIiwidG9nZ2xlTGlrZU1lbnUiLCJudW1MaWtlcyIsInN0eWxlIiwidmlzaWJpbGl0eSIsInJlbmRlckxpa2UiLCJzdGF0ZSIsImNvbnRyb2xTZWFyY2giLCJhc3luYyIsImdldFJlc3VsdHMiLCJlcnIiLCJwcmV2ZW50RGVmYXVsdCIsImJ0biIsInRhcmdldCIsImNsb3Nlc3QiLCJnb1RvUGFnZSIsImRhdGFzZXQiLCJnb3RvIiwiY29udHJvbFJlY2lwZSIsImVsMiIsImNsYXNzTGlzdCIsImdldFJlY2lwZSIsInBhcnNlSW5ncmVkaWVudHMiLCJjYWxjVGltZSIsImNhbGNTZXJ2aW5ncyIsImV2ZW50IiwiY29udHJvbExpc3QiLCJsaXN0IiwiYWRkSXRlbSIsIml0ZW1pZCIsIm1hdGNoZXMiLCJkZWxldGVJdGVtIiwidXBkYXRlQ291bnQiLCJjb250cm9sTGlrZSIsImN1cnJlbnRJRCIsImRlbGV0ZUxpa2UiLCJuZXdMaWtlIiwiYWRkTGlrZSIsImdldE51bUxpa2VzIiwicmVhZFN0b3JhZ2VEYXRhIiwidXBkYXRlU2VydmluZ3MiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNs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NkosY0FDN0R4SSxHQUFJQSxFQUFHd0ksY0FBY0MsWUFBWXpJLElDdUlsQyxDQUFxQjRNLE9BdkJhLENBRWxDLE1BQU1FLEVBQVU5QixFQUFNOUQsTUFBTTZGLFFBQ3pCSCxFQUNBNUIsRUFBTW5NLE9BQU8zRixNQUNiOFIsRUFBTW5NLE9BQU9DLE9BQ2JrTSxFQUFNbk0sT0FBT0csS0FHaEIsR0FBd0IsR0FHeEIsRUFBcUI4TixHQWF6QixFQUF5QjlCLEVBQU05RCxNQUFNOEYsZ0JBSXZDeGIsT0FBTzBMLGlCQUFpQixPQUFRLEtBQzdCOE4sRUFBTTlELE1BQVEsSUFBSUQsRUFHbEIrRCxFQUFNOUQsTUFBTStGLGtCQUdaLEVBQXlCakMsRUFBTTlELE1BQU04RixlQUdyQ2hDLEVBQU05RCxNQUFNQSxNQUFNblgsUUFBUW9YLEdBQVEsRUFBcUJBLE1BSzFELEVBQVN0SSxPQUFPM0IsaUJBQWlCLFFBQVNqRyxJQUNuQ0EsRUFBRXNVLE9BQU9pQixRQUFRLGtDQUVkeEIsRUFBTW5NLE9BQU9hLFNBQVcsSUFDekJzTCxFQUFNbk0sT0FBT3FPLGVBQWUsT0FDNUIsRUFBMEJsQyxFQUFNbk0sU0FFM0I1SCxFQUFFc1UsT0FBT2lCLFFBQVEsbUNBRXpCeEIsRUFBTW5NLE9BQU9xTyxlQUFlLE9BQzVCLEVBQTBCbEMsRUFBTW5NLFNBQ3hCNUgsRUFBRXNVLE9BQU9pQixRQUFRLDBDQUV6QkosSUFDUW5WLEVBQUVzVSxPQUFPaUIsUUFBUSxtQ0FFekJHIiwiZmlsZSI6ImpzL2J1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzMCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcblxuLypnbG9iYWwgdG9TdHJpbmc6dHJ1ZSovXG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQnVmZmVyKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwpICYmIHZhbC5jb25zdHJ1Y3RvciAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsLmNvbnN0cnVjdG9yKVxuICAgICYmIHR5cGVvZiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgdmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWwpIHtcbiAgcmV0dXJuICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnKSAmJiAodmFsIGluc3RhbmNlb2YgRm9ybURhdGEpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmICh2YWwuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcic7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGaWxlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCbG9iKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsKSB7XG4gIHJldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXM7XG59XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKS5yZXBsYWNlKC9cXHMqJC8sICcnKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG4gKiBuYXRpdmVzY3JpcHRcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnTmF0aXZlU2NyaXB0JyBvciAnTlMnXG4gKi9cbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgKG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdOYXRpdmVTY3JpcHQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdOUycpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG4gICk7XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiBlcXVhbCB0byBtZXJnZSB3aXRoIHRoZSBkaWZmZXJlbmNlIGJlaW5nIHRoYXQgbm8gcmVmZXJlbmNlXG4gKiB0byBvcmlnaW5hbCBvYmplY3RzIGlzIGtlcHQuXG4gKlxuICogQHNlZSBtZXJnZVxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gZGVlcE1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKHt9LCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuICovXG5mdW5jdGlvbiBleHRlbmQoYSwgYiwgdGhpc0FyZykge1xuICBmb3JFYWNoKGIsIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHRoaXNBcmcgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhW2tleV0gPSB2YWw7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0FycmF5OiBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyOiBpc0FycmF5QnVmZmVyLFxuICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gIGlzRm9ybURhdGE6IGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3OiBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkLFxuICBpc0RhdGU6IGlzRGF0ZSxcbiAgaXNGaWxlOiBpc0ZpbGUsXG4gIGlzQmxvYjogaXNCbG9iLFxuICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbTogaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zOiBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNTdGFuZGFyZEJyb3dzZXJFbnY6IGlzU3RhbmRhcmRCcm93c2VyRW52LFxuICBmb3JFYWNoOiBmb3JFYWNoLFxuICBtZXJnZTogbWVyZ2UsXG4gIGRlZXBNZXJnZTogZGVlcE1lcmdlLFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdHJpbTogdHJpbVxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTsiLCIvKlxuZnJhY3Rpb24uanNcbkEgSmF2YXNjcmlwdCBmcmFjdGlvbiBsaWJyYXJ5LlxuXG5Db3B5cmlnaHQgKGMpIDIwMDkgIEVyaWsgR2Fycmlzb24gPGVyaWtAaHlwZXJ2b2x1Lm1lPlxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG5USEUgU09GVFdBUkUuXG5cbiovXG5cblxuLyogRnJhY3Rpb25zICovXG4vKiBcbiAqXG4gKiBGcmFjdGlvbiBvYmplY3RzIGFyZSBjb21wcmlzZWQgb2YgYSBudW1lcmF0b3IgYW5kIGEgZGVub21lbmF0b3IuICBUaGVzZVxuICogdmFsdWVzIGNhbiBiZSBhY2Nlc3NlZCBhdCBmcmFjdGlvbi5udW1lcmF0b3IgYW5kIGZyYWN0aW9uLmRlbm9tZW5hdG9yLlxuICpcbiAqIEZyYWN0aW9ucyBhcmUgYWx3YXlzIHJldHVybmVkIGFuZCBzdG9yZWQgaW4gbG93ZXN0LWZvcm0gbm9ybWFsaXplZCBmb3JtYXQuXG4gKiBUaGlzIGlzIGFjY29tcGxpc2hlZCB2aWEgRnJhY3Rpb24ubm9ybWFsaXplLlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbnMgb24gZnJhY3Rpb25zIGFyZSBzdXBwb3J0ZWQ6XG4gKlxuICogRnJhY3Rpb24uZXF1YWxzXG4gKiBGcmFjdGlvbi5hZGRcbiAqIEZyYWN0aW9uLnN1YnRyYWN0XG4gKiBGcmFjdGlvbi5tdWx0aXBseVxuICogRnJhY3Rpb24uZGl2aWRlXG4gKlxuICogVGhlc2Ugb3BlcmF0aW9ucyBhY2NlcHQgYm90aCBudW1iZXJzIGFuZCBmcmFjdGlvbiBvYmplY3RzLiAgKEJlc3QgcmVzdWx0c1xuICogYXJlIGd1YXJhbnRlZWQgd2hlbiB0aGUgaW5wdXQgaXMgYSBmcmFjdGlvbiBvYmplY3QuKSAgVGhleSBhbGwgcmV0dXJuIGEgbmV3XG4gKiBGcmFjdGlvbiBvYmplY3QuXG4gKlxuICogVXNhZ2U6XG4gKlxuICogVE9ET1xuICpcbiAqL1xuXG4vKlxuICogVGhlIEZyYWN0aW9uIGNvbnN0cnVjdG9yIHRha2VzIG9uZSBvZjpcbiAqICAgYW4gZXhwbGljaXQgbnVtZXJhdG9yIChpbnRlZ2VyKSBhbmQgZGVub21pbmF0b3IgKGludGVnZXIpLFxuICogICBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZnJhY3Rpb24gKHN0cmluZyksXG4gKiAgIG9yIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIChmbG9hdClcbiAqXG4gKiBUaGVzZSBpbml0aWFsaXphdGlvbiBtZXRob2RzIGFyZSBwcm92aWRlZCBmb3IgY29udmVuaWVuY2UuICBCZWNhdXNlIG9mXG4gKiByb3VuZGluZyBpc3N1ZXMgdGhlIGJlc3QgcmVzdWx0cyB3aWxsIGJlIGdpdmVuIHdoZW4gdGhlIGZyYWN0aW9uIGlzXG4gKiBjb25zdHJ1Y3RlZCBmcm9tIGFuIGV4cGxpY2l0IGludGVnZXIgbnVtZXJhdG9yIGFuZCBkZW5vbWVuYXRvciwgYW5kIG5vdCBhXG4gKiBkZWNpbWFsIG51bWJlci5cbiAqXG4gKlxuICogZS5nLiBuZXcgRnJhY3Rpb24oMSwgMikgLS0+IDEvMlxuICogICAgICBuZXcgRnJhY3Rpb24oJzEvMicpIC0tPiAxLzJcbiAqICAgICAgbmV3IEZyYWN0aW9uKCcyIDMvNCcpIC0tPiAxMS80ICAocHJpbnRzIGFzIDIgMy80KVxuICpcbiAqL1xuRnJhY3Rpb24gPSBmdW5jdGlvbihudW1lcmF0b3IsIGRlbm9taW5hdG9yKVxue1xuICAgIC8qIGRvdWJsZSBhcmd1bWVudCBpbnZvY2F0aW9uICovXG4gICAgaWYgKHR5cGVvZiBudW1lcmF0b3IgIT09ICd1bmRlZmluZWQnICYmIGRlbm9taW5hdG9yKSB7XG4gICAgICAgIGlmICh0eXBlb2YobnVtZXJhdG9yKSA9PT0gJ251bWJlcicgJiYgdHlwZW9mKGRlbm9taW5hdG9yKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMubnVtZXJhdG9yID0gbnVtZXJhdG9yO1xuICAgICAgICAgICAgdGhpcy5kZW5vbWluYXRvciA9IGRlbm9taW5hdG9yO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihudW1lcmF0b3IpID09PSAnc3RyaW5nJyAmJiB0eXBlb2YoZGVub21pbmF0b3IpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gd2hhdCBhcmUgdGhleT9cbiAgICAgICAgICAgIC8vIGhtbS4uLi5cbiAgICAgICAgICAgIC8vIGFzc3VtZSB0aGV5IGFyZSBpbnRzP1xuICAgICAgICAgICAgdGhpcy5udW1lcmF0b3IgPSBwYXJzZUludChudW1lcmF0b3IpO1xuICAgICAgICAgICAgdGhpcy5kZW5vbWluYXRvciA9IHBhcnNlSW50KGRlbm9taW5hdG9yKTtcbiAgICAgICAgfVxuICAgIC8qIHNpbmdsZS1hcmd1bWVudCBpbnZvY2F0aW9uICovXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVub21pbmF0b3IgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG51bSA9IG51bWVyYXRvcjsgLy8gc3dhcCB2YXJpYWJsZSBuYW1lcyBmb3IgbGVnaWJpbGl0eVxuICAgICAgICBpZiAodHlwZW9mKG51bSkgPT09ICdudW1iZXInKSB7ICAvLyBqdXN0IGEgc3RyYWlnaHQgbnVtYmVyIGluaXRcbiAgICAgICAgICAgIHRoaXMubnVtZXJhdG9yID0gbnVtO1xuICAgICAgICAgICAgdGhpcy5kZW5vbWluYXRvciA9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKG51bSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgYSwgYjsgIC8vIGhvbGQgdGhlIGZpcnN0IGFuZCBzZWNvbmQgcGFydCBvZiB0aGUgZnJhY3Rpb24sIGUuZy4gYSA9ICcxJyBhbmQgYiA9ICcyLzMnIGluIDEgMi8zXG4gICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIGEgPSAnMi8zJyBhbmQgYiA9IHVuZGVmaW5lZCBpZiB3ZSBhcmUganVzdCBwYXNzZWQgYSBzaW5nbGUtcGFydCBudW1iZXJcbiAgICAgICAgICAgIHZhciBhcnIgPSBudW0uc3BsaXQoJyAnKVxuICAgICAgICAgICAgaWYgKGFyclswXSkgYSA9IGFyclswXVxuICAgICAgICAgICAgaWYgKGFyclsxXSkgYiA9IGFyclsxXVxuICAgICAgICAgICAgLyogY29tcG91bmQgZnJhY3Rpb24gZS5nLiAnQSBCL0MnICovXG4gICAgICAgICAgICAvLyAgaWYgYSBpcyBhbiBpbnRlZ2VyIC4uLlxuICAgICAgICAgICAgaWYgKGEgJSAxID09PSAwICYmIGIgJiYgYi5tYXRjaCgnLycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChuZXcgRnJhY3Rpb24oYSkpLmFkZChuZXcgRnJhY3Rpb24oYikpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhICYmICFiKSB7XG4gICAgICAgICAgICAgICAgLyogc2ltcGxlIGZyYWN0aW9uIGUuZy4gJ0EvQicgKi9cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGEpID09PSAnc3RyaW5nJyAmJiBhLm1hdGNoKCcvJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBub3QgYSB3aG9sZSBudW1iZXIuLi4gaXQncyBhY3R1YWxseSBhIGZyYWN0aW9uIHdpdGhvdXQgYSB3aG9sZSBwYXJ0IHdyaXR0ZW5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSBhLnNwbGl0KCcvJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubnVtZXJhdG9yID0gZlswXTsgdGhpcy5kZW5vbWluYXRvciA9IGZbMV07XG4gICAgICAgICAgICAgICAgLyogc3RyaW5nIGZsb2F0aW5nIHBvaW50ICovXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoYSkgPT09ICdzdHJpbmcnICYmIGEubWF0Y2goJ1xcLicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24ocGFyc2VGbG9hdChhKSk7XG4gICAgICAgICAgICAgICAgLyogd2hvbGUgbnVtYmVyIGUuZy4gJ0EnICovXG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8ganVzdCBwYXNzZWQgYSB3aG9sZSBudW1iZXIgYXMgYSBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5udW1lcmF0b3IgPSBwYXJzZUludChhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZW5vbWluYXRvciA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOyAvLyBjb3VsZCBub3QgcGFyc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm5vcm1hbGl6ZSgpO1xufVxuXG5cbkZyYWN0aW9uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKClcbntcbiAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXMubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKTtcbn1cblxuXG4vKiBwcmV0dHktcHJpbnRlciwgY29udmVydHMgZnJhY3Rpb25zIGludG8gd2hvbGUgbnVtYmVycyBhbmQgZnJhY3Rpb25zICovXG5GcmFjdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpXG57XG4gICAgaWYgKHRoaXMuZGVub21pbmF0b3I9PT0nTmFOJykgcmV0dXJuICdOYU4nXG4gICAgdmFyIHdob2xlcGFydCA9ICh0aGlzLm51bWVyYXRvci90aGlzLmRlbm9taW5hdG9yPjApID9cbiAgICAgIE1hdGguZmxvb3IodGhpcy5udW1lcmF0b3IgLyB0aGlzLmRlbm9taW5hdG9yKSA6XG4gICAgICBNYXRoLmNlaWwodGhpcy5udW1lcmF0b3IgLyB0aGlzLmRlbm9taW5hdG9yKVxuICAgIHZhciBudW1lcmF0b3IgPSB0aGlzLm51bWVyYXRvciAlIHRoaXMuZGVub21pbmF0b3IgXG4gICAgdmFyIGRlbm9taW5hdG9yID0gdGhpcy5kZW5vbWluYXRvcjtcbiAgICB2YXIgcmVzdWx0ID0gW107IFxuICAgIGlmICh3aG9sZXBhcnQgIT0gMCkgIFxuICAgICAgICByZXN1bHQucHVzaCh3aG9sZXBhcnQpO1xuICAgIGlmIChudW1lcmF0b3IgIT0gMCkgIFxuICAgICAgICByZXN1bHQucHVzaCgoKHdob2xlcGFydD09PTApID8gbnVtZXJhdG9yIDogTWF0aC5hYnMobnVtZXJhdG9yKSkgKyAnLycgKyBkZW5vbWluYXRvcik7XG4gICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPiAwID8gcmVzdWx0LmpvaW4oJyAnKSA6IDA7XG59XG5cblxuLyogZGVzdHJ1Y3RpdmVseSByZXNjYWxlIHRoZSBmcmFjdGlvbiBieSBzb21lIGludGVncmFsIGZhY3RvciAqL1xuRnJhY3Rpb24ucHJvdG90eXBlLnJlc2NhbGUgPSBmdW5jdGlvbihmYWN0b3IpXG57XG4gICAgdGhpcy5udW1lcmF0b3IgKj0gZmFjdG9yO1xuICAgIHRoaXMuZGVub21pbmF0b3IgKj0gZmFjdG9yO1xuICAgIHJldHVybiB0aGlzO1xufVxuXG5cbkZyYWN0aW9uLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihiKVxue1xuICAgIHZhciBhID0gdGhpcy5jbG9uZSgpO1xuICAgIGlmIChiIGluc3RhbmNlb2YgRnJhY3Rpb24pIHtcbiAgICAgICAgYiA9IGIuY2xvbmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBiID0gbmV3IEZyYWN0aW9uKGIpO1xuICAgIH1cbiAgICB0ZCA9IGEuZGVub21pbmF0b3I7XG4gICAgYS5yZXNjYWxlKGIuZGVub21pbmF0b3IpO1xuICAgIGIucmVzY2FsZSh0ZCk7XG5cbiAgICBhLm51bWVyYXRvciArPSBiLm51bWVyYXRvcjtcblxuICAgIHJldHVybiBhLm5vcm1hbGl6ZSgpO1xufVxuXG5cbkZyYWN0aW9uLnByb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uKGIpXG57XG4gICAgdmFyIGEgPSB0aGlzLmNsb25lKCk7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBGcmFjdGlvbikge1xuICAgICAgICBiID0gYi5jbG9uZSgpOyAgLy8gd2Ugc2NhbGUgb3VyIGFyZ3VtZW50IGRlc3RydWN0aXZlbHksIHNvIGNsb25lXG4gICAgfSBlbHNlIHtcbiAgICAgICAgYiA9IG5ldyBGcmFjdGlvbihiKTtcbiAgICB9XG4gICAgdGQgPSBhLmRlbm9taW5hdG9yO1xuICAgIGEucmVzY2FsZShiLmRlbm9taW5hdG9yKTtcbiAgICBiLnJlc2NhbGUodGQpO1xuXG4gICAgYS5udW1lcmF0b3IgLT0gYi5udW1lcmF0b3I7XG5cbiAgICByZXR1cm4gYS5ub3JtYWxpemUoKTtcbn1cblxuXG5GcmFjdGlvbi5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbihiKVxue1xuICAgIHZhciBhID0gdGhpcy5jbG9uZSgpO1xuICAgIGlmIChiIGluc3RhbmNlb2YgRnJhY3Rpb24pXG4gICAge1xuICAgICAgICBhLm51bWVyYXRvciAqPSBiLm51bWVyYXRvcjtcbiAgICAgICAgYS5kZW5vbWluYXRvciAqPSBiLmRlbm9taW5hdG9yO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGIgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGEubnVtZXJhdG9yICo9IGI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGEubXVsdGlwbHkobmV3IEZyYWN0aW9uKGIpKTtcbiAgICB9XG4gICAgcmV0dXJuIGEubm9ybWFsaXplKCk7XG59XG5cbkZyYWN0aW9uLnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbihiKVxue1xuICAgIHZhciBhID0gdGhpcy5jbG9uZSgpO1xuICAgIGlmIChiIGluc3RhbmNlb2YgRnJhY3Rpb24pXG4gICAge1xuICAgICAgICBhLm51bWVyYXRvciAqPSBiLmRlbm9taW5hdG9yO1xuICAgICAgICBhLmRlbm9taW5hdG9yICo9IGIubnVtZXJhdG9yO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGIgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGEuZGVub21pbmF0b3IgKj0gYjtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYS5kaXZpZGUobmV3IEZyYWN0aW9uKGIpKTtcbiAgICB9XG4gICAgcmV0dXJuIGEubm9ybWFsaXplKCk7XG59XG5cbkZyYWN0aW9uLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbihiKVxue1xuICAgIGlmICghKGIgaW5zdGFuY2VvZiBGcmFjdGlvbikpIHtcbiAgICAgICAgYiA9IG5ldyBGcmFjdGlvbihiKTtcbiAgICB9XG4gICAgLy8gZnJhY3Rpb25zIHRoYXQgYXJlIGVxdWFsIHNob3VsZCBoYXZlIGVxdWFsIG5vcm1hbGl6ZWQgZm9ybXNcbiAgICB2YXIgYSA9IHRoaXMuY2xvbmUoKS5ub3JtYWxpemUoKTtcbiAgICB2YXIgYiA9IGIuY2xvbmUoKS5ub3JtYWxpemUoKTtcbiAgICByZXR1cm4gKGEubnVtZXJhdG9yID09PSBiLm51bWVyYXRvciAmJiBhLmRlbm9taW5hdG9yID09PSBiLmRlbm9taW5hdG9yKTtcbn1cblxuXG4vKiBVdGlsaXR5IGZ1bmN0aW9ucyAqL1xuXG4vKiBEZXN0cnVjdGl2ZWx5IG5vcm1hbGl6ZSB0aGUgZnJhY3Rpb24gdG8gaXRzIHNtYWxsZXN0IHJlcHJlc2VudGF0aW9uLiBcbiAqIGUuZy4gNC8xNiAtPiAxLzQsIDE0LzI4IC0+IDEvMiwgZXRjLlxuICogVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgYWxsIG1hdGggb3BzLlxuICovXG5GcmFjdGlvbi5wcm90b3R5cGUubm9ybWFsaXplID0gKGZ1bmN0aW9uKClcbntcblxuICAgIHZhciBpc0Zsb2F0ID0gZnVuY3Rpb24obilcbiAgICB7XG4gICAgICAgIHJldHVybiAodHlwZW9mKG4pID09PSAnbnVtYmVyJyAmJiBcbiAgICAgICAgICAgICAgICAoKG4gPiAwICYmIG4gJSAxID4gMCAmJiBuICUgMSA8IDEpIHx8IFxuICAgICAgICAgICAgICAgICAobiA8IDAgJiYgbiAlIC0xIDwgMCAmJiBuICUgLTEgPiAtMSkpXG4gICAgICAgICAgICAgICApO1xuICAgIH1cblxuICAgIHZhciByb3VuZFRvUGxhY2VzID0gZnVuY3Rpb24obiwgcGxhY2VzKSBcbiAgICB7XG4gICAgICAgIGlmICghcGxhY2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzY2FsYXIgPSBNYXRoLnBvdygxMCwgcGxhY2VzKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG4qc2NhbGFyKS9zY2FsYXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgICAgIFxuICAgIHJldHVybiAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgLy8gWFhYIGhhY2tpc2guICBJcyB0aGVyZSBhIGJldHRlciB3YXkgdG8gYWRkcmVzcyB0aGlzIGlzc3VlP1xuICAgICAgICAvL1xuICAgICAgICAvKiBmaXJzdCBjaGVjayBpZiB3ZSBoYXZlIGRlY2ltYWxzLCBhbmQgaWYgd2UgZG8gZWxpbWluYXRlIHRoZW1cbiAgICAgICAgICogbXVsdGlwbHkgYnkgdGhlIDEwIF4gbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIGluIHRoZSBudW1iZXJcbiAgICAgICAgICogcm91bmQgdGhlIG51bWJlciB0byBuaW5lIGRlY2ltYWwgcGxhY2VzXG4gICAgICAgICAqIHRvIGF2b2lkIGpzIGZsb2F0aW5nIHBvaW50IGZ1bm5pZXNcbiAgICAgICAgICovXG4gICAgICAgIGlmIChpc0Zsb2F0KHRoaXMuZGVub21pbmF0b3IpKSB7XG4gICAgICAgICAgICB2YXIgcm91bmRlZCA9IHJvdW5kVG9QbGFjZXModGhpcy5kZW5vbWluYXRvciwgOSk7XG4gICAgICAgICAgICB2YXIgc2NhbGV1cCA9IE1hdGgucG93KDEwLCByb3VuZGVkLnRvU3RyaW5nKCkuc3BsaXQoJy4nKVsxXS5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5kZW5vbWluYXRvciA9IE1hdGgucm91bmQodGhpcy5kZW5vbWluYXRvciAqIHNjYWxldXApOyAvLyB0aGlzICEhISBzaG91bGQgYmUgYSB3aG9sZSBudW1iZXJcbiAgICAgICAgICAgIC8vdGhpcy5udW1lcmF0b3IgKj0gc2NhbGV1cDtcbiAgICAgICAgICAgIHRoaXMubnVtZXJhdG9yICo9IHNjYWxldXA7XG4gICAgICAgIH0gXG4gICAgICAgIGlmIChpc0Zsb2F0KHRoaXMubnVtZXJhdG9yKSkge1xuICAgICAgICAgICAgdmFyIHJvdW5kZWQgPSByb3VuZFRvUGxhY2VzKHRoaXMubnVtZXJhdG9yLCA5KTtcbiAgICAgICAgICAgIHZhciBzY2FsZXVwID0gTWF0aC5wb3coMTAsIHJvdW5kZWQudG9TdHJpbmcoKS5zcGxpdCgnLicpWzFdLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLm51bWVyYXRvciA9IE1hdGgucm91bmQodGhpcy5udW1lcmF0b3IgKiBzY2FsZXVwKTsgLy8gdGhpcyAhISEgc2hvdWxkIGJlIGEgd2hvbGUgbnVtYmVyXG4gICAgICAgICAgICAvL3RoaXMubnVtZXJhdG9yICo9IHNjYWxldXA7XG4gICAgICAgICAgICB0aGlzLmRlbm9taW5hdG9yICo9IHNjYWxldXA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdjZiA9IEZyYWN0aW9uLmdjZih0aGlzLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvcik7XG4gICAgICAgIHRoaXMubnVtZXJhdG9yIC89IGdjZjtcbiAgICAgICAgdGhpcy5kZW5vbWluYXRvciAvPSBnY2Y7XG4gICAgICAgIGlmICgodGhpcy5udW1lcmF0b3IgPCAwICYmIHRoaXMuZGVub21pbmF0b3IgPCAwKSB8fCAodGhpcy5udW1lcmF0b3IgPiAwICYmIHRoaXMuZGVub21pbmF0b3IgPCAwKSkge1xuICAgICAgICAgICAgdGhpcy5udW1lcmF0b3IgKj0gLTE7XG4gICAgICAgICAgICB0aGlzLmRlbm9taW5hdG9yICo9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuXG59KSgpO1xuXG5cbi8qIFRha2VzIHR3byBudW1iZXJzIGFuZCByZXR1cm5zIHRoZWlyIGdyZWF0ZXN0IGNvbW1vbiBmYWN0b3IuXG4gKi9cbkZyYWN0aW9uLmdjZiA9IGZ1bmN0aW9uKGEsIGIpXG57XG5cbiAgICB2YXIgY29tbW9uX2ZhY3RvcnMgPSBbXTtcbiAgICB2YXIgZmEgPSBGcmFjdGlvbi5wcmltZUZhY3RvcnMoYSk7XG4gICAgdmFyIGZiID0gRnJhY3Rpb24ucHJpbWVGYWN0b3JzKGIpO1xuICAgIC8vIGZvciBlYWNoIGZhY3RvciBpbiBmYVxuICAgIC8vIGlmIGl0J3MgYWxzbyBpbiBmYlxuICAgIC8vIHB1dCBpdCBpbnRvIHRoZSBjb21tb24gZmFjdG9yc1xuICAgIGZhLmZvckVhY2goZnVuY3Rpb24gKGZhY3RvcikgXG4gICAgeyBcbiAgICAgICAgdmFyIGkgPSBmYi5pbmRleE9mKGZhY3Rvcik7XG4gICAgICAgIGlmIChpID49IDApIHtcbiAgICAgICAgICAgIGNvbW1vbl9mYWN0b3JzLnB1c2goZmFjdG9yKTtcbiAgICAgICAgICAgIGZiLnNwbGljZShpLDEpOyAvLyByZW1vdmUgZnJvbSBmYlxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoY29tbW9uX2ZhY3RvcnMubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gMTtcblxuICAgIHZhciBnY2YgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByID0gY29tbW9uX2ZhY3RvcnNbMF07XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGk9MTtpPGNvbW1vbl9mYWN0b3JzLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHIgPSByICogY29tbW9uX2ZhY3RvcnNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfSkoKTtcblxuICAgIHJldHVybiBnY2Y7XG5cbn07XG5cblxuLy8gQWRhcHRlZCBmcm9tOiBcbi8vIGh0dHA6Ly93d3cuYnRpbnRlcm5ldC5jb20vfnNlMTYvanMvZmFjdG9yLmh0bVxuRnJhY3Rpb24ucHJpbWVGYWN0b3JzID0gZnVuY3Rpb24obikgXG57XG5cbiAgICB2YXIgbnVtID0gTWF0aC5hYnMobik7XG4gICAgdmFyIGZhY3RvcnMgPSBbXTtcbiAgICB2YXIgX2ZhY3RvciA9IDI7ICAvLyBmaXJzdCBwb3RlbnRpYWwgcHJpbWUgZmFjdG9yXG5cbiAgICB3aGlsZSAoX2ZhY3RvciAqIF9mYWN0b3IgPD0gbnVtKSAgLy8gc2hvdWxkIHdlIGtlZXAgbG9va2luZyBmb3IgZmFjdG9ycz9cbiAgICB7ICAgICAgXG4gICAgICBpZiAobnVtICUgX2ZhY3RvciA9PT0gMCkgIC8vIHRoaXMgaXMgYSBmYWN0b3JcbiAgICAgICAgeyBcbiAgICAgICAgICAgIGZhY3RvcnMucHVzaChfZmFjdG9yKTsgIC8vIHNvIGtlZXAgaXRcbiAgICAgICAgICAgIG51bSA9IG51bS9fZmFjdG9yOyAgLy8gYW5kIGRpdmlkZSBvdXIgc2VhcmNoIHBvaW50IGJ5IGl0XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBfZmFjdG9yKys7ICAvLyBhbmQgaW5jcmVtZW50XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobnVtICE9IDEpICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbnl0aGluZyBsZWZ0IGF0IHRoZSBlbmQuLi5cbiAgICB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi50aGlzIG11c3QgYmUgdGhlIGxhc3QgcHJpbWUgZmFjdG9yXG4gICAgICAgIGZhY3RvcnMucHVzaChudW0pOyAgICAgICAgICAgLy8gICAgc28gaXQgdG9vIHNob3VsZCBiZSByZWNvcmRlZFxuICAgIH1cblxuICAgIHJldHVybiBmYWN0b3JzOyAgICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgcHJpbWUgZmFjdG9yc1xufVxuXG5tb2R1bGUuZXhwb3J0cy5GcmFjdGlvbiA9IEZyYWN0aW9uXG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHZhciBoYXNobWFya0luZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG5cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMveGhyJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxudmFyIGRlZmF1bHRzID0ge1xuICBhZGFwdGVyOiBnZXREZWZhdWx0QWRhcHRlcigpLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdBY2NlcHQnKTtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdDb250ZW50LVR5cGUnKTtcbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgLyoqXG4gICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuICAgKi9cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfVxufTtcblxuZGVmYXVsdHMuaGVhZGVycyA9IHtcbiAgY29tbW9uOiB7XG4gICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0gdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdHM7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgc2V0dGxlID0gcmVxdWlyZSgnLi8uLi9jb3JlL3NldHRsZScpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2J1aWxkVVJMJyk7XG52YXIgYnVpbGRGdWxsUGF0aCA9IHJlcXVpcmUoJy4uL2NvcmUvYnVpbGRGdWxsUGF0aCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKGNvbmZpZy5hdXRoKSB7XG4gICAgICB2YXIgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcbiAgICAgIHZhciBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkIHx8ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICB2YXIgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG4gICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgaWYgKCFyZXF1ZXN0IHx8IHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG4gICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFjb25maWcucmVzcG9uc2VUeXBlIHx8IGNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgY29uZmlnLCAnRUNPTk5BQk9SVEVEJywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignTmV0d29yayBFcnJvcicsIGNvbmZpZywgbnVsbCwgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICB2YXIgdGltZW91dEVycm9yTWVzc2FnZSA9ICd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCc7XG4gICAgICBpZiAoY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSA9IGNvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKHRpbWVvdXRFcnJvck1lc3NhZ2UsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGZ1bGxQYXRoKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cbiAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcud2l0aENyZWRlbnRpYWxzKSkge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSAhIWNvbmZpZy53aXRoQ3JlZGVudGlhbHM7XG4gICAgfVxuXG4gICAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIEV4cGVjdGVkIERPTUV4Y2VwdGlvbiB0aHJvd24gYnkgYnJvd3NlcnMgbm90IGNvbXBhdGlibGUgWE1MSHR0cFJlcXVlc3QgTGV2ZWwgMi5cbiAgICAgICAgLy8gQnV0LCB0aGlzIGNhbiBiZSBzdXBwcmVzc2VkIGZvciAnanNvbicgdHlwZSBhcyBpdCBjYW4gYmUgcGFyc2VkIGJ5IGRlZmF1bHQgJ3RyYW5zZm9ybVJlc3BvbnNlJyBmdW5jdGlvbi5cbiAgICAgICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25Eb3dubG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nICYmIHJlcXVlc3QudXBsb2FkKSB7XG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgICAvLyBIYW5kbGUgY2FuY2VsbGF0aW9uXG4gICAgICBjb25maWcuY2FuY2VsVG9rZW4ucHJvbWlzZS50aGVuKGZ1bmN0aW9uIG9uQ2FuY2VsZWQoY2FuY2VsKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgcmVqZWN0KGNhbmNlbCk7XG4gICAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocmVxdWVzdERhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVxdWVzdERhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgICByZXF1ZXN0LnNlbmQocmVxdWVzdERhdGEpO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBlbmhhbmNlRXJyb3IgPSByZXF1aXJlKCcuL2VuaGFuY2VFcnJvcicpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVFcnJvcihtZXNzYWdlLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgdmFyIGNvbmZpZyA9IHt9O1xuXG4gIHZhciB2YWx1ZUZyb21Db25maWcyS2V5cyA9IFsndXJsJywgJ21ldGhvZCcsICdwYXJhbXMnLCAnZGF0YSddO1xuICB2YXIgbWVyZ2VEZWVwUHJvcGVydGllc0tleXMgPSBbJ2hlYWRlcnMnLCAnYXV0aCcsICdwcm94eSddO1xuICB2YXIgZGVmYXVsdFRvQ29uZmlnMktleXMgPSBbXG4gICAgJ2Jhc2VVUkwnLCAndXJsJywgJ3RyYW5zZm9ybVJlcXVlc3QnLCAndHJhbnNmb3JtUmVzcG9uc2UnLCAncGFyYW1zU2VyaWFsaXplcicsXG4gICAgJ3RpbWVvdXQnLCAnd2l0aENyZWRlbnRpYWxzJywgJ2FkYXB0ZXInLCAncmVzcG9uc2VUeXBlJywgJ3hzcmZDb29raWVOYW1lJyxcbiAgICAneHNyZkhlYWRlck5hbWUnLCAnb25VcGxvYWRQcm9ncmVzcycsICdvbkRvd25sb2FkUHJvZ3Jlc3MnLFxuICAgICdtYXhDb250ZW50TGVuZ3RoJywgJ3ZhbGlkYXRlU3RhdHVzJywgJ21heFJlZGlyZWN0cycsICdodHRwQWdlbnQnLFxuICAgICdodHRwc0FnZW50JywgJ2NhbmNlbFRva2VuJywgJ3NvY2tldFBhdGgnXG4gIF07XG5cbiAgdXRpbHMuZm9yRWFjaCh2YWx1ZUZyb21Db25maWcyS2V5cywgZnVuY3Rpb24gdmFsdWVGcm9tQ29uZmlnMihwcm9wKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcyW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMltwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2gobWVyZ2VEZWVwUHJvcGVydGllc0tleXMsIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMocHJvcCkge1xuICAgIGlmICh1dGlscy5pc09iamVjdChjb25maWcyW3Byb3BdKSkge1xuICAgICAgY29uZmlnW3Byb3BdID0gdXRpbHMuZGVlcE1lcmdlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QoY29uZmlnMVtwcm9wXSkpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IHV0aWxzLmRlZXBNZXJnZShjb25maWcxW3Byb3BdKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcxW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMVtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2goZGVmYXVsdFRvQ29uZmlnMktleXMsIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIocHJvcCkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMVtwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzFbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICB2YXIgYXhpb3NLZXlzID0gdmFsdWVGcm9tQ29uZmlnMktleXNcbiAgICAuY29uY2F0KG1lcmdlRGVlcFByb3BlcnRpZXNLZXlzKVxuICAgIC5jb25jYXQoZGVmYXVsdFRvQ29uZmlnMktleXMpO1xuXG4gIHZhciBvdGhlcktleXMgPSBPYmplY3RcbiAgICAua2V5cyhjb25maWcyKVxuICAgIC5maWx0ZXIoZnVuY3Rpb24gZmlsdGVyQXhpb3NLZXlzKGtleSkge1xuICAgICAgcmV0dXJuIGF4aW9zS2V5cy5pbmRleE9mKGtleSkgPT09IC0xO1xuICAgIH0pO1xuXG4gIHV0aWxzLmZvckVhY2gob3RoZXJLZXlzLCBmdW5jdGlvbiBvdGhlcktleXNEZWZhdWx0VG9Db25maWcyKHByb3ApIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzFbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcxW3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNvbmZpZztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQSBgQ2FuY2VsYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbChtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbkNhbmNlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdDYW5jZWwnICsgKHRoaXMubWVzc2FnZSA/ICc6ICcgKyB0aGlzLm1lc3NhZ2UgOiAnJyk7XG59O1xuXG5DYW5jZWwucHJvdG90eXBlLl9fQ0FOQ0VMX18gPSB0cnVlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbDtcbiIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG4vLyBpbXBvcnQgeyBrZXksIHByb3h5IH0gZnJvbSAnLi4vY29uZmlnJztcblxuLy8gUXVlcnkgZm9yIGluZ3JlZGllbnRzIElEIFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVjaXBlIHtcbiAgIGNvbnN0cnVjdG9yKGlkKSB7XG4gICAgICB0aGlzLmlkID0gaWQ7XG4gICB9XG5cbiAgIGFzeW5jIGdldFJlY2lwZSgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcyhgaHR0cHM6Ly9mb3JraWZ5LWFwaS5oZXJva3VhcHAuY29tL2FwaS9nZXQ/cklkPSR7dGhpcy5pZH1gKTtcbiAgICAgICAgIHRoaXMudGl0bGUgPSByZXMuZGF0YS5yZWNpcGUudGl0bGU7XG4gICAgICAgICB0aGlzLmF1dGhvciA9IHJlcy5kYXRhLnJlY2lwZS5wdWJsaXNoZXI7XG4gICAgICAgICB0aGlzLmltZyA9IHJlcy5kYXRhLnJlY2lwZS5pbWFnZV91cmw7XG4gICAgICAgICB0aGlzLnVybCA9IHJlcy5kYXRhLnJlY2lwZS5zb3VyY2VfdXJsO1xuICAgICAgICAgdGhpcy5pbmdyZWRpZW50cyA9IHJlcy5kYXRhLnJlY2lwZS5pbmdyZWRpZW50cztcbiAgICAgICAgIFxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgIGFsZXJ0KCdTb21ldGhpbmcgd2VudCB3cm9uZyA6KCcpO1xuICAgICAgfVxuICAgfVxuXG4gICBjYWxjVGltZSgpIHtcbiAgICAgIGNvbnN0IG51bUluZyA9IHRoaXMuaW5ncmVkaWVudHMubGVuZ3RoO1xuICAgICAgY29uc3QgcGVyaW9kcyA9IE1hdGguY2VpbChudW1JbmcgLyAzKTtcbiAgICAgIHRoaXMudGltZSA9IHBlcmlvZHMgKiAxNTtcbiAgIH1cblxuICAgY2FsY1NlcnZpbmdzKCkge1xuICAgICAgdGhpcy5zZXJ2aW5ncyA9IDQ7XG4gICB9XG4gICBcbiAgIHBhcnNlSW5ncmVkaWVudHMoKSB7XG4gICAgICBjb25zdCB1bml0c0dldCA9IFsndGFibGVzcG9vbnMnLCAndGFibGVzcG9vbicsICdvdW5jZXMnLCAnb3VuY2UnLCAndGVhc3Bvb25zJywgJ3RlYXNwb29uJywgJ2N1cHMnLCAncG91bmRzJywgJ2phcnMnLCAnamFyJywgJ2Nsb3ZlcycsICdjbG92ZScsICd3aG9sZSddO1xuICAgICAgY29uc3QgdW5pdHNVc2UgPSBbJ3Ric3AnLCAndGJzcCcsICdveicsICdveicsICd0c3AnLCAndHNwJywgJ2N1cCcsICdwb3VuZCcsICdqYXInLCAnamFyJywgJ2Nsb3ZlJywgJ2Nsb3ZlJywgJ3dob2xlJ107XG4gICAgICBjb25zdCB1bml0cyA9IFsuLi51bml0c1VzZSwgJ2tnJywgJ2cnXVxuXG4gICAgICBjb25zdCBuZXdJbmdyZWRpZW50cyA9IHRoaXMuaW5ncmVkaWVudHMubWFwKGVsID0+IHtcbiAgICAgICAgIC8vIDEuIFVuaWZvcm0gdW5pdHNcbiAgICAgICAgIGxldCBpbmdyZWRpZW50ID0gZWwudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgIHVuaXRzR2V0LmZvckVhY2goKHVuaXQsIGkpID0+IHtcbiAgICAgICAgICAgIGluZ3JlZGllbnQgPSBpbmdyZWRpZW50LnJlcGxhY2UodW5pdCwgdW5pdHNVc2VbaV0pO1xuICAgICAgICAgfSk7XG5cbiAgICAgICAgIC8vIDIuIFJlbW92ZSBwYXJlbnRoZXNlc1xuICAgICAgICAgaW5ncmVkaWVudCA9IGluZ3JlZGllbnQucmVwbGFjZSgvICpcXChbXildKlxcKSAqL2csICcgJyk7XG4gICBcbiAgICAgICAgIC8vIDMuIFBhcnNlIGluZ3JlZGllbnRzIGludG8gY291bnRcbiAgICAgICAgIGNvbnN0IGFyckluZyA9IGluZ3JlZGllbnQuc3BsaXQoJyAnKTtcbiAgICAgICAgIGNvbnN0IHVuaXRJbmRleCA9IGFyckluZy5maW5kSW5kZXgoZWwxID0+IHVuaXRzLmluY2x1ZGVzKGVsMSkpO1xuXG4gICAgICAgICBsZXQgb2JqSW5nO1xuICAgICAgICAgaWYgKHVuaXRJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBhIHVuaXRcbiAgICAgICAgICAgIC8vIEV4LiA0IDEvMiBjdXBzLCBhcnJDb3VudCBpcyBbNCwgMS8yXSAtLT4gZXZhbChcIjQrMS8rMlwiKSAtLT4gNC41XG4gICAgICAgICAgICAvLyBFeC4gNCBjdXBzLCBhcnJDb3VudCBpcyBbNF1cbiAgICAgICAgICAgIGNvbnN0IGFyckNvdW50ID0gYXJySW5nLnNsaWNlKDAsIHVuaXRJbmRleCk7XG4gICAgICAgICAgICBsZXQgY291bnQ7XG4gICAgICAgICAgICBpZiAoYXJyQ291bnQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICBjb3VudCA9IGFyckluZ1swXS5yZXBsYWNlKCctJywgJysnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICBjb3VudCA9IGV2YWwoYXJySW5nIC0gc2xpY2UoMCwgdW5pdEluZGV4KS5qb2luKCcrJykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvYmpJbmcgPSB7XG4gICAgICAgICAgICAgICBjb3VudCxcbiAgICAgICAgICAgICAgIHVuaXQ6IGFyckluZ1t1bml0SW5kZXhdLFxuICAgICAgICAgICAgICAgaW5ncmVkaWVudDogYXJySW5nLnNsaWNlKHVuaXRJbmRleCArIDEpLmpvaW4oJyAnKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgfSBlbHNlIGlmIChwYXJzZUludChhcnJJbmdbMF0sIDEwKSkge1xuICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm8gdW5pdCwgYnV0IDFzdCBlbGVtZW50IGlzIG51bWJlclxuICAgICAgICAgICAgb2JqSW5nID0ge1xuICAgICAgICAgICAgICAgY291bnQ6IHBhcnNlSW50KGFyckluZ1swXSwgMTApLFxuICAgICAgICAgICAgICAgdW5pdDogJycsXG4gICAgICAgICAgICAgICBpbmdyZWRpZW50czogYXJySW5nLnNsaWNlKDEpLmpvaW4oJyAnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgfSBlbHNlIGlmICh1bml0SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBubyB1bml0IGFuZCBubyBudW1iZXIgaW4gMXN0IHBvc2l0aW9uXG4gICAgICAgICAgICBvYmpJbmcgPSB7XG4gICAgICAgICAgICAgICBjb3VudDogMSxcbiAgICAgICAgICAgICAgIHVuaXQ6ICcnLFxuICAgICAgICAgICAgICAgaW5ncmVkaWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgfVxuICAgICAgICAgcmV0dXJuIG9iakluZztcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmluZ3JlZGllbnRzID0gbmV3SW5ncmVkaWVudHM7XG4gICB9XG5cbiAgIHVwZGF0ZVNlcnZpbmdzICh0eXBlKSB7XG4gICAgICAvLyBTZXJ2aW5nc1xuICAgICAgY29uc3QgbmV3U2VydmluZ3MgPSB0eXBlID09PSAnZGVjJyA/IHRoaXMuc2VydmluZ3MgLSAxIDogdGhpcy5zZXJ2aW5ncyArIDE7XG5cbiAgICAgIC8vIEluZ3JlZGllbnRzXG4gICAgICB0aGlzLmluZ3JlZGllbnRzLmZvckVhY2goaW5nID0+IHtcbiAgICAgICAgIGluZy5jb3VudCAqPSAobmV3U2VydmluZ3MgLyB0aGlzLnNlcnZpbmdzKVxuICAgICAgfSk7XG4gICAgICB0aGlzLnNlcnZpbmdzID0gbmV3U2VydmluZ3M7XG4gICB9XG59IiwiLyogXG4oVGhlIE1JVCBMaWNlbnNlKVxuQ29weXJpZ2h0IChjKSAyMDE0LTIwMTkgSGFsw6FzeiDDgWTDoW0gPG1haWxAYWRhbWhhbGFzei5jb20+XG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiovXG5cbi8vICBVbmlxdWUgSGV4YXRyaWRlY2ltYWwgSUQgR2VuZXJhdG9yXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gIERlcGVuZGVuY2llc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG52YXIgcGlkID0gcHJvY2VzcyAmJiBwcm9jZXNzLnBpZCA/IHByb2Nlc3MucGlkLnRvU3RyaW5nKDM2KSA6ICcnIDtcbnZhciBhZGRyZXNzID0gJyc7XG5pZih0eXBlb2YgX193ZWJwYWNrX3JlcXVpcmVfXyAhPT0gJ2Z1bmN0aW9uJyl7XG4gICAgdmFyIG1hYyA9ICcnLCBuZXR3b3JrSW50ZXJmYWNlcyA9IHJlcXVpcmUoJ29zJykubmV0d29ya0ludGVyZmFjZXMoKTtcbiAgICBmb3IobGV0IGludGVyZmFjZV9rZXkgaW4gbmV0d29ya0ludGVyZmFjZXMpe1xuICAgICAgICBjb25zdCBuZXR3b3JrSW50ZXJmYWNlID0gbmV0d29ya0ludGVyZmFjZXNbaW50ZXJmYWNlX2tleV07XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IG5ldHdvcmtJbnRlcmZhY2UubGVuZ3RoO1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgaWYobmV0d29ya0ludGVyZmFjZVtpXS5tYWMgJiYgbmV0d29ya0ludGVyZmFjZVtpXS5tYWMgIT0gJzAwOjAwOjAwOjAwOjAwOjAwJyl7XG4gICAgICAgICAgICAgICAgbWFjID0gbmV0d29ya0ludGVyZmFjZVtpXS5tYWM7IGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFkZHJlc3MgPSBtYWMgPyBwYXJzZUludChtYWMucmVwbGFjZSgvXFw6fFxcRCsvZ2ksICcnKSkudG9TdHJpbmcoMzYpIDogJycgO1xufSBcblxuLy8gIEV4cG9ydHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxubW9kdWxlLmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24ocHJlZml4LCBzdWZmaXgpeyByZXR1cm4gKHByZWZpeCA/IHByZWZpeCA6ICcnKSArIGFkZHJlc3MgKyBwaWQgKyBub3coKS50b1N0cmluZygzNikgKyAoc3VmZml4ID8gc3VmZml4IDogJycpOyB9XG5tb2R1bGUuZXhwb3J0cy5wcm9jZXNzID0gZnVuY3Rpb24ocHJlZml4LCBzdWZmaXgpeyByZXR1cm4gKHByZWZpeCA/IHByZWZpeCA6ICcnKSArIHBpZCArIG5vdygpLnRvU3RyaW5nKDM2KSArIChzdWZmaXggPyBzdWZmaXggOiAnJyk7IH1cbm1vZHVsZS5leHBvcnRzLnRpbWUgICAgPSBmdW5jdGlvbihwcmVmaXgsIHN1ZmZpeCl7IHJldHVybiAocHJlZml4ID8gcHJlZml4IDogJycpICsgbm93KCkudG9TdHJpbmcoMzYpICsgKHN1ZmZpeCA/IHN1ZmZpeCA6ICcnKTsgfVxuXG4vLyAgSGVscGVyc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5mdW5jdGlvbiBub3coKXtcbiAgICB2YXIgdGltZSA9IERhdGUubm93KCk7XG4gICAgdmFyIGxhc3QgPSBub3cubGFzdCB8fCB0aW1lO1xuICAgIHJldHVybiBub3cubGFzdCA9IHRpbWUgPiBsYXN0ID8gdGltZSA6IGxhc3QgKyAxO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgQXhpb3MgPSByZXF1aXJlKCcuL2NvcmUvQXhpb3MnKTtcbnZhciBtZXJnZUNvbmZpZyA9IHJlcXVpcmUoJy4vY29yZS9tZXJnZUNvbmZpZycpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdENvbmZpZykge1xuICB2YXIgY29udGV4dCA9IG5ldyBBeGlvcyhkZWZhdWx0Q29uZmlnKTtcbiAgdmFyIGluc3RhbmNlID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcy5wcm90b3R5cGUsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgY29udGV4dCB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIGNvbnRleHQpO1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG52YXIgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRmFjdG9yeSBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlc1xuYXhpb3MuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGluc3RhbmNlQ29uZmlnKSB7XG4gIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhheGlvcy5kZWZhdWx0cywgaW5zdGFuY2VDb25maWcpKTtcbn07XG5cbi8vIEV4cG9zZSBDYW5jZWwgJiBDYW5jZWxUb2tlblxuYXhpb3MuQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsJyk7XG5heGlvcy5DYW5jZWxUb2tlbiA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbFRva2VuJyk7XG5heGlvcy5pc0NhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL2lzQ2FuY2VsJyk7XG5cbi8vIEV4cG9zZSBhbGwvc3ByZWFkXG5heGlvcy5hbGwgPSBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn07XG5heGlvcy5zcHJlYWQgPSByZXF1aXJlKCcuL2hlbHBlcnMvc3ByZWFkJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXhpb3M7XG5cbi8vIEFsbG93IHVzZSBvZiBkZWZhdWx0IGltcG9ydCBzeW50YXggaW4gVHlwZVNjcmlwdFxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGF4aW9zO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLi9oZWxwZXJzL2J1aWxkVVJMJyk7XG52YXIgSW50ZXJjZXB0b3JNYW5hZ2VyID0gcmVxdWlyZSgnLi9JbnRlcmNlcHRvck1hbmFnZXInKTtcbnZhciBkaXNwYXRjaFJlcXVlc3QgPSByZXF1aXJlKCcuL2Rpc3BhdGNoUmVxdWVzdCcpO1xudmFyIG1lcmdlQ29uZmlnID0gcmVxdWlyZSgnLi9tZXJnZUNvbmZpZycpO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZUNvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBBeGlvcyhpbnN0YW5jZUNvbmZpZykge1xuICB0aGlzLmRlZmF1bHRzID0gaW5zdGFuY2VDb25maWc7XG4gIHRoaXMuaW50ZXJjZXB0b3JzID0ge1xuICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKSxcbiAgICByZXNwb25zZTogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpXG4gIH07XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHNwZWNpZmljIGZvciB0aGlzIHJlcXVlc3QgKG1lcmdlZCB3aXRoIHRoaXMuZGVmYXVsdHMpXG4gKi9cbkF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gcmVxdWVzdChjb25maWcpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIC8vIEFsbG93IGZvciBheGlvcygnZXhhbXBsZS91cmwnWywgY29uZmlnXSkgYSBsYSBmZXRjaCBBUElcbiAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uZmlnID0gYXJndW1lbnRzWzFdIHx8IHt9O1xuICAgIGNvbmZpZy51cmwgPSBhcmd1bWVudHNbMF07XG4gIH0gZWxzZSB7XG4gICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICB9XG5cbiAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcblxuICAvLyBTZXQgY29uZmlnLm1ldGhvZFxuICBpZiAoY29uZmlnLm1ldGhvZCkge1xuICAgIGNvbmZpZy5tZXRob2QgPSBjb25maWcubWV0aG9kLnRvTG93ZXJDYXNlKCk7XG4gIH0gZWxzZSBpZiAodGhpcy5kZWZhdWx0cy5tZXRob2QpIHtcbiAgICBjb25maWcubWV0aG9kID0gdGhpcy5kZWZhdWx0cy5tZXRob2QudG9Mb3dlckNhc2UoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25maWcubWV0aG9kID0gJ2dldCc7XG4gIH1cblxuICAvLyBIb29rIHVwIGludGVyY2VwdG9ycyBtaWRkbGV3YXJlXG4gIHZhciBjaGFpbiA9IFtkaXNwYXRjaFJlcXVlc3QsIHVuZGVmaW5lZF07XG4gIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbmZpZyk7XG5cbiAgdGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIHVuc2hpZnRSZXF1ZXN0SW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4udW5zaGlmdChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiBwdXNoUmVzcG9uc2VJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi5wdXNoKGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB3aGlsZSAoY2hhaW4ubGVuZ3RoKSB7XG4gICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihjaGFpbi5zaGlmdCgpLCBjaGFpbi5zaGlmdCgpKTtcbiAgfVxuXG4gIHJldHVybiBwcm9taXNlO1xufTtcblxuQXhpb3MucHJvdG90eXBlLmdldFVyaSA9IGZ1bmN0aW9uIGdldFVyaShjb25maWcpIHtcbiAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcbiAgcmV0dXJuIGJ1aWxkVVJMKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKS5yZXBsYWNlKC9eXFw/LywgJycpO1xufTtcblxuLy8gUHJvdmlkZSBhbGlhc2VzIGZvciBzdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2RzXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ29wdGlvbnMnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybCxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KSk7XG4gIH07XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBeGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBJbnRlcmNlcHRvck1hbmFnZXIoKSB7XG4gIHRoaXMuaGFuZGxlcnMgPSBbXTtcbn1cblxuLyoqXG4gKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVsZmlsbGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHRoZW5gIGZvciBhIGBQcm9taXNlYFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IEFuIElEIHVzZWQgdG8gcmVtb3ZlIGludGVyY2VwdG9yIGxhdGVyXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcbiAgdGhpcy5oYW5kbGVycy5wdXNoKHtcbiAgICBmdWxmaWxsZWQ6IGZ1bGZpbGxlZCxcbiAgICByZWplY3RlZDogcmVqZWN0ZWRcbiAgfSk7XG4gIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCAtIDE7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbiBpbnRlcmNlcHRvciBmcm9tIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBpZCBUaGUgSUQgdGhhdCB3YXMgcmV0dXJuZWQgYnkgYHVzZWBcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5lamVjdCA9IGZ1bmN0aW9uIGVqZWN0KGlkKSB7XG4gIGlmICh0aGlzLmhhbmRsZXJzW2lkXSkge1xuICAgIHRoaXMuaGFuZGxlcnNbaWRdID0gbnVsbDtcbiAgfVxufTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICpcbiAqIFRoaXMgbWV0aG9kIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHNraXBwaW5nIG92ZXIgYW55XG4gKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBpbnRlcmNlcHRvclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoKGZuKSB7XG4gIHV0aWxzLmZvckVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24gZm9yRWFjaEhhbmRsZXIoaCkge1xuICAgIGlmIChoICE9PSBudWxsKSB7XG4gICAgICBmbihoKTtcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbnRlcmNlcHRvck1hbmFnZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciB0cmFuc2Zvcm1EYXRhID0gcmVxdWlyZSgnLi90cmFuc2Zvcm1EYXRhJyk7XG52YXIgaXNDYW5jZWwgPSByZXF1aXJlKCcuLi9jYW5jZWwvaXNDYW5jZWwnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4uL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3RcbiAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1xuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHRyYW5zZm9ybWVkXG4gKiBAcGFyYW0ge0FycmF5fSBoZWFkZXJzIFRoZSBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdCBvciByZXNwb25zZVxuICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSwgaGVhZGVycywgZm5zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICB1dGlscy5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMpO1xuICB9KTtcblxuICByZXR1cm4gZGF0YTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgfVxuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVFcnJvciA9IHJlcXVpcmUoJy4vY3JlYXRlRXJyb3InKTtcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSkge1xuICB2YXIgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIGlmICghdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChjcmVhdGVFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICBudWxsLFxuICAgICAgcmVzcG9uc2UucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlXG4gICAgKSk7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXBkYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBjb25maWcsIGVycm9yIGNvZGUsIGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJvciBUaGUgZXJyb3IgdG8gdXBkYXRlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgZXJyb3IuY29uZmlnID0gY29uZmlnO1xuICBpZiAoY29kZSkge1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICB9XG5cbiAgZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG4gIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIGVycm9yLmlzQXhpb3NFcnJvciA9IHRydWU7XG5cbiAgZXJyb3IudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFN0YW5kYXJkXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAvLyBNaWNyb3NvZnRcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcbiAgICAgIC8vIE1vemlsbGFcbiAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgICAgLy8gQXhpb3NcbiAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICBjb2RlOiB0aGlzLmNvZGVcbiAgICB9O1xuICB9O1xuICByZXR1cm4gZXJyb3I7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNBYnNvbHV0ZVVSTCA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi4vaGVscGVycy9jb21iaW5lVVJMcycpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgYmFzZVVSTCB3aXRoIHRoZSByZXF1ZXN0ZWRVUkwsXG4gKiBvbmx5IHdoZW4gdGhlIHJlcXVlc3RlZFVSTCBpcyBub3QgYWxyZWFkeSBhbiBhYnNvbHV0ZSBVUkwuXG4gKiBJZiB0aGUgcmVxdWVzdFVSTCBpcyBhYnNvbHV0ZSwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSByZXF1ZXN0ZWRVUkwgdW50b3VjaGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFVSTCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgdG8gY29tYmluZVxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIGZ1bGwgcGF0aFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKSB7XG4gIGlmIChiYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCkpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG4gIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cbiAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuICByZXR1cm4gL14oW2Etel1bYS16XFxkXFwrXFwtXFwuXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIHJlbGF0aXZlVVJMXG4gICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLyskLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcbiAgICA6IGJhc2VVUkw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8vIEhlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG52YXIgaWdub3JlRHVwbGljYXRlT2YgPSBbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0ge307XG4gIHZhciBrZXk7XG4gIHZhciB2YWw7XG4gIHZhciBpO1xuXG4gIGlmICghaGVhZGVycykgeyByZXR1cm4gcGFyc2VkOyB9XG5cbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cigwLCBpKSkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2YuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gKHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gOiBbXSkuY29uY2F0KFt2YWxdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4gIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAgIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICB2YXIgbXNpZSA9IC8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICB2YXIgb3JpZ2luVVJMO1xuXG4gICAgICAvKipcbiAgICAqIFBhcnNlIGEgVVJMIHRvIGRpc2NvdmVyIGl0J3MgY29tcG9uZW50c1xuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWRcbiAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgKi9cbiAgICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICAgIHZhciBocmVmID0gdXJsO1xuXG4gICAgICAgIGlmIChtc2llKSB7XG4gICAgICAgIC8vIElFIG5lZWRzIGF0dHJpYnV0ZSBzZXQgdHdpY2UgdG8gbm9ybWFsaXplIHByb3BlcnRpZXNcbiAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgICAgICAgfVxuXG4gICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgICAgICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcbiAgICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICAgICAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXG4gICAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG4gICAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgICAgLyoqXG4gICAgKiBEZXRlcm1pbmUgaWYgYSBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgY3VycmVudCBsb2NhdGlvblxuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0VVJMIFRoZSBVUkwgdG8gdGVzdFxuICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4sIG90aGVyd2lzZSBmYWxzZVxuICAgICovXG4gICAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgICAgdmFyIHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgICAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVSTC5wcm90b2NvbCAmJlxuICAgICAgICAgICAgcGFyc2VkLmhvc3QgPT09IG9yaWdpblVSTC5ob3N0KTtcbiAgICAgIH07XG4gICAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9O1xuICAgIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICAgIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICAgICAgdmFyIGNvb2tpZSA9IFtdO1xuICAgICAgICAgIGNvb2tpZS5wdXNoKG5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcblxuICAgICAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhwYXRoKSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG5hbWUpIHtcbiAgICAgICAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAgIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7fSxcbiAgICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZCgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICAgIH07XG4gICAgfSkoKVxuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENhbmNlbCA9IHJlcXVpcmUoJy4vQ2FuY2VsJyk7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsVG9rZW4oZXhlY3V0b3IpIHtcbiAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciByZXNvbHZlUHJvbWlzZTtcbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gIH0pO1xuXG4gIHZhciB0b2tlbiA9IHRoaXM7XG4gIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlKSB7XG4gICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbChtZXNzYWdlKTtcbiAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gKi9cbkNhbmNlbFRva2VuLnNvdXJjZSA9IGZ1bmN0aW9uIHNvdXJjZSgpIHtcbiAgdmFyIGNhbmNlbDtcbiAgdmFyIHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICBjYW5jZWwgPSBjO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0b2tlbjogdG9rZW4sXG4gICAgY2FuY2VsOiBjYW5jZWxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsVG9rZW47XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn07XG4iLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuLy8gaW1wb3J0IHsga2V5LCBwcm94eSB9IGZyb20gJy4uL2NvbmZpZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlYXJjaCB7XG4gICBjb25zdHJ1Y3RvcihxdWVyeSkge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5O1xuICAgfVxuXG4gICBhc3luYyBnZXRSZXN1bHRzKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zKGBodHRwczovL2ZvcmtpZnktYXBpLmhlcm9rdWFwcC5jb20vYXBpL3NlYXJjaD8mcT0ke3RoaXMucXVlcnl9YCk7XG4gICAgICAgICB0aGlzLnJlc3VsdCA9IHJlcy5kYXRhLnJlY2lwZXM7XG4gICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgIGFsZXJ0KCdTb21ldGhpbmcgd2VudCB3cm9uZyA6KScpO1xuICAgICAgfVxuICAgfVxufSIsImltcG9ydCB1bmlxaWQgZnJvbSAndW5pcWlkJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlzdCB7XG4gICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAgIH1cblxuICAgYWRkSXRlbShjb3VudCwgdW5pdCwgaW5ncmVkaWVudCkge1xuICAgICAgY29uc3QgaXRlbSA9IHtcbiAgICAgICAgIGlkOiB1bmlxaWQoKSxcbiAgICAgICAgIGNvdW50LFxuICAgICAgICAgdW5pdCxcbiAgICAgICAgIGluZ3JlZGllbnRcbiAgICAgIH1cbiAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTtcbiAgICAgIHJldHVybiBpdGVtO1xuICAgfVxuXG4gICBkZWxldGVJdGVtKGlkKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuaXRlbXMuZmluZEluZGV4KGVsID0+IGVsLmlkID09PSBpZCk7XG5cbiAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgIH1cblxuICAgdXBkYXRlQ291bnQoaWQsIG5ld0NvdW50KSB7XG4gICAgICB0aGlzLml0ZW1zLmZpbmQoZWwgPT4gZWwuaWQgPT09IGlkKS5jb3VudCA9IG5ld0NvdW50O1xuICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIExpa2VzIHtcbiAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy5saWtlcyA9IFtdO1xuICAgfTtcblxuICAgYWRkTGlrZShpZCwgdGl0bGUsIGF1dGhvciwgaW1nKSB7XG4gICAgICBjb25zdCBsaWtlID0geyBpZCwgdGl0bGUsIGF1dGhvciwgaW1nIH07XG4gICAgICB0aGlzLmxpa2VzLnB1c2gobGlrZSk7XG5cbiAgICAgIC8vIFNhdmUgZGF0YSB0byBsb2NhbCBzdG9yYWdlXG4gICAgICB0aGlzLnBlcnNpc3REYXRhKCk7XG4gICAgICByZXR1cm4gbGlrZTtcbiAgIH07XG5cbiAgIGRlbGV0ZUxpa2UoaWQpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saWtlcy5maW5kSW5kZXgoZWwgPT4gZWwuaWQgPT09IGlkKTtcbiAgICAgIHRoaXMubGlrZXMuc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgLy8gVXBkYXRlIGRhdGEgb24gbG9jYWwgc3RvcmFnZVxuICAgICAgdGhpcy5wZXJzaXN0RGF0YSgpO1xuICAgfTtcblxuICAgaXNMaWtlZChpZCkge1xuICAgICAgcmV0dXJuIHRoaXMubGlrZXMuZmluZEluZGV4KGVsID0+IGVsLmlkID09PSBpZCkgIT09IC0xO1xuICAgfTtcblxuICAgZ2V0TnVtTGlrZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5saWtlcy5sZW5ndGg7XG4gICB9O1xuXG4gICAvLyBTYXZlIGRhdGEgYXBwIGRhdGEgdG8gbG9jYWwgc3RvcmFnZVxuICAgcGVyc2lzdERhdGEoKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGlrZXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLmxpa2VzKSk7XG4gICB9O1xuXG4gICAvLyBSZWFkIGRhdGEgZnJvbSBsb2NhbCBzdG9yYWdlXG4gICByZWFkU3RvcmFnZURhdGEoKSB7XG4gICAgICBjb25zdCBzdG9yYWdlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGlrZXMnKSk7XG5cbiAgICAgIC8vIFJlc3RvcmUgbGlrZXMgZnJvbSBsb2NhbCBzdG9yYWdlXG4gICAgICBpZiAoc3RvcmFnZSkgdGhpcy5saWtlcyA9IHN0b3JhZ2U7XG4gICB9XG59O1xuXG4iLCIvLyBNYWtlIERPTSBsZW1lbWVudCBsaXN0IGF2YWlsYWJsZSB0byBleHRlcm5hbCBtb2R1bGVzXG5leHBvcnQgY29uc3QgZWxlbWVudHMgPSB7XG4gICBzZWFyY2hGb3JtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoJyksXG4gICBzZWFyY2hJbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaF9fZmllbGQnKSxcbiAgIHNlYXJjaFJlc3VsdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlc3VsdHMnKSxcbiAgIHJlc3VsdExpc3Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXN1bHRzX19saXN0JyksXG4gICByZXN1bHRQYWdlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzdWx0c19fcGFnZXMnKSxcbiAgIHJlY2lwZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlY2lwZScpLFxuICAgc2hvcHBpbmc6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaG9wcGluZ19fbGlzdCcpLFxuICAgbGlrZXNNZW51OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGlrZXNfX2ZpZWxkJyksXG4gICBsaWtlc0xpc3Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saWtlc19fbGlzdCcpLFxufTtcblxuLy8gbWFrZSBsb2FkZXIgc3RyaW5nIGF2YWlsYWJsZSB0byBleHRlcm5hbCBtb2R1bGVzXG5leHBvcnQgY29uc3QgZWxlbWVudFN0aW5ncyA9IHtcbiAgIGxvYWRlcjogJ2xvYWRlcicsXG59XG5cbi8vIEdlbmVyYXRlIEhUTUwgY2xhc3MgYW5kIGljb24gbG9hZGVyIFxuZXhwb3J0IGNvbnN0IHJlbmRlckxvYWRlciA9IHBhcmVudCA9PiB7XG4gICBjb25zdCBsb2FkZXIgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwibG9hZGVyXCI+XG4gICAgICAgICA8c3ZnPlxuICAgICAgICAgICAgPHVzZSBocmVmPVwiaW1nL2ljb25zLnN2ZyNpY29uLWN3XCI+PC91c2U+XG4gICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgYDtcbiAgIHBhcmVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBsb2FkZXIpO1xufTtcblxuLy8gUmVtb3ZlIHRoZSBsb2FkZXIgcHJvZ3Jlc3MgaWNvblxuZXhwb3J0IGNvbnN0IGNsZWFyTG9hZGVyID0gKCkgPT4ge1xuICAgY29uc3QgbG9hZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7ZWxlbWVudFN0aW5ncy5sb2FkZXJ9YCk7XG4gICBpZiAobG9hZGVyKSBsb2FkZXIucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChsb2FkZXIpO1xufVxuXG4iLCJpbXBvcnQgeyBlbGVtZW50cyB9IGZyb20gJy4vYmFzZSc7XG5cbi8vIFJlYWQgdGhlIGlucHV0IGZpZWxkIHZhbHVlIFxuZXhwb3J0IGNvbnN0IGdldElucHV0ID0gKCkgPT4gZWxlbWVudHMuc2VhcmNoSW5wdXQudmFsdWU7XG5cbi8vIFJlc2V0IHRoZSBpbnB1dCBmaWVsZCBcbmV4cG9ydCBjb25zdCBjbGVhcklucHV0ID0gKCkgPT4ge1xuICAgZWxlbWVudHMuc2VhcmNoSW5wdXQudmFsdWUgPSAnJztcbn07XG5cbi8vIFJlbW92ZSB0aGUgcGFzdCByZXN1bHQgbGlzdFxuZXhwb3J0IGNvbnN0IGNsZWFyUmVzdWx0cyA9ICgpID0+IHtcbiAgIGVsZW1lbnRzLnJlc3VsdExpc3QuaW5uZXJIVE1MID0gJyc7XG4gICBlbGVtZW50cy5yZXN1bHRQYWdlLmlubmVySFRNTCA9ICcnO1xufTtcblxuZXhwb3J0IGNvbnN0IHNlbGVjdGVkQmdDb2xvciA9IGlkID0+IHtcbiAgIGNvbnN0IHJlc3VsdHNBcnIgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXN1bHRzX19saW5rLS1hY3RpdmUnKSk7XG4gICByZXN1bHRzQXJyLmZvckVhY2goZWwyID0+IHtcbiAgICAgIGVsMi5jbGFzc0xpc3QucmVtb3ZlKCdyZXN1bHRzX19saW5rLS1hY3RpdmUnKTtcbiAgIH0pO1xuXG4gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBhW2hyZWY9XCIjJHtpZH1cIl1gKS5jbGFzc0xpc3QuYWRkKCdyZXN1bHRzX19saW5rLS1hY3RpdmUnKTtcbn07XG5cbi8vIFNldCB0aGUgcmVjaXBlcyB0aXRsZXMgdG8gMTcgY2hhcmFjdGVyc1xuZXhwb3J0IGNvbnN0IGxpbWl0UmVjaXBlVGl0bGUgPSAodGl0bGUsIGxpbWl0ID0gMTcpID0+IHtcbiAgIGNvbnN0IG5ld1RpdGxlID0gW107XG4gICBpZiAodGl0bGUubGVuZ3RoID4gbGltaXQpIHtcbiAgICAgIHRpdGxlLnNwbGl0KCcgJykucmVkdWNlKChhY2MsIGN1cikgPT4ge1xuICAgICAgICAgaWYgKGFjYyArIGN1ci5sZW5ndGggPD0gbGltaXQpIHtcbiAgICAgICAgICAgIG5ld1RpdGxlLnB1c2goY3VyKTtcbiAgICAgICAgIH1cbiAgICAgICAgIHJldHVybiBhY2MgKyBjdXIubGVuZ3RoO1xuICAgICAgfSwgMCk7XG5cbiAgICAgIC8vIHJldHVybiB0aGUgcmVzdWx0IHRpdGxlXG4gICByZXR1cm4gYCR7bmV3VGl0bGUuam9pbignICcpfS4uLmA7XG4gICB9XG4gICByZXR1cm4gdGl0bGU7XG59XG5cbi8vIERpc3BsYXkgcmVzdWx0cyBvbiBVSVxuZXhwb3J0IGNvbnN0IHJlbmRlclJlY2lwZSA9IHJlY2lwZSA9PiB7XG4gICBjb25zdCBtYXJrdXAgPSBgXG4gICAgICA8bGk+XG4gICAgICAgICA8YSBjbGFzcz1cImxpa2VzX19saW5rXCIgaHJlZj1cIiMke3JlY2lwZS5yZWNpcGVfaWR9XCI+XG4gICAgICAgICAgICA8ZmlndXJlIGNsYXNzPVwibGlrZXNfX2ZpZ1wiPlxuICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke3JlY2lwZS5pbWFnZV91cmx9XCIgYWx0PVwiJHtyZWNpcGUudGl0bGV9XCI+XG4gICAgICAgICAgICA8L2ZpZ3VyZT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaWtlc19fZGF0YVwiPlxuICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwibGlrZXNfX25hbWVcIj4ke2xpbWl0UmVjaXBlVGl0bGUocmVjaXBlLnRpdGxlKX08L2g0PlxuICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJsaWtlc19fYXV0aG9yXCI+JHtyZWNpcGUucHVibGlzaGVyfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgPC9hPlxuICAgICAgPC9saT5cbiAgIGA7XG4gICBlbGVtZW50cy5yZXN1bHRMaXN0Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgbWFya3VwKTtcbn07XG5cbi8vIFR5cGU6ICdwcmV2JyBvciAnbmV4dCBidXR0b25cbmNvbnN0IGNyZWF0ZUJ1dHRvbiA9IChwYWdlLCB0eXBlKSA9PiBgXG4gICA8YnV0dG9uIGNsYXNzPVwiYnRuLWlubGluZSByZXN1bHRzX19idG4tLSR7dHlwZX1cIiBkYXRhLWdvdG89JHt0eXBlID09PSAncHJldicgPyBwYWdlIC0xIDogcGFnZSArIDF9PlxuICAgICAgPHNwYW4+UGFnZSR7dHlwZSA9PT0gJ3ByZXYnID8gcGFnZSAtIDEgOiBwYWdlICsgMX08L3NwYW4+XG4gICAgICA8c3ZnIGNsYXNzPVwic2VhcmNoX19pY29uXCI+XG4gICAgICAgICA8dXNlIGhyZWY9XCJpbWcvaWNvbnMuc3ZnI2ljb24tdHJpYW5nbGUtJHt0eXBlID09PSAncHJldicgPyAnbGVmdCcgOiAncmlnaHQnfVwiPjwvdXNlPlxuICAgICAgPC9zdmc+XG4gICA8L2J1dHRvbj5cbmA7XG5cbi8vIENoZWNrIGZvciB0aGUgdHlwZSBvZiBidXR0b24gdG8gc2hvd24gaW4gVUlcbmNvbnN0IHJlbmRlckJ1dHRvbnMgPSAocGFnZSwgbnVtUmVzdWx0cywgcmVzUGVyUGFnZSkgPT4ge1xuICAgY29uc3QgcGFnZXMgPSBNYXRoLmNlaWwobnVtUmVzdWx0cyAvIHJlc1BlclBhZ2UpO1xuXG4gICBsZXQgYnV0dG9uO1xuICAgaWYgKHBhZ2UgPT09IDEgJiYgcGFnZXMgPiAxKSB7XG4gICAgICAvLyBCdW50dG9uIHRvIGdvIHRvIG5leHQgcGFnZVxuICAgICAgYnV0dG9uID0gY3JlYXRlQnV0dG9uKHBhZ2UsICduZXh0Jyk7XG4gICB9IGVsc2UgaWYgKHBhZ2UgPCBwYWdlcykge1xuICAgICAgLy8gQm90aCBidXR0b25zXG4gICAgICBidXR0b24gPSBgJHtjcmVhdGVCdXR0b24ocGFnZSwgJ3ByZXYnKX0ke2NyZWF0ZUJ1dHRvbihwYWdlLCAnbmV4dCcpfWA7XG5cbiAgIH0gZWxzZSBpZiAocGFnZSA9PT0gcGFnZXMgJiYgcGFnZXMgPiAxKSB7XG4gICAgICAvLyBPbmx5IHByZXYgcGFnZSBidXR0b25cbiAgICAgIGJ1dHRvbiA9IGNyZWF0ZUJ1dHRvbihwYWdlLCAncHJldicpO1xuICAgfVxuXG4gICBlbGVtZW50cy5yZXN1bHRQYWdlLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGJ1dHRvbik7XG59O1xuXG4vLyBJdGVyYXRlIHRob3VnaCByZXN1bHQgbGlzdCBcbmV4cG9ydCBjb25zdCByZW5kZXJSZXN1bHRzID0gKHJlY2lwZXMsIHBhZ2UgPSAxLCByZXNQZXJQYWdlID0gMTApID0+IHtcbiAgIC8vIHJlbmRlciByZXN1bHQgb2YgY3VycmVudCBwYWdlXG4gICBjb25zdCBzdGFydCA9IChwYWdlIC0gMSkgKiByZXNQZXJQYWdlO1xuICAgY29uc3QgZW5kID0gcGFnZSAqIHJlc1BlclBhZ2U7XG4gICBcbiAgIHJlY2lwZXMuc2xpY2Uoc3RhcnQsIGVuZCkuZm9yRWFjaChyZW5kZXJSZWNpcGUpO1xuXG4gICAvLyBjYWxsIHJlbmRlciBidXR0b25zXG4gICByZW5kZXJCdXR0b25zKHBhZ2UsIHJlY2lwZXMubGVuZ3RoLCByZXNQZXJQYWdlKTtcbn07IiwiaW1wb3J0IHsgZWxlbWVudHMgfSBmcm9tICcuL2Jhc2UnO1xuaW1wb3J0IHsgRnJhY3Rpb24gfSBmcm9tICdmcmFjdGlvbmFsJztcblxuZXhwb3J0IGNvbnN0IGNsZWFyUmVjaXBlID0gKCkgPT4ge1xuICAgZWxlbWVudHMucmVjaXBlLmlubmVySFRNTCA9ICcnO1xufTtcblxuLy8gXG5jb25zdCBmb3JtYXRDb3VudCA9IGNvdW50ID0+IHtcbiAgIGlmIChjb3VudCkge1xuICAgICAgLy8gRXguIGNvdW50ID0gMi41ID0+IDIgMS8yXG4gICAgICAvLyBFeC4gY291bnQgPSAwLjUgPT4gMS8yXG4gICAgICAvLyBjb25zdCBuZXdDb3VudCA9IE1hdGgucm91bmQoY291bnQgKiAxMDAwMCkgLyAxMDAwMDsgLy8gRGlkIG5vdCB3b3JrIGZvciBtZVxuICAgICAgY29uc3QgW2ludCwgZGVjXSA9IGNvdW50LnRvU3RyaW5nKCkuc3BsaXQoJy4nKS5tYXAoZWwgPT4gcGFyc2VJbnQoZWwsIDEwKSk7XG5cbiAgICAgIGlmICghZGVjKSByZXR1cm4gY291bnQ7XG5cbiAgICAgIGlmIChpbnQgPT09IDApIHtcbiAgICAgICAgIGNvbnN0IGZyID0gbmV3IEZyYWN0aW9uKGNvdW50KTtcbiAgICAgICAgIHJldHVybiBgJHtmci5udW1lcmF0b3J9LyR7ZnIuZGVub21pbmF0b3J9YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICBjb25zdCBmciA9IG5ldyBGcmFjdGlvbihjb3VudCAtIGludCk7XG4gICAgICAgICByZXR1cm4gYCR7aW50fSAke2ZyLm51bWVyYXRvcn0vJHtmci5kZW5vbWluYXRvcn1gO1xuICAgICAgfVxuICAgfVxuICAgcmV0dXJuICc/Jztcbn07XG5cbmNvbnN0IGNyZWF0ZUluZ3JlZGllbnQgPSBpbmdyZWRpZW50ID0+IGBcbiAgIDxsaSBjbGFzcz1cInJlY2lwZV9faXRlbVwiPlxuICAgICAgPHN2ZyBjbGFzcz1cInJlY2lwZV9faWNvblwiPlxuICAgICAgICAgICAgPHVzZSBocmVmPVwiaW1nL2ljb25zLnN2ZyNpY29uLWNoZWNrXCI+PC91c2U+XG4gICAgICA8L3N2Zz5cbiAgICAgIDxkaXYgY2xhc3M9XCJyZWNpcGVfX2NvdW50XCI+JHtmb3JtYXRDb3VudChpbmdyZWRpZW50LmNvdW50KX08L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJyZWNpcGVfX2luZ3JlZGllbnRcIj5cbiAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVjaXBlX191bml0XCI+JHtpbmdyZWRpZW50LnVuaXR9PC9zcGFuPlxuICAgICAgICAgJHtpbmdyZWRpZW50LmluZ3JlZGllbnR9IFxuICAgICAgPC9kaXY+XG4gICA8L2xpPlxuYDtcbmV4cG9ydCBjb25zdCByZW5kZXJSZWNpcGUgPSAocmVjaXBlLCBpc0xpa2VkKSA9PiB7XG4gICBjb25zdCBtYXJrdXAgPSBgXG4gICAgICA8ZmlndXJlIGNsYXNzPVwicmVjaXBlX19maWdcIj5cbiAgICAgICAgIDxpbWcgc3JjPVwiJHtyZWNpcGUuaW1nfVwiIGFsdD1cIiR7cmVjaXBlLnRpdGxlfVwiIGNsYXNzPVwicmVjaXBlX19pbWdcIj5cbiAgICAgICAgIDxoMSBjbGFzcz1cInJlY2lwZV9fdGl0bGVcIj5cbiAgICAgICAgICAgIDxzcGFuPiR7cmVjaXBlLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgIDwvaDE+XG4gICAgICA8L2ZpZ3VyZT5cblxuICAgICAgPGRpdiBjbGFzcz1cInJlY2lwZV9fZGV0YWlsc1wiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2lwZV9faW5mb1wiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInJlY2lwZV9faW5mby1pY29uXCI+XG4gICAgICAgICAgICAgICA8dXNlIGhyZWY9XCJpbWcvaWNvbnMuc3ZnI2ljb24tc3RvcHdhdGNoXCI+PC91c2U+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVjaXBlX19pbmZvLWRhdGEgcmVjaXBlX19pbmZvLWRhdGEtLW1pbnV0ZXNcIj4ke3JlY2lwZS50aW1lfTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVjaXBlX19pbmZvLXRleHRcIj4gbWludXRlczwvc3Bhbj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2lwZV9faW5mb1wiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInJlY2lwZV9faW5mby1pY29uXCI+XG4gICAgICAgICAgICAgICA8dXNlIGhyZWY9XCJpbWcvaWNvbnMuc3ZnI2ljb24tbWFuXCI+PC91c2U+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVjaXBlX19pbmZvLWRhdGEgcmVjaXBlX19pbmZvLWRhdGEtLXBlb3BsZVwiPiR7cmVjaXBlLnNlcnZpbmdzfTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVjaXBlX19pbmZvLXRleHRcIj4gc2VydmluZ3M8L3NwYW4+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWNpcGVfX2luZm8tYnV0dG9uc1wiPlxuICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi10aW55IGJ0bi1kZWNyZWFzZVwiPlxuICAgICAgICAgICAgICAgICAgPHN2Zz5cbiAgICAgICAgICAgICAgICAgICAgIDx1c2UgaHJlZj1cImltZy9pY29ucy5zdmcjaWNvbi1jaXJjbGUtd2l0aC1taW51c1wiPjwvdXNlPlxuICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tdGlueSBidG4taW5jcmVhc2VcIj5cbiAgICAgICAgICAgICAgICAgIDxzdmc+XG4gICAgICAgICAgICAgICAgICAgICA8dXNlIGhyZWY9XCJpbWcvaWNvbnMuc3ZnI2ljb24tY2lyY2xlLXdpdGgtcGx1c1wiPjwvdXNlPlxuICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVjaXBlX19sb3ZlXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaGVhZGVyX19saWtlc1wiPlxuICAgICAgICAgICAgICAgPHVzZSBocmVmPVwiaW1nL2ljb25zLnN2ZyNpY29uLWhlYXJ0JHtpc0xpa2VkID8gJycgOiAnLW91dGxpbmVkJ31cIj48L3VzZT5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cInJlY2lwZV9faW5ncmVkaWVudHNcIj5cbiAgICAgICAgIDx1bCBjbGFzcz1cInJlY2lwZV9faW5ncmVkaWVudC1saXN0XCI+XG4gICAgICAgICAgICAke3JlY2lwZS5pbmdyZWRpZW50cy5tYXAoZWwgPT4gY3JlYXRlSW5ncmVkaWVudChlbCkpLmpvaW4oJycpfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgPC91bD5cblxuICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1zbWFsbCByZWNpcGVfX2J0biByZWNpcGVfX2J0bi0tYWRkXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwic2VhcmNoX19pY29uXCI+XG4gICAgICAgICAgICAgICA8dXNlIGhyZWY9XCJpbWcvaWNvbnMuc3ZnI2ljb24tc2hvcHBpbmctY2FydFwiPjwvdXNlPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8c3Bhbj5BZGQgdG8gc2hvcHBpbmcgbGlzdDwvc3Bhbj5cbiAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJyZWNpcGVfX2RpcmVjdGlvbnNcIj5cbiAgICAgICAgIDxoMiBjbGFzcz1cImhlYWRpbmctMlwiPkhvdyB0byBjb29rIGl0PC9oMj5cbiAgICAgICAgIDxwIGNsYXNzPVwicmVjaXBlX19kaXJlY3Rpb25zLXRleHRcIj5cbiAgICAgICAgICAgIFRoaXMgcmVjaXBlIHdhcyBjYXJlZnVsbHkgZGVzaWduZWQgYW5kIHRlc3RlZCBieVxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZWNpcGVfX2J5XCI+JHtyZWNpcGUuYXV0aG9yfTwvc3Bhbj4uIFBsZWFzZSBjaGVjayBvdXQgZGlyZWN0aW9ucyBhdCB0aGVpciB3ZWJzaXRlLlxuICAgICAgICAgPC9wPlxuICAgICAgICAgPGEgY2xhc3M9XCJidG4tc21hbGwgcmVjaXBlX19idG5cIiBocmVmPVwiJHtyZWNpcGUudXJsfVwiIHRhcmdldD1cIl9ibGFua1wiPlxuICAgICAgICAgICAgPHNwYW4+RGlyZWN0aW9uczwvc3Bhbj5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJzZWFyY2hfX2ljb25cIj5cbiAgICAgICAgICAgICAgIDx1c2UgaHJlZj1cImltZy9pY29ucy5zdmcjaWNvbi10cmlhbmdsZS1yaWdodFwiPjwvdXNlPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICA8L2E+XG4gICAgICA8L2Rpdj4gIFxuICAgYDtcblxuICAgZWxlbWVudHMucmVjaXBlLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIG1hcmt1cCk7XG59O1xuXG4vLyBVcGRhdGUgVUkgaW5ncmVkaWVudCBjb3VudHNcbmV4cG9ydCBjb25zdCB1cGRhdGVJbmdDb3VudCA9IHJlY2lwZSA9PiB7XG4gICAvLyBVcGRhdGUgc2VydmluZ3NcbiAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWNpcGVfX2luZm8tZGF0YS0tcGVvcGxlJykudGV4dENvbnRlbnQgPSByZWNpcGUuc2VydmluZ3M7XG5cbiAgIC8vIFVwZGF0ZSBpbmdyZWRpZW50c1xuICAgY29uc3QgZWxBcnIgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZWNpcGVfX2NvdW50JykpO1xuICAgZWxBcnIuZm9yRWFjaCgoZWwsIGkpID0+IHtcbiAgICAgIGVsLnRleHRDb250ZW50ID0gZm9ybWF0Q291bnQocmVjaXBlLmluZ3JlZGllbnRzW2ldLmNvdW50KTtcbiAgIH0pO1xufTsiLCJpbXBvcnQgeyBlbGVtZW50cyB9IGZyb20gJy4vYmFzZSc7XG5pbXBvcnQgeyBsaW1pdFJlY2lwZVRpdGxlIH0gZnJvbSAnLi9zZWFyY2hWaWV3JztcblxuZXhwb3J0IGNvbnN0IHRvZ2dsZUxpa2VCdG4gPSBpc0xpa2VkID0+IHtcbiAgIGNvbnN0IGljb25TdHJpbmcgPSBpc0xpa2VkID8gJ2ljb24taGVhcnQnIDogJ2ljb24taGVhcnQtb3V0bGluZWQnO1xuICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlY2lwZV9fbG92ZSB1c2UnKS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgaW1nL2ljb25zLnN2ZyMke2ljb25TdHJpbmd9YCk7XG59O1xuXG5leHBvcnQgY29uc3QgdG9nZ2xlTGlrZU1lbnUgPSBudW1MaWtlcyA9PiB7XG4gICBlbGVtZW50cy5saWtlc01lbnUuc3R5bGUudmlzaWJpbGl0eSA9IG51bUxpa2VzID4gMCA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nO1xufTtcblxuXG5leHBvcnQgY29uc3QgcmVuZGVyTGlrZSA9IGxpa2UgPT4ge1xuICAgY29uc3QgbWFya3VwID0gYFxuICAgICAgPGxpPlxuICAgICAgICAgPGEgY2xhc3M9XCJsaWtlc19fbGlua1wiIGhyZWY9XCIjJHtsaWtlLmlkfVwiPlxuICAgICAgICAgICAgPGZpZ3VyZSBjbGFzcz1cImxpa2VzX19maWdcIj5cbiAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtsaWtlLmltZ31cIiBhbHQ9XCIke2xpa2UudGl0bGV9XCI+XG4gICAgICAgICAgICA8L2ZpZ3VyZT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaWtlc19fZGF0YVwiPlxuICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwibGlrZXNfX25hbWVcIj4ke2xpbWl0UmVjaXBlVGl0bGUobGlrZS50aXRsZSl9PC9oND5cbiAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibGlrZXNfX2F1dGhvclwiPiR7bGlrZS5hdXRob3J9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8L2E+XG4gICAgICA8L2xpPlxuICAgYDtcbiAgIGVsZW1lbnRzLmxpa2VzTGlzdC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIG1hcmt1cCk7XG59O1xuXG5leHBvcnQgY29uc3QgZGVsZXRlTGlrZSA9IGlkID0+IHtcbiAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmxpa2VzX19saW5rW2hyZWYqPVwiJHtpZH1cIl1gKS5wYXJlbnRFbGVtZW50O1xuICAgaWYgKGVsKSBlbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsKTtcbn1cblxuXG4iLCJpbXBvcnQgU2VhcmNoIGZyb20gJy4vbW9kZWxzL1NlYXJjaCc7XG5pbXBvcnQgUmVjaXBlIGZyb20gJy4vbW9kZWxzL1JlY2lwZSc7XG5pbXBvcnQgTGlzdCBmcm9tICcuL21vZGVscy9MaXN0JztcbmltcG9ydCBMaWtlcyBmcm9tICcuL21vZGVscy9MaWtlcyc7XG5pbXBvcnQgKiBhcyBzZWFyY2hWaWV3IGZyb20gJy4vdmlld3Mvc2VhcmNoVmlldyc7XG5pbXBvcnQgKiBhcyByZWNpcGVWaWV3IGZyb20gJy4vdmlld3MvcmVjaXBlVmlldyc7XG5pbXBvcnQgKiBhcyBsaXN0VmlldyBmcm9tICcuL3ZpZXdzL2xpc3RWaWV3JztcbmltcG9ydCAqIGFzIGxpa2VzVmlldyBmcm9tICcuL3ZpZXdzL2xpa2VzVmlldyc7XG5pbXBvcnQgeyBlbGVtZW50cywgcmVuZGVyTG9hZGVyLCBjbGVhckxvYWRlciB9IGZyb20gJy4vdmlld3MvYmFzZSc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogR2xvYmFsIHN0YXRlIG9mIHRoZSBhcHBcbiAqIC0gU2VhcmNoIG9iamVjdFxuICogLSBDdXJyZW50IHJlY2lwZSBvYmplY3RcbiAqIC0gU2hvcHBpbmcgbGlzdCBvYmplY3RcbiAqIC0gTGlrZWQgcmVjaXBlc1xuICovXG5jb25zdCBzdGF0ZSA9IHt9O1xuXG4vLyBTRUFSQ0ggQ09OVFJPTExFUlxuY29uc3QgY29udHJvbFNlYXJjaCA9IGFzeW5jICgpID0+IHtcbiAgIC8vIDEuIEdldCBxdWVyeSBmcm9tIHZpZXdcbiAgIGNvbnN0IHF1ZXJ5ID0gc2VhcmNoVmlldy5nZXRJbnB1dCgpO1xuXG4gICBpZiAocXVlcnkpIHtcbiAgICAgIC8vIDIuIE5ldyBzZWFyY2ggb2JqZWN0LCBhZGQgdG8gc3RhdGVcbiAgICAgIHN0YXRlLnNlYXJjaCA9IG5ldyBTZWFyY2gocXVlcnkpO1xuXG4gICAgICAvLyAzLiBQcmVwYXJlIFVJIGZvciByZXN1bHRzXG4gICAgICBzZWFyY2hWaWV3LmNsZWFySW5wdXQoKTtcbiAgICAgIHNlYXJjaFZpZXcuY2xlYXJSZXN1bHRzKCk7XG4gICAgICByZW5kZXJMb2FkZXIoZWxlbWVudHMuc2VhcmNoUmVzdWx0KTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgIC8vIDQuIFNlYXJjaCBmb3IgcmVjaXBlc1xuICAgICAgICAgYXdhaXQgc3RhdGUuc2VhcmNoLmdldFJlc3VsdHMoKTtcbiAgIFxuICAgICAgICAgLy8gNS4gUmVuZGVyIHJlc3VsdHMgb24gVUlcbiAgICAgICAgIGNsZWFyTG9hZGVyKCk7XG4gICAgICAgICBzZWFyY2hWaWV3LnJlbmRlclJlc3VsdHMoc3RhdGUuc2VhcmNoLnJlc3VsdCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgIGFsZXJ0KCdTb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIHRoZSBzZWFyY2guLi4nKTtcbiAgICAgIH1cbiAgIH1cbn1cblxuZWxlbWVudHMuc2VhcmNoRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBlID0+IHtcbiAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgIGNvbnRyb2xTZWFyY2goKTtcbn0pO1xuXG5lbGVtZW50cy5zZWFyY2hSZXN1bHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgIGNvbnN0IGJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5idG4taW5saW5lJyk7XG4gICBpZiAoYnRuKSB7XG4gICAgICBjb25zdCBnb1RvUGFnZSA9IHBhcnNlSW50KGJ0bi5kYXRhc2V0LmdvdG8sIDEwKTtcbiAgICAgIHNlYXJjaFZpZXcuY2xlYXJSZXN1bHRzKCk7XG4gICAgICBzZWFyY2hWaWV3LnJlbmRlclJlc3VsdHMoc3RhdGUuc2VhcmNoLnJlc3VsdCwgZ29Ub1BhZ2UpO1xuICAgfVxufSk7XG5cbi8vIFJFQ0lQRSBDT05UUk9MTEVSXG5jb25zdCBjb250cm9sUmVjaXBlID0gYXN5bmMgKCkgPT4ge1xuICAgLy8gR2V0IElEIGZyb20gdXJsXG4gICBjb25zdCBpZCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyMnLCAnJyk7XG4gICBcbiAgIGlmIChpZCkge1xuICAgICAgLy8gUHJlcGFyZSBVSSBmb3IgY2hhbmdlc1xuICAgICAgcmVjaXBlVmlldy5jbGVhclJlY2lwZSgpO1xuICAgICAgcmVuZGVyTG9hZGVyKGVsZW1lbnRzLnJlY2lwZSk7XG5cbiAgICAgIC8vIFNlbGVjdGVkIGJhY2tncm91bmQgY29sb3JcbiAgICAgIGlmIChzdGF0ZS5zZWFyY2gpIHNlYXJjaFZpZXcuc2VsZWN0ZWRCZ0NvbG9yKGlkKTtcblxuXG4gICAgICAvLyBDcmVhdGUgbmV3IHJlY2lwZSBvYmplY1xuICAgICAgc3RhdGUucmVjaXBlID0gbmV3IFJlY2lwZShpZCk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgICAvLyBHZXQgcmVjaXBlIGRhdGEgYW5kIHBhcnNlIHRoZSBpbmdyZWRpZW50XG4gICAgICAgICBhd2FpdCBzdGF0ZS5yZWNpcGUuZ2V0UmVjaXBlKCk7XG4gICAgICAgICBzdGF0ZS5yZWNpcGUucGFyc2VJbmdyZWRpZW50cygpO1xuXG4gICAgICAgICAvLyBDYWx1Y2xhdGUgcHJlcCB0aW1lIGFuZCBzZXJ2aW5ncyBjb3VudFxuICAgICAgICAgc3RhdGUucmVjaXBlLmNhbGNUaW1lKCk7XG4gICAgICAgICBzdGF0ZS5yZWNpcGUuY2FsY1NlcnZpbmdzKCk7XG4gICBcbiAgICAgICAgIC8vIFJlbmRlciByZWNpcGVcbiAgICAgICAgIGNsZWFyTG9hZGVyKCk7XG4gICAgICAgICByZWNpcGVWaWV3LnJlbmRlclJlY2lwZShcbiAgICAgICAgICAgIHN0YXRlLnJlY2lwZSxcbiAgICAgICAgICAgIHN0YXRlLmxpa2VzLmlzTGlrZWQoaWQpXG4gICAgICAgICApO1xuXG4gICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS5yZWNpcGUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgYWxlcnQoJ0Vycm9yIHByb2Nlc3NpbmcgcmVjaXBlIScpO1xuICAgICAgfVxuICAgfVxufTtcblxuLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBjb250cm9sUmVjaXBlKTtcbi8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgY29udHJvbFJlY2lwZSk7XG5cblsnaGFzaGNoYW5nZScsICdsb2FkJ10uZm9yRWFjaChldmVudCA9PiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY29udHJvbFJlY2lwZSkpO1xuXG4vLyBMSVNUIENPTlRST0xMRVJcbmNvbnN0IGNvbnRyb2xMaXN0ID0gKCkgPT4ge1xuICAgLy8gQ3JlYXRlIG5ldyBsaXN0IGlmIG5vbmVcbiAgIGlmICghc3RhdGUubGlzdCkgc3RhdGUubGlzdCA9IG5ldyBMaXN0KCk7XG5cbiAgIC8vIEFkZCBpbmdyZWRpZW50IHRvIHRoZSBsaXN0XG4gICBzdGF0ZS5yZWNpcGUuaW5ncmVkaWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gc3RhdGUubGlzdC5hZGRJdGVtKGVsLmNvdW50LCBlbC51bml0LCBlbC5pbmdyZWRpZW50KTtcbiAgICAgIGxpc3RWaWV3LnJlbmRlckl0ZW1zKGl0ZW0pO1xuICAgfSk7XG59XG5cbi8vIEhhbmRsZSBkZWxldGUgYW5kIHVwZGF0ZSBsaXN0IGl0ZW0gZXZlbnRzXG5lbGVtZW50cy5zaG9wcGluZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgY29uc3QgaWQgPSBlLnRhcmdldC5jbG9zZXN0KCcuc2hvcHBpbmdfX2l0ZW0nKS5kYXRhc2V0Lml0ZW1pZDtcblxuICAgLy8gSGFuZ2xlIHRoZSBkZWxldGUgYnV0dG9uXG4gICBpZiAoZS50YXJnZXQubWF0Y2hlcygnLnNob3BwaW5nX19kZWxldGUsIC5zaG9wcGluZ19fZGVsZXRlIConKSkge1xuICAgICAgLy8gRGVsZXRlIGZyb20gc3RhdGVcbiAgICAgIHN0YXRlLmxpc3QuZGVsZXRlSXRlbShpZCk7XG5cbiAgICAgIC8vIERlbGV0ZSBmcm9tIFVJXG4gICAgICBsaXN0Vmlldy5kZWxldGVJdGVtKGlkKTtcblxuICAgICAgLy8gaGFuZGxlIHVwZGF0ZWQgY291bnRcbiAgIH0gZWxzZSBpZiAoZS50YXJnZXQubWF0Y2hlcygnLnNocHBpbmdfX2NvdW50LXZhbHVlJykpIHtcbiAgICAgIGNvbnN0IHZhbCA9IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUsIDEwKTtcbiAgICAgIHN0YXRlLmxpc3QudXBkYXRlQ291bnQoaWQsIHZhbCk7XG4gICB9XG59KTtcblxuLy8gTElLRSBDT05UUk9MTEVSXG5cbmNvbnN0IGNvbnRyb2xMaWtlID0gKCkgPT4ge1xuICAgaWYgKCFzdGF0ZS5saWtlcykgc3RhdGUubGlrZXMgPSBuZXcgTGlrZXMoKTtcbiAgIGNvbnN0IGN1cnJlbnRJRCA9IHN0YXRlLnJlY2lwZS5pZDtcblxuICAgLy8gVXNlciBoYXMgTk9UIHlldCBsaWtlIGN1cnJlbnQgcmVjaXBlXG4gICBpZiAoIXN0YXRlLmxpa2VzLmlzTGlrZWQoY3VycmVudElEKSkge1xuICAgICAgLy8gQWRkIGxpa2UgdG8gdGhlIHN0YXRlXG4gICAgICBjb25zdCBuZXdMaWtlID0gc3RhdGUubGlrZXMuYWRkTGlrZShcbiAgICAgICAgIGN1cnJlbnRJRCxcbiAgICAgICAgIHN0YXRlLnJlY2lwZS50aXRsZSxcbiAgICAgICAgIHN0YXRlLnJlY2lwZS5hdXRob3IsXG4gICAgICAgICBzdGF0ZS5yZWNpcGUuaW1nXG4gICAgICApO1xuICAgICAgLy8gVG9nZ2xlIHRoZSBsaWtlIGJ1dHRvblxuICAgICAgbGlrZXNWaWV3LnRvZ2dsZUxpa2VCdG4odHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIEFkZCBsaWtlIHRvIFVJIGxpc3RcbiAgICAgIGxpa2VzVmlldy5yZW5kZXJMaWtlKG5ld0xpa2UpO1xuICAgICAgXG4gICAgICAvLyBVc2VyIEhBUyBsaWtlZCBjdXJyZW50IHJlY2lwZVxuICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlbW92ZSBsaWtlIGZyb20gdGhlIHN0YXRlXG4gICAgICBzdGF0ZS5saWtlcy5kZWxldGVMaWtlKGN1cnJlbnRJRClcblxuICAgICAgLy8gVG9nZ2xlIHRoZSBsaWtlIGJ1dHRvblxuICAgICAgbGlrZXNWaWV3LnRvZ2dsZUxpa2VCdG4oZmFsc2UpO1xuXG4gICAgICAvLyBSZW1vdmUgbGlrZSBmcm9tIHRoZSBVSVxuICAgICAgbGlrZXNWaWV3LmRlbGV0ZUxpa2UoY3VycmVudElEKTtcbiAgIH1cbiAgbGlrZXNWaWV3LnRvZ2dsZUxpa2VNZW51KHN0YXRlLmxpa2VzLmdldE51bUxpa2VzKCkpO1xufTtcblxuLy8gUmVzdG9yZSBsaWtlZCByZWNpcGVzIG9uIHBhZ2UgbG9hZFxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICBzdGF0ZS5saWtlcyA9IG5ldyBMaWtlcygpO1xuICAgXG4gICAvLyBSZXN0b3JlIGxpa2VzXG4gICBzdGF0ZS5saWtlcy5yZWFkU3RvcmFnZURhdGEoKTtcblxuICAgLy8gVG9nZ2xlIGxpa2UgbWVudSBidXR0b25cbiAgIGxpa2VzVmlldy50b2dnbGVMaWtlTWVudShzdGF0ZS5saWtlcy5nZXROdW1MaWtlcygpKTsgXG5cbiAgIC8vIFJlbmRlciB0aGUgZXhpc3RpbmcgbGllc1xuICAgc3RhdGUubGlrZXMubGlrZXMuZm9yRWFjaChsaWtlID0+IGxpa2VzVmlldy5yZW5kZXJMaWtlKGxpa2UpKVxufSk7XG5cblxuLy8gSGFuZGxpbmcgcmVjaXBlIGxpc3QgY2xpY2sgZXZlbnRzXG5lbGVtZW50cy5yZWNpcGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgIGlmIChlLnRhcmdldC5tYXRjaGVzKCcuYnRuLWRlY3JlYXNlLCAuYnRuLWRlY3JlYXNlIConKSkge1xuICAgICAgLy8gRGVjcmVhc2UgYnV0dG9uIGNsaWNrZWRcbiAgICAgIGlmIChzdGF0ZS5yZWNpcGUuc2VydmluZ3MgPiAxKSB7XG4gICAgICAgICBzdGF0ZS5yZWNpcGUudXBkYXRlU2VydmluZ3MoJ2RlYycpO1xuICAgICAgICAgcmVjaXBlVmlldy51cGRhdGVJbmdDb3VudChzdGF0ZS5yZWNpcGUpO1xuICAgICAgfVxuICAgfSBlbHNlIGlmIChlLnRhcmdldC5tYXRjaGVzKCcuYnRuLWluY3JlYXNlLCAuYnRuLWluY3JlYXNlIConKSkge1xuICAgICAgLy8gSW5jcmVhc2UgYnV0dG9uIGNsaWNrZWRcbiAgICAgIHN0YXRlLnJlY2lwZS51cGRhdGVTZXJ2aW5ncygnaW5jJyk7XG4gICAgICByZWNpcGVWaWV3LnVwZGF0ZUluZ0NvdW50KHN0YXRlLnJlY2lwZSk7XG4gICB9IGVsc2UgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoJy5yZWNpcGVfX2J0bi0tYWRkLCAucmVjaXBlX19idG4tLWFkZCAqJykpIHtcbiAgICAgIC8vIEFkZCBpbmdyZWRpZW50IHRvIHNob3BwaW5nIGxpc3RcbiAgICAgIGNvbnRyb2xMaXN0KCk7XG4gICB9IGVsc2UgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoJy5yZWNpcGVfX2xvdmUsIC5yZWNpcGVfX2xvdmUgKicpKSB7XG4gICAgICAvLyBMaWtlIGNvbnRyb2xsZXJcbiAgICAgIGNvbnRyb2xMaWtlKCk7XG4gICB9XG59KTtcblxuIiwiaW1wb3J0IHsgZWxlbWVudHMgfSBmcm9tICcuL2Jhc2UnO1xuXG5leHBvcnQgY29uc3QgcmVuZGVySXRlbXMgPSBpdGVtID0+IHtcbiAgIGNvbnN0IG1hcmt1cCA9IGBcbiAgICAgIDxsaSBjbGFzcz1cInNob3BwaW5nX19pdGVtXCIgZGF0YS1pdGVtaWQ9JHtpdGVtLmlkfT5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJzaG9wcGluZ19fY291bnRcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgdmFsdWU9XCIke2l0ZW0uY291bnR9XCIgc3RlcD1cIiR7aXRlbS5jb3VudH1cIiBjbGFzcz1cInNob3BwaW5nX19jb3VudC12YWx1ZVwiPiBcbiAgICAgICAgICAgIDxwPiR7aXRlbS51bml0fTwvcD5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgPHAgY2xhc3M9XCJzaG9wcGluZ19fZGVzY3JpcHRpb25cIj4ke2l0ZW0uaW5ncmVkaWVudH08L3A+XG4gICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2hvcHBpbmdfX2RlbGV0ZSBidG4tdGlueVwiPlxuICAgICAgICAgICAgPHN2Zz5cbiAgICAgICAgICAgICAgIDx1c2UgaHJlZj1cImltZy9pY29ucy5zdmcjaWNvbi1jaXJjbGUtd2l0aC1jcm9zc1wiPjwvdXNlPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICBgO1xuICAgZWxlbWVudHMuc2hvcHBpbmcuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBtYXJrdXApO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZUl0ZW0gPSBpZCA9PiB7XG4gICBjb25zdCBpdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtaXRlbWlkPVwiJHtpZH1cIl1gKTtcbiAgIGlmIChpdGVtKSBpdGVtLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoaXRlbSk7XG59OyJdLCJzb3VyY2VSb290IjoiIn0=