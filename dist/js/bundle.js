!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=30)}([function(e,t,n){"use strict";var r=n(3),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){e.exports=n(12)},function(e,t){var n,r;Fraction=function(e,t){if(void 0!==e&&t)"number"==typeof e&&"number"==typeof t?(this.numerator=e,this.denominator=t):"string"==typeof e&&"string"==typeof t&&(this.numerator=parseInt(e),this.denominator=parseInt(t));else if(void 0===t)if(num=e,"number"==typeof num)this.numerator=num,this.denominator=1;else if("string"==typeof num){var n,r,i=num.split(" ");if(i[0]&&(n=i[0]),i[1]&&(r=i[1]),n%1==0&&r&&r.match("/"))return new Fraction(n).add(new Fraction(r));if(!n||r)return;if("string"==typeof n&&n.match("/")){var o=n.split("/");this.numerator=o[0],this.denominator=o[1]}else{if("string"==typeof n&&n.match("."))return new Fraction(parseFloat(n));this.numerator=parseInt(n),this.denominator=1}}this.normalize()},Fraction.prototype.clone=function(){return new Fraction(this.numerator,this.denominator)},Fraction.prototype.toString=function(){if("NaN"===this.denominator)return"NaN";var e=this.numerator/this.denominator>0?Math.floor(this.numerator/this.denominator):Math.ceil(this.numerator/this.denominator),t=this.numerator%this.denominator,n=this.denominator,r=[];return 0!=e&&r.push(e),0!=t&&r.push((0===e?t:Math.abs(t))+"/"+n),r.length>0?r.join(" "):0},Fraction.prototype.rescale=function(e){return this.numerator*=e,this.denominator*=e,this},Fraction.prototype.add=function(e){var t=this.clone();return e=e instanceof Fraction?e.clone():new Fraction(e),td=t.denominator,t.rescale(e.denominator),e.rescale(td),t.numerator+=e.numerator,t.normalize()},Fraction.prototype.subtract=function(e){var t=this.clone();return e=e instanceof Fraction?e.clone():new Fraction(e),td=t.denominator,t.rescale(e.denominator),e.rescale(td),t.numerator-=e.numerator,t.normalize()},Fraction.prototype.multiply=function(e){var t=this.clone();if(e instanceof Fraction)t.numerator*=e.numerator,t.denominator*=e.denominator;else{if("number"!=typeof e)return t.multiply(new Fraction(e));t.numerator*=e}return t.normalize()},Fraction.prototype.divide=function(e){var t=this.clone();if(e instanceof Fraction)t.numerator*=e.denominator,t.denominator*=e.numerator;else{if("number"!=typeof e)return t.divide(new Fraction(e));t.denominator*=e}return t.normalize()},Fraction.prototype.equals=function(e){e instanceof Fraction||(e=new Fraction(e));var t=this.clone().normalize();e=e.clone().normalize();return t.numerator===e.numerator&&t.denominator===e.denominator},Fraction.prototype.normalize=(n=function(e){return"number"==typeof e&&(e>0&&e%1>0&&e%1<1||e<0&&e%-1<0&&e%-1>-1)},r=function(e,t){if(t){var n=Math.pow(10,t);return Math.round(e*n)/n}return Math.round(e)},function(){if(n(this.denominator)){var e=r(this.denominator,9),t=Math.pow(10,e.toString().split(".")[1].length);this.denominator=Math.round(this.denominator*t),this.numerator*=t}n(this.numerator)&&(e=r(this.numerator,9),t=Math.pow(10,e.toString().split(".")[1].length),this.numerator=Math.round(this.numerator*t),this.denominator*=t);var i=Fraction.gcf(this.numerator,this.denominator);return this.numerator/=i,this.denominator/=i,(this.numerator<0&&this.denominator<0||this.numerator>0&&this.denominator<0)&&(this.numerator*=-1,this.denominator*=-1),this}),Fraction.gcf=function(e,t){var n=[],r=Fraction.primeFactors(e),i=Fraction.primeFactors(t);return r.forEach((function(e){var t=i.indexOf(e);t>=0&&(n.push(e),i.splice(t,1))})),0===n.length?1:function(){var e,t=n[0];for(e=1;e<n.length;e++)t*=n[e];return t}()},Fraction.primeFactors=function(e){for(var t=Math.abs(e),n=[],r=2;r*r<=t;)t%r==0?(n.push(r),t/=r):r++;return 1!=t&&n.push(t),n},e.exports.Fraction=Fraction},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(0),i=n(18),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(a=n(7)),a),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(o)})),e.exports=c}).call(this,n(17))},function(e,t,n){"use strict";var r=n(0),i=n(19),o=n(4),s=n(21),a=n(24),c=n(25),u=n(8);e.exports=function(e){return new Promise((function(t,l){var f=e.data,p=e.headers;r.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password||"";p.Authorization="Basic "+btoa(h+":"+m)}var g=s(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),o(g,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};i(t,l,r),d=null}},d.onabort=function(){d&&(l(u("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){l(u("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(u(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=n(26),_=(e.withCredentials||c(g))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;_&&(p[e.xsrfHeaderName]=_)}if("setRequestHeader"in d&&r.forEach(p,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),l(e),d=null)})),void 0===f&&(f=null),d.send(f)}))}},function(e,t,n){"use strict";var r=n(20);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){t=t||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(o,(function(i){r.isObject(t[i])?n[i]=r.deepMerge(e[i],t[i]):void 0!==t[i]?n[i]=t[i]:r.isObject(e[i])?n[i]=r.deepMerge(e[i]):void 0!==e[i]&&(n[i]=e[i])})),r.forEach(s,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var a=i.concat(o).concat(s),c=Object.keys(t).filter((function(e){return-1===a.indexOf(e)}));return r.forEach(c,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Recipe}));var axios__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),axios__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__),_config__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(29);class Recipe{constructor(e){this.id=e}async getRecipe(){try{const e=await axios__WEBPACK_IMPORTED_MODULE_0___default()(`https://forkify-api.herokuapp.com/api/get?rId=${this.id}`);this.title=e.data.recipe.title,this.author=e.data.recipe.publisher,this.img=e.data.recipe.image_url,this.url=e.data.recipe.source_url,this.ingredients=e.data.recipe.ingredients}catch(e){console.log(e),alert("Something went wrong :(")}}calcTime(){const e=this.ingredients.length,t=Math.ceil(e/3);this.time=15*t}calcServings(){this.servings=4}parseIngredients(){const unitsGet=["tablespoons","tablespoon","ounces","ounce","teaspoons","teaspoon","cups","pounds"],unitsUse=["tbsp","tbsp","oz","oz","tsp","tsp","cup","pound"],units=[...unitsUse,"kg","g"],newIngredients=this.ingredients.map(el=>{let ingredient=el.toLowerCase();unitsGet.forEach((e,t)=>{ingredient=ingredient.replace(e,unitsUse[t])}),ingredient=ingredient.replace(/ *\([^)]*\) */g," ");const arrIng=ingredient.split(" "),unitIndex=arrIng.findIndex(e=>units.includes(e));let objIng;if(unitIndex>-1){const arrCount=arrIng.slice(0,unitIndex);let count;count=1===arrCount.length?arrIng[0].replace("-","+"):eval(arrIng-slice(0,unitIndex).join("+")),objIng={count:count,unit:arrIng[unitIndex],ingredient:arrIng.slice(unitIndex+1).join(" ")}}else parseInt(arrIng[0],10)?objIng={count:parseInt(arrIng[0],10),unit:"",ingredients:arrIng.slice(1).join(" ")}:-1===unitIndex&&(objIng={count:1,unit:"",ingredient:ingredient});return objIng});this.ingredients=newIngredients}updateServings(e){const t="dec"===e?this.servings-1:this.servings+1;this.ingredients.forEach(e=>{e.count*=t/this.servings}),this.servings=t}}},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(13),s=n(9);function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=a(n(6));c.Axios=o,c.create=function(e){return a(s(c.defaults,e))},c.Cancel=n(10),c.CancelToken=n(27),c.isCancel=n(5),c.all=function(e){return Promise.all(e)},c.spread=n(28),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var r=n(0),i=n(4),o=n(14),s=n(15),a=n(9);function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=c},function(e,t,n){"use strict";var r=n(0);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(0),i=n(16),o=n(5),s=n(6);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&d())}function d(){if(!l){var e=a(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(8);e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(22),i=n(23);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(0),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(10);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r);class o{constructor(e){this.query=e}async getResults(){try{const e=await i()(`https://forkify-api.herokuapp.com/api/search?&q=${this.query}`);this.result=e.data.recipes,console.log(e)}catch(e){alert("Something went wrong :)")}}}var s=n(11);const a={searchForm:document.querySelector(".search"),searchInput:document.querySelector(".search__field"),searchResult:document.querySelector(".results"),resultList:document.querySelector(".results__list"),resultPage:document.querySelector(".results__pages"),recipe:document.querySelector(".recipe")},c="loader",u=e=>{e.insertAdjacentHTML("afterbegin",'\n      <div class="loader">\n         <svg>\n            <use href="img/icons.svg#icon-cw"></use>\n         </svg>\n      </div>\n   ')},l=()=>{const e=document.querySelector(`.${c}`);e&&e.parentElement.removeChild(e)},f=()=>{a.resultList.innerHTML="",a.resultPage.innerHTML=""},p=e=>{const t=`\n      <li>\n         <a class="likes__link" href="#${e.recipe_id}">\n            <figure class="likes__fig">\n               <img src="${e.image_url}" alt="${e.title}">\n            </figure>\n            <div class="likes__data">\n               <h4 class="likes__name">${((e,t=17)=>{const n=[];return e.length>t?(e.split(" ").reduce((e,r)=>(e+r.length<=t&&n.push(r),e+r.length),0),`${n.join(" ")}...`):e})(e.title)}</h4>\n               <p class="likes__author">${e.publisher}</p>\n            </div>\n         </a>\n      </li>\n   `;a.resultList.insertAdjacentHTML("beforeend",t)},d=(e,t)=>`\n   <button class="btn-inline results__btn--${t}" data-goto=${"prev"===t?e-1:e+1}>\n      <span>Page${"prev"===t?e-1:e+1}</span>\n      <svg class="search__icon">\n         <use href="img/icons.svg#icon-triangle-${"prev"===t?"left":"right"}"></use>\n      </svg>\n   </button>\n`,h=(e,t=1,n=10)=>{const r=(t-1)*n,i=t*n;e.slice(r,i).forEach(p),((e,t,n)=>{const r=Math.ceil(t/n);let i;1===e&&r>1?i=d(e,"next"):e<r?i=`${d(e,"prev")}${d(e,"next")}`:e===r&&r>1&&(i=d(e,"prev")),a.resultPage.insertAdjacentHTML("afterbegin",i)})(t,e.length,n)};var m=n(2);const g=e=>`\n   <li class="recipe__item">\n      <svg class="recipe__icon">\n            <use href="img/icons.svg#icon-check"></use>\n      </svg>\n      <div class="recipe__count">${(e=>{if(e){const[t,n]=e.toString().split(".").map(e=>parseInt(e,10));if(!n)return e;if(0===t){const t=new m.Fraction(e);return`${t.numerator}/${t.denominator}`}{const n=new m.Fraction(e-t);return`${t} ${n.numerator}/${n.denominator}`}}return"?"})(e.count)}</div>\n      <div class="recipe__ingredient">\n         <span class="recipe__unit">${e.unit}</span>\n         ${e.ingredient} \n      </div>\n   </li>\n`,v={},_=async()=>{const e=a.searchInput.value;if(e){v.search=new o(e),a.searchInput.value="",f(),u(a.searchResult);try{await v.search.getResults(),l(),h(v.search.result)}catch(e){alert("Something went wrong with the search...")}}};a.searchForm.addEventListener("submit",e=>{e.preventDefault(),_()}),a.searchResult.addEventListener("click",e=>{const t=e.target.closest(".btn-inline");if(t){const e=parseInt(t.dataset.goto,10);f(),h(v.search.result,e)}});const y=async()=>{const e=window.location.hash.replace("#","");if(console.log(e),e){a.recipe.innerHTML="",u(a.recipe),v.search&&(e=>{Array.from(document.querySelectorAll(".results__link--active")).forEach(e=>{e.classList.remove("results__link--active")}),document.querySelector(`a[href="#${e}"]`).classList.add("results__link--active")})(e),v.recipe=new s.a(e);try{await v.recipe.getRecipe(),v.recipe.parseIngredients(),v.recipe.calcTime(),v.recipe.calcServings(),l(),(e=>{const t=`\n      <figure class="recipe__fig">\n         <img src="${e.img}" alt="${e.title}" class="recipe__img">\n         <h1 class="recipe__title">\n            <span>${e.title}</span>\n         </h1>\n      </figure>\n\n      <div class="recipe__details">\n         <div class="recipe__info">\n            <svg class="recipe__info-icon">\n               <use href="img/icons.svg#icon-stopwatch"></use>\n            </svg>\n            <span class="recipe__info-data recipe__info-data--minutes">${e.time}</span>\n            <span class="recipe__info-text"> minutes</span>\n         </div>\n         <div class="recipe__info">\n            <svg class="recipe__info-icon">\n               <use href="img/icons.svg#icon-man"></use>\n            </svg>\n            <span class="recipe__info-data recipe__info-data--people">${e.servings}</span>\n            <span class="recipe__info-text"> servings</span>\n\n            <div class="recipe__info-buttons">\n               <button class="btn-tiny btn-decrease">\n                  <svg>\n                     <use href="img/icons.svg#icon-circle-with-minus"></use>\n                  </svg>\n               </button>\n               <button class="btn-tiny btn-increase">\n                  <svg>\n                     <use href="img/icons.svg#icon-circle-with-plus"></use>\n                  </svg>\n               </button>\n            </div>\n         </div>\n         <button class="recipe__love">\n            <svg class="header__likes">\n               <use href="img/icons.svg#icon-heart-outlined"></use>\n            </svg>\n         </button>\n      </div>\n\n      <div class="recipe__ingredients">\n         <ul class="recipe__ingredient-list">\n            ${e.ingredients.map(e=>g(e)).join("")};\n            \n         </ul>\n\n         <button class="btn-small recipe__btn">\n            <svg class="search__icon">\n               <use href="img/icons.svg#icon-shopping-cart"></use>\n            </svg>\n            <span>Add to shopping list</span>\n         </button>\n      </div>\n\n      <div class="recipe__directions">\n         <h2 class="heading-2">How to cook it</h2>\n         <p class="recipe__directions-text">\n            This recipe was carefully designed and tested by\n            <span class="recipe__by">${e.author}</span>. Please check out directions at their website.\n         </p>\n         <a class="btn-small recipe__btn" href="${e.url}" target="_blank">\n            <span>Directions</span>\n            <svg class="search__icon">\n               <use href="img/icons.svg#icon-triangle-right"></use>\n            </svg>\n         </a>\n      </div>  \n   `;a.recipe.insertAdjacentHTML("afterbegin",t)})(v.recipe),console.log(v.recipe)}catch(e){alert("Error processing recipe!")}}};["hashchange","load"].forEach(e=>window.addEventListener(e,y)),a.recipe.addEventListener("click",e=>{e.target.matches(".btn-decrease, .btn-decrease * ")?v.recipe.updateServings("dec"):e.target.matches(".btn-increase, btn-increase * ")&&v.recipe.updateServings("inc"),console.log(v.recipe)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZyYWN0aW9uYWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL2lzQ2FuY2VsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2NyZWF0ZUVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9tZXJnZUNvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21vZGVscy9SZWNpcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9heGlvcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9idWlsZEZ1bGxQYXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kZWxzL1NlYXJjaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdmlld3MvYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdmlld3Mvc2VhcmNoVmlldy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdmlld3MvcmVjaXBlVmlldy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ0b1N0cmluZyIsImlzQXJyYXkiLCJ2YWwiLCJpc1VuZGVmaW5lZCIsImlzT2JqZWN0IiwiaXNGdW5jdGlvbiIsImZvckVhY2giLCJvYmoiLCJmbiIsImxlbmd0aCIsImlzQXJyYXlCdWZmZXIiLCJpc0J1ZmZlciIsImNvbnN0cnVjdG9yIiwiaXNGb3JtRGF0YSIsIkZvcm1EYXRhIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImJ1ZmZlciIsImlzU3RyaW5nIiwiaXNOdW1iZXIiLCJpc0RhdGUiLCJpc0ZpbGUiLCJpc0Jsb2IiLCJpc1N0cmVhbSIsInBpcGUiLCJpc1VSTFNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImlzU3RhbmRhcmRCcm93c2VyRW52IiwibmF2aWdhdG9yIiwicHJvZHVjdCIsIndpbmRvdyIsImRvY3VtZW50IiwibWVyZ2UiLCJyZXN1bHQiLCJhc3NpZ25WYWx1ZSIsImFyZ3VtZW50cyIsImRlZXBNZXJnZSIsImV4dGVuZCIsImEiLCJiIiwidGhpc0FyZyIsInRyaW0iLCJzdHIiLCJyZXBsYWNlIiwiaXNGbG9hdCIsInJvdW5kVG9QbGFjZXMiLCJGcmFjdGlvbiIsIm51bWVyYXRvciIsImRlbm9taW5hdG9yIiwidGhpcyIsInBhcnNlSW50IiwibnVtIiwiYXJyIiwic3BsaXQiLCJtYXRjaCIsImFkZCIsImYiLCJwYXJzZUZsb2F0Iiwibm9ybWFsaXplIiwiY2xvbmUiLCJ3aG9sZXBhcnQiLCJNYXRoIiwiZmxvb3IiLCJjZWlsIiwicHVzaCIsImFicyIsImpvaW4iLCJyZXNjYWxlIiwiZmFjdG9yIiwidGQiLCJzdWJ0cmFjdCIsIm11bHRpcGx5IiwiZGl2aWRlIiwiZXF1YWxzIiwicGxhY2VzIiwic2NhbGFyIiwicG93Iiwicm91bmQiLCJyb3VuZGVkIiwic2NhbGV1cCIsImdjZiIsImNvbW1vbl9mYWN0b3JzIiwiZmEiLCJwcmltZUZhY3RvcnMiLCJmYiIsImluZGV4T2YiLCJzcGxpY2UiLCJmYWN0b3JzIiwiX2ZhY3RvciIsImFyZ3MiLCJBcnJheSIsImFwcGx5IiwidXRpbHMiLCJlbmNvZGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJ1cmwiLCJwYXJhbXMiLCJwYXJhbXNTZXJpYWxpemVyIiwic2VyaWFsaXplZFBhcmFtcyIsInBhcnRzIiwidiIsInRvSVNPU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsImhhc2htYXJrSW5kZXgiLCJzbGljZSIsIl9fQ0FOQ0VMX18iLCJub3JtYWxpemVIZWFkZXJOYW1lIiwiREVGQVVMVF9DT05URU5UX1RZUEUiLCJzZXRDb250ZW50VHlwZUlmVW5zZXQiLCJoZWFkZXJzIiwiYWRhcHRlciIsImRlZmF1bHRzIiwiWE1MSHR0cFJlcXVlc3QiLCJwcm9jZXNzIiwidHJhbnNmb3JtUmVxdWVzdCIsImRhdGEiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsInBhcnNlIiwiZSIsInRpbWVvdXQiLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwibWF4Q29udGVudExlbmd0aCIsInZhbGlkYXRlU3RhdHVzIiwic3RhdHVzIiwiY29tbW9uIiwibWV0aG9kIiwic2V0dGxlIiwiYnVpbGRVUkwiLCJidWlsZEZ1bGxQYXRoIiwicGFyc2VIZWFkZXJzIiwiaXNVUkxTYW1lT3JpZ2luIiwiY3JlYXRlRXJyb3IiLCJjb25maWciLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3REYXRhIiwicmVxdWVzdEhlYWRlcnMiLCJyZXF1ZXN0IiwiYXV0aCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJBdXRob3JpemF0aW9uIiwiYnRvYSIsImZ1bGxQYXRoIiwiYmFzZVVSTCIsIm9wZW4iLCJ0b1VwcGVyQ2FzZSIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVVSTCIsInJlc3BvbnNlSGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsIm9uYWJvcnQiLCJvbmVycm9yIiwib250aW1lb3V0IiwidGltZW91dEVycm9yTWVzc2FnZSIsImNvb2tpZXMiLCJ4c3JmVmFsdWUiLCJ3aXRoQ3JlZGVudGlhbHMiLCJyZWFkIiwidW5kZWZpbmVkIiwidG9Mb3dlckNhc2UiLCJzZXRSZXF1ZXN0SGVhZGVyIiwib25Eb3dubG9hZFByb2dyZXNzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uVXBsb2FkUHJvZ3Jlc3MiLCJ1cGxvYWQiLCJjYW5jZWxUb2tlbiIsInByb21pc2UiLCJ0aGVuIiwiY2FuY2VsIiwiYWJvcnQiLCJzZW5kIiwiZW5oYW5jZUVycm9yIiwibWVzc2FnZSIsImNvZGUiLCJlcnJvciIsIkVycm9yIiwiY29uZmlnMSIsImNvbmZpZzIiLCJ2YWx1ZUZyb21Db25maWcyS2V5cyIsIm1lcmdlRGVlcFByb3BlcnRpZXNLZXlzIiwiZGVmYXVsdFRvQ29uZmlnMktleXMiLCJwcm9wIiwiYXhpb3NLZXlzIiwiY29uY2F0Iiwib3RoZXJLZXlzIiwia2V5cyIsImZpbHRlciIsIkNhbmNlbCIsIlJlY2lwZSIsImlkIiwicmVzIiwidGl0bGUiLCJyZWNpcGUiLCJhdXRob3IiLCJwdWJsaXNoZXIiLCJpbWciLCJpbWFnZV91cmwiLCJzb3VyY2VfdXJsIiwiaW5ncmVkaWVudHMiLCJjb25zb2xlIiwibG9nIiwiYWxlcnQiLCJudW1JbmciLCJwZXJpb2RzIiwidGltZSIsInNlcnZpbmdzIiwidW5pdHNHZXQiLCJ1bml0c1VzZSIsInVuaXRzIiwibmV3SW5ncmVkaWVudHMiLCJtYXAiLCJlbCIsImluZ3JlZGllbnQiLCJ1bml0IiwiYXJySW5nIiwidW5pdEluZGV4IiwiZmluZEluZGV4IiwiZWwxIiwiaW5jbHVkZXMiLCJvYmpJbmciLCJhcnJDb3VudCIsImNvdW50IiwiZXZhbCIsInR5cGUiLCJuZXdTZXJ2aW5ncyIsImluZyIsIkF4aW9zIiwibWVyZ2VDb25maWciLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJjb250ZXh0IiwiaW5zdGFuY2UiLCJheGlvcyIsImluc3RhbmNlQ29uZmlnIiwiQ2FuY2VsVG9rZW4iLCJpc0NhbmNlbCIsImFsbCIsInByb21pc2VzIiwic3ByZWFkIiwiZGVmYXVsdCIsIkludGVyY2VwdG9yTWFuYWdlciIsImRpc3BhdGNoUmVxdWVzdCIsImludGVyY2VwdG9ycyIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ1bnNoaWZ0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJzaGlmdCIsImdldFVyaSIsImhhbmRsZXJzIiwidXNlIiwiZWplY3QiLCJoIiwidHJhbnNmb3JtRGF0YSIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJ0aHJvd0lmUmVxdWVzdGVkIiwicmVhc29uIiwiZm5zIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluUXVldWUiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwibm9ybWFsaXplZE5hbWUiLCJpc0F4aW9zRXJyb3IiLCJ0b0pTT04iLCJkZXNjcmlwdGlvbiIsIm51bWJlciIsImZpbGVOYW1lIiwibGluZU51bWJlciIsImNvbHVtbk51bWJlciIsInN0YWNrIiwiaXNBYnNvbHV0ZVVSTCIsImNvbWJpbmVVUkxzIiwicmVxdWVzdGVkVVJMIiwidGVzdCIsInJlbGF0aXZlVVJMIiwiaWdub3JlRHVwbGljYXRlT2YiLCJwYXJzZWQiLCJsaW5lIiwic3Vic3RyIiwib3JpZ2luVVJMIiwibXNpZSIsInVzZXJBZ2VudCIsInVybFBhcnNpbmdOb2RlIiwiY3JlYXRlRWxlbWVudCIsInJlc29sdmVVUkwiLCJocmVmIiwic2V0QXR0cmlidXRlIiwicHJvdG9jb2wiLCJob3N0Iiwic2VhcmNoIiwiaGFzaCIsImhvc3RuYW1lIiwicG9ydCIsInBhdGhuYW1lIiwiY2hhckF0IiwibG9jYXRpb24iLCJyZXF1ZXN0VVJMIiwid3JpdGUiLCJleHBpcmVzIiwicGF0aCIsImRvbWFpbiIsInNlY3VyZSIsImNvb2tpZSIsIkRhdGUiLCJ0b0dNVFN0cmluZyIsIlJlZ0V4cCIsImRlY29kZVVSSUNvbXBvbmVudCIsInJlbW92ZSIsIm5vdyIsImV4ZWN1dG9yIiwiVHlwZUVycm9yIiwicmVzb2x2ZVByb21pc2UiLCJ0b2tlbiIsInNvdXJjZSIsImNhbGxiYWNrIiwicXVlcnkiLCJyZWNpcGVzIiwic2VhcmNoRm9ybSIsInF1ZXJ5U2VsZWN0b3IiLCJzZWFyY2hJbnB1dCIsInNlYXJjaFJlc3VsdCIsInJlc3VsdExpc3QiLCJyZXN1bHRQYWdlIiwiZWxlbWVudFN0aW5ncyIsInJlbmRlckxvYWRlciIsInBhcmVudCIsImluc2VydEFkamFjZW50SFRNTCIsImNsZWFyTG9hZGVyIiwibG9hZGVyIiwicGFyZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwiY2xlYXJSZXN1bHRzIiwiaW5uZXJIVE1MIiwicmVuZGVyUmVjaXBlIiwibWFya3VwIiwicmVjaXBlX2lkIiwibGltaXQiLCJuZXdUaXRsZSIsInJlZHVjZSIsImFjYyIsImN1ciIsImxpbWl0UmVjaXBlVGl0bGUiLCJjcmVhdGVCdXR0b24iLCJwYWdlIiwicmVuZGVyUmVzdWx0cyIsInJlc1BlclBhZ2UiLCJzdGFydCIsImVuZCIsIm51bVJlc3VsdHMiLCJwYWdlcyIsImJ1dHRvbiIsInJlbmRlckJ1dHRvbnMiLCJjcmVhdGVJbmdyZWRpZW50IiwiaW50IiwiZGVjIiwiZnIiLCJmb3JtYXRDb3VudCIsInN0YXRlIiwiY29udHJvbFNlYXJjaCIsImFzeW5jIiwiZ2V0UmVzdWx0cyIsImVyciIsInByZXZlbnREZWZhdWx0IiwiYnRuIiwidGFyZ2V0IiwiY2xvc2VzdCIsImdvVG9QYWdlIiwiZGF0YXNldCIsImdvdG8iLCJjb250cm9sUmVjaXBlIiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbDIiLCJjbGFzc0xpc3QiLCJnZXRSZWNpcGUiLCJwYXJzZUluZ3JlZGllbnRzIiwiY2FsY1RpbWUiLCJjYWxjU2VydmluZ3MiLCJldmVudCIsIm1hdGNoZXMiLCJ1cGRhdGVTZXJ2aW5ncyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVB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T1QsSUFHdkUsRUFBU3pOLE9BQU85QixpQkFBaUIsUUFBU3BELElBQ25DQSxFQUFFc1MsT0FBT2UsUUFBUSxtQ0FFbEJ0QixFQUFNN00sT0FBT29PLGVBQWUsT0FFcEJ0VCxFQUFFc1MsT0FBT2UsUUFBUSxtQ0FFekJ0QixFQUFNN00sT0FBT29PLGVBQWUsT0FFL0I3TixRQUFRQyxJQUFJcU0sRUFBTTdNIiwiZmlsZSI6ImpzL2J1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzMCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcblxuLypnbG9iYWwgdG9TdHJpbmc6dHJ1ZSovXG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQnVmZmVyKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwpICYmIHZhbC5jb25zdHJ1Y3RvciAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsLmNvbnN0cnVjdG9yKVxuICAgICYmIHR5cGVvZiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgdmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWwpIHtcbiAgcmV0dXJuICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnKSAmJiAodmFsIGluc3RhbmNlb2YgRm9ybURhdGEpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmICh2YWwuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcic7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGaWxlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCbG9iKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsKSB7XG4gIHJldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXM7XG59XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKS5yZXBsYWNlKC9cXHMqJC8sICcnKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG4gKiBuYXRpdmVzY3JpcHRcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnTmF0aXZlU2NyaXB0JyBvciAnTlMnXG4gKi9cbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgKG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdOYXRpdmVTY3JpcHQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdOUycpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG4gICk7XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiBlcXVhbCB0byBtZXJnZSB3aXRoIHRoZSBkaWZmZXJlbmNlIGJlaW5nIHRoYXQgbm8gcmVmZXJlbmNlXG4gKiB0byBvcmlnaW5hbCBvYmplY3RzIGlzIGtlcHQuXG4gKlxuICogQHNlZSBtZXJnZVxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gZGVlcE1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKHt9LCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuICovXG5mdW5jdGlvbiBleHRlbmQoYSwgYiwgdGhpc0FyZykge1xuICBmb3JFYWNoKGIsIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHRoaXNBcmcgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhW2tleV0gPSB2YWw7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0FycmF5OiBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyOiBpc0FycmF5QnVmZmVyLFxuICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gIGlzRm9ybURhdGE6IGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3OiBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkLFxuICBpc0RhdGU6IGlzRGF0ZSxcbiAgaXNGaWxlOiBpc0ZpbGUsXG4gIGlzQmxvYjogaXNCbG9iLFxuICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbTogaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zOiBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNTdGFuZGFyZEJyb3dzZXJFbnY6IGlzU3RhbmRhcmRCcm93c2VyRW52LFxuICBmb3JFYWNoOiBmb3JFYWNoLFxuICBtZXJnZTogbWVyZ2UsXG4gIGRlZXBNZXJnZTogZGVlcE1lcmdlLFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdHJpbTogdHJpbVxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTsiLCIvKlxuZnJhY3Rpb24uanNcbkEgSmF2YXNjcmlwdCBmcmFjdGlvbiBsaWJyYXJ5LlxuXG5Db3B5cmlnaHQgKGMpIDIwMDkgIEVyaWsgR2Fycmlzb24gPGVyaWtAaHlwZXJ2b2x1Lm1lPlxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG5USEUgU09GVFdBUkUuXG5cbiovXG5cblxuLyogRnJhY3Rpb25zICovXG4vKiBcbiAqXG4gKiBGcmFjdGlvbiBvYmplY3RzIGFyZSBjb21wcmlzZWQgb2YgYSBudW1lcmF0b3IgYW5kIGEgZGVub21lbmF0b3IuICBUaGVzZVxuICogdmFsdWVzIGNhbiBiZSBhY2Nlc3NlZCBhdCBmcmFjdGlvbi5udW1lcmF0b3IgYW5kIGZyYWN0aW9uLmRlbm9tZW5hdG9yLlxuICpcbiAqIEZyYWN0aW9ucyBhcmUgYWx3YXlzIHJldHVybmVkIGFuZCBzdG9yZWQgaW4gbG93ZXN0LWZvcm0gbm9ybWFsaXplZCBmb3JtYXQuXG4gKiBUaGlzIGlzIGFjY29tcGxpc2hlZCB2aWEgRnJhY3Rpb24ubm9ybWFsaXplLlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbnMgb24gZnJhY3Rpb25zIGFyZSBzdXBwb3J0ZWQ6XG4gKlxuICogRnJhY3Rpb24uZXF1YWxzXG4gKiBGcmFjdGlvbi5hZGRcbiAqIEZyYWN0aW9uLnN1YnRyYWN0XG4gKiBGcmFjdGlvbi5tdWx0aXBseVxuICogRnJhY3Rpb24uZGl2aWRlXG4gKlxuICogVGhlc2Ugb3BlcmF0aW9ucyBhY2NlcHQgYm90aCBudW1iZXJzIGFuZCBmcmFjdGlvbiBvYmplY3RzLiAgKEJlc3QgcmVzdWx0c1xuICogYXJlIGd1YXJhbnRlZWQgd2hlbiB0aGUgaW5wdXQgaXMgYSBmcmFjdGlvbiBvYmplY3QuKSAgVGhleSBhbGwgcmV0dXJuIGEgbmV3XG4gKiBGcmFjdGlvbiBvYmplY3QuXG4gKlxuICogVXNhZ2U6XG4gKlxuICogVE9ET1xuICpcbiAqL1xuXG4vKlxuICogVGhlIEZyYWN0aW9uIGNvbnN0cnVjdG9yIHRha2VzIG9uZSBvZjpcbiAqICAgYW4gZXhwbGljaXQgbnVtZXJhdG9yIChpbnRlZ2VyKSBhbmQgZGVub21pbmF0b3IgKGludGVnZXIpLFxuICogICBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZnJhY3Rpb24gKHN0cmluZyksXG4gKiAgIG9yIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIChmbG9hdClcbiAqXG4gKiBUaGVzZSBpbml0aWFsaXphdGlvbiBtZXRob2RzIGFyZSBwcm92aWRlZCBmb3IgY29udmVuaWVuY2UuICBCZWNhdXNlIG9mXG4gKiByb3VuZGluZyBpc3N1ZXMgdGhlIGJlc3QgcmVzdWx0cyB3aWxsIGJlIGdpdmVuIHdoZW4gdGhlIGZyYWN0aW9uIGlzXG4gKiBjb25zdHJ1Y3RlZCBmcm9tIGFuIGV4cGxpY2l0IGludGVnZXIgbnVtZXJhdG9yIGFuZCBkZW5vbWVuYXRvciwgYW5kIG5vdCBhXG4gKiBkZWNpbWFsIG51bWJlci5cbiAqXG4gKlxuICogZS5nLiBuZXcgRnJhY3Rpb24oMSwgMikgLS0+IDEvMlxuICogICAgICBuZXcgRnJhY3Rpb24oJzEvMicpIC0tPiAxLzJcbiAqICAgICAgbmV3IEZyYWN0aW9uKCcyIDMvNCcpIC0tPiAxMS80ICAocHJpbnRzIGFzIDIgMy80KVxuICpcbiAqL1xuRnJhY3Rpb24gPSBmdW5jdGlvbihudW1lcmF0b3IsIGRlbm9taW5hdG9yKVxue1xuICAgIC8qIGRvdWJsZSBhcmd1bWVudCBpbnZvY2F0aW9uICovXG4gICAgaWYgKHR5cGVvZiBudW1lcmF0b3IgIT09ICd1bmRlZmluZWQnICYmIGRlbm9taW5hdG9yKSB7XG4gICAgICAgIGlmICh0eXBlb2YobnVtZXJhdG9yKSA9PT0gJ251bWJlcicgJiYgdHlwZW9mKGRlbm9taW5hdG9yKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMubnVtZXJhdG9yID0gbnVtZXJhdG9yO1xuICAgICAgICAgICAgdGhpcy5kZW5vbWluYXRvciA9IGRlbm9taW5hdG9yO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihudW1lcmF0b3IpID09PSAnc3RyaW5nJyAmJiB0eXBlb2YoZGVub21pbmF0b3IpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gd2hhdCBhcmUgdGhleT9cbiAgICAgICAgICAgIC8vIGhtbS4uLi5cbiAgICAgICAgICAgIC8vIGFzc3VtZSB0aGV5IGFyZSBpbnRzP1xuICAgICAgICAgICAgdGhpcy5udW1lcmF0b3IgPSBwYXJzZUludChudW1lcmF0b3IpO1xuICAgICAgICAgICAgdGhpcy5kZW5vbWluYXRvciA9IHBhcnNlSW50KGRlbm9taW5hdG9yKTtcbiAgICAgICAgfVxuICAgIC8qIHNpbmdsZS1hcmd1bWVudCBpbnZvY2F0aW9uICovXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVub21pbmF0b3IgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG51bSA9IG51bWVyYXRvcjsgLy8gc3dhcCB2YXJpYWJsZSBuYW1lcyBmb3IgbGVnaWJpbGl0eVxuICAgICAgICBpZiAodHlwZW9mKG51bSkgPT09ICdudW1iZXInKSB7ICAvLyBqdXN0IGEgc3RyYWlnaHQgbnVtYmVyIGluaXRcbiAgICAgICAgICAgIHRoaXMubnVtZXJhdG9yID0gbnVtO1xuICAgICAgICAgICAgdGhpcy5kZW5vbWluYXRvciA9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKG51bSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgYSwgYjsgIC8vIGhvbGQgdGhlIGZpcnN0IGFuZCBzZWNvbmQgcGFydCBvZiB0aGUgZnJhY3Rpb24sIGUuZy4gYSA9ICcxJyBhbmQgYiA9ICcyLzMnIGluIDEgMi8zXG4gICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIGEgPSAnMi8zJyBhbmQgYiA9IHVuZGVmaW5lZCBpZiB3ZSBhcmUganVzdCBwYXNzZWQgYSBzaW5nbGUtcGFydCBudW1iZXJcbiAgICAgICAgICAgIHZhciBhcnIgPSBudW0uc3BsaXQoJyAnKVxuICAgICAgICAgICAgaWYgKGFyclswXSkgYSA9IGFyclswXVxuICAgICAgICAgICAgaWYgKGFyclsxXSkgYiA9IGFyclsxXVxuICAgICAgICAgICAgLyogY29tcG91bmQgZnJhY3Rpb24gZS5nLiAnQSBCL0MnICovXG4gICAgICAgICAgICAvLyAgaWYgYSBpcyBhbiBpbnRlZ2VyIC4uLlxuICAgICAgICAgICAgaWYgKGEgJSAxID09PSAwICYmIGIgJiYgYi5tYXRjaCgnLycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChuZXcgRnJhY3Rpb24oYSkpLmFkZChuZXcgRnJhY3Rpb24oYikpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhICYmICFiKSB7XG4gICAgICAgICAgICAgICAgLyogc2ltcGxlIGZyYWN0aW9uIGUuZy4gJ0EvQicgKi9cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGEpID09PSAnc3RyaW5nJyAmJiBhLm1hdGNoKCcvJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBub3QgYSB3aG9sZSBudW1iZXIuLi4gaXQncyBhY3R1YWxseSBhIGZyYWN0aW9uIHdpdGhvdXQgYSB3aG9sZSBwYXJ0IHdyaXR0ZW5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSBhLnNwbGl0KCcvJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubnVtZXJhdG9yID0gZlswXTsgdGhpcy5kZW5vbWluYXRvciA9IGZbMV07XG4gICAgICAgICAgICAgICAgLyogc3RyaW5nIGZsb2F0aW5nIHBvaW50ICovXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoYSkgPT09ICdzdHJpbmcnICYmIGEubWF0Y2goJ1xcLicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24ocGFyc2VGbG9hdChhKSk7XG4gICAgICAgICAgICAgICAgLyogd2hvbGUgbnVtYmVyIGUuZy4gJ0EnICovXG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8ganVzdCBwYXNzZWQgYSB3aG9sZSBudW1iZXIgYXMgYSBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5udW1lcmF0b3IgPSBwYXJzZUludChhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZW5vbWluYXRvciA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOyAvLyBjb3VsZCBub3QgcGFyc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm5vcm1hbGl6ZSgpO1xufVxuXG5cbkZyYWN0aW9uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKClcbntcbiAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXMubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKTtcbn1cblxuXG4vKiBwcmV0dHktcHJpbnRlciwgY29udmVydHMgZnJhY3Rpb25zIGludG8gd2hvbGUgbnVtYmVycyBhbmQgZnJhY3Rpb25zICovXG5GcmFjdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpXG57XG4gICAgaWYgKHRoaXMuZGVub21pbmF0b3I9PT0nTmFOJykgcmV0dXJuICdOYU4nXG4gICAgdmFyIHdob2xlcGFydCA9ICh0aGlzLm51bWVyYXRvci90aGlzLmRlbm9taW5hdG9yPjApID9cbiAgICAgIE1hdGguZmxvb3IodGhpcy5udW1lcmF0b3IgLyB0aGlzLmRlbm9taW5hdG9yKSA6XG4gICAgICBNYXRoLmNlaWwodGhpcy5udW1lcmF0b3IgLyB0aGlzLmRlbm9taW5hdG9yKVxuICAgIHZhciBudW1lcmF0b3IgPSB0aGlzLm51bWVyYXRvciAlIHRoaXMuZGVub21pbmF0b3IgXG4gICAgdmFyIGRlbm9taW5hdG9yID0gdGhpcy5kZW5vbWluYXRvcjtcbiAgICB2YXIgcmVzdWx0ID0gW107IFxuICAgIGlmICh3aG9sZXBhcnQgIT0gMCkgIFxuICAgICAgICByZXN1bHQucHVzaCh3aG9sZXBhcnQpO1xuICAgIGlmIChudW1lcmF0b3IgIT0gMCkgIFxuICAgICAgICByZXN1bHQucHVzaCgoKHdob2xlcGFydD09PTApID8gbnVtZXJhdG9yIDogTWF0aC5hYnMobnVtZXJhdG9yKSkgKyAnLycgKyBkZW5vbWluYXRvcik7XG4gICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPiAwID8gcmVzdWx0LmpvaW4oJyAnKSA6IDA7XG59XG5cblxuLyogZGVzdHJ1Y3RpdmVseSByZXNjYWxlIHRoZSBmcmFjdGlvbiBieSBzb21lIGludGVncmFsIGZhY3RvciAqL1xuRnJhY3Rpb24ucHJvdG90eXBlLnJlc2NhbGUgPSBmdW5jdGlvbihmYWN0b3IpXG57XG4gICAgdGhpcy5udW1lcmF0b3IgKj0gZmFjdG9yO1xuICAgIHRoaXMuZGVub21pbmF0b3IgKj0gZmFjdG9yO1xuICAgIHJldHVybiB0aGlzO1xufVxuXG5cbkZyYWN0aW9uLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihiKVxue1xuICAgIHZhciBhID0gdGhpcy5jbG9uZSgpO1xuICAgIGlmIChiIGluc3RhbmNlb2YgRnJhY3Rpb24pIHtcbiAgICAgICAgYiA9IGIuY2xvbmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBiID0gbmV3IEZyYWN0aW9uKGIpO1xuICAgIH1cbiAgICB0ZCA9IGEuZGVub21pbmF0b3I7XG4gICAgYS5yZXNjYWxlKGIuZGVub21pbmF0b3IpO1xuICAgIGIucmVzY2FsZSh0ZCk7XG5cbiAgICBhLm51bWVyYXRvciArPSBiLm51bWVyYXRvcjtcblxuICAgIHJldHVybiBhLm5vcm1hbGl6ZSgpO1xufVxuXG5cbkZyYWN0aW9uLnByb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uKGIpXG57XG4gICAgdmFyIGEgPSB0aGlzLmNsb25lKCk7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBGcmFjdGlvbikge1xuICAgICAgICBiID0gYi5jbG9uZSgpOyAgLy8gd2Ugc2NhbGUgb3VyIGFyZ3VtZW50IGRlc3RydWN0aXZlbHksIHNvIGNsb25lXG4gICAgfSBlbHNlIHtcbiAgICAgICAgYiA9IG5ldyBGcmFjdGlvbihiKTtcbiAgICB9XG4gICAgdGQgPSBhLmRlbm9taW5hdG9yO1xuICAgIGEucmVzY2FsZShiLmRlbm9taW5hdG9yKTtcbiAgICBiLnJlc2NhbGUodGQpO1xuXG4gICAgYS5udW1lcmF0b3IgLT0gYi5udW1lcmF0b3I7XG5cbiAgICByZXR1cm4gYS5ub3JtYWxpemUoKTtcbn1cblxuXG5GcmFjdGlvbi5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbihiKVxue1xuICAgIHZhciBhID0gdGhpcy5jbG9uZSgpO1xuICAgIGlmIChiIGluc3RhbmNlb2YgRnJhY3Rpb24pXG4gICAge1xuICAgICAgICBhLm51bWVyYXRvciAqPSBiLm51bWVyYXRvcjtcbiAgICAgICAgYS5kZW5vbWluYXRvciAqPSBiLmRlbm9taW5hdG9yO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGIgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGEubnVtZXJhdG9yICo9IGI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGEubXVsdGlwbHkobmV3IEZyYWN0aW9uKGIpKTtcbiAgICB9XG4gICAgcmV0dXJuIGEubm9ybWFsaXplKCk7XG59XG5cbkZyYWN0aW9uLnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbihiKVxue1xuICAgIHZhciBhID0gdGhpcy5jbG9uZSgpO1xuICAgIGlmIChiIGluc3RhbmNlb2YgRnJhY3Rpb24pXG4gICAge1xuICAgICAgICBhLm51bWVyYXRvciAqPSBiLmRlbm9taW5hdG9yO1xuICAgICAgICBhLmRlbm9taW5hdG9yICo9IGIubnVtZXJhdG9yO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGIgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGEuZGVub21pbmF0b3IgKj0gYjtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYS5kaXZpZGUobmV3IEZyYWN0aW9uKGIpKTtcbiAgICB9XG4gICAgcmV0dXJuIGEubm9ybWFsaXplKCk7XG59XG5cbkZyYWN0aW9uLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbihiKVxue1xuICAgIGlmICghKGIgaW5zdGFuY2VvZiBGcmFjdGlvbikpIHtcbiAgICAgICAgYiA9IG5ldyBGcmFjdGlvbihiKTtcbiAgICB9XG4gICAgLy8gZnJhY3Rpb25zIHRoYXQgYXJlIGVxdWFsIHNob3VsZCBoYXZlIGVxdWFsIG5vcm1hbGl6ZWQgZm9ybXNcbiAgICB2YXIgYSA9IHRoaXMuY2xvbmUoKS5ub3JtYWxpemUoKTtcbiAgICB2YXIgYiA9IGIuY2xvbmUoKS5ub3JtYWxpemUoKTtcbiAgICByZXR1cm4gKGEubnVtZXJhdG9yID09PSBiLm51bWVyYXRvciAmJiBhLmRlbm9taW5hdG9yID09PSBiLmRlbm9taW5hdG9yKTtcbn1cblxuXG4vKiBVdGlsaXR5IGZ1bmN0aW9ucyAqL1xuXG4vKiBEZXN0cnVjdGl2ZWx5IG5vcm1hbGl6ZSB0aGUgZnJhY3Rpb24gdG8gaXRzIHNtYWxsZXN0IHJlcHJlc2VudGF0aW9uLiBcbiAqIGUuZy4gNC8xNiAtPiAxLzQsIDE0LzI4IC0+IDEvMiwgZXRjLlxuICogVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgYWxsIG1hdGggb3BzLlxuICovXG5GcmFjdGlvbi5wcm90b3R5cGUubm9ybWFsaXplID0gKGZ1bmN0aW9uKClcbntcblxuICAgIHZhciBpc0Zsb2F0ID0gZnVuY3Rpb24obilcbiAgICB7XG4gICAgICAgIHJldHVybiAodHlwZW9mKG4pID09PSAnbnVtYmVyJyAmJiBcbiAgICAgICAgICAgICAgICAoKG4gPiAwICYmIG4gJSAxID4gMCAmJiBuICUgMSA8IDEpIHx8IFxuICAgICAgICAgICAgICAgICAobiA8IDAgJiYgbiAlIC0xIDwgMCAmJiBuICUgLTEgPiAtMSkpXG4gICAgICAgICAgICAgICApO1xuICAgIH1cblxuICAgIHZhciByb3VuZFRvUGxhY2VzID0gZnVuY3Rpb24obiwgcGxhY2VzKSBcbiAgICB7XG4gICAgICAgIGlmICghcGxhY2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzY2FsYXIgPSBNYXRoLnBvdygxMCwgcGxhY2VzKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG4qc2NhbGFyKS9zY2FsYXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgICAgIFxuICAgIHJldHVybiAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgLy8gWFhYIGhhY2tpc2guICBJcyB0aGVyZSBhIGJldHRlciB3YXkgdG8gYWRkcmVzcyB0aGlzIGlzc3VlP1xuICAgICAgICAvL1xuICAgICAgICAvKiBmaXJzdCBjaGVjayBpZiB3ZSBoYXZlIGRlY2ltYWxzLCBhbmQgaWYgd2UgZG8gZWxpbWluYXRlIHRoZW1cbiAgICAgICAgICogbXVsdGlwbHkgYnkgdGhlIDEwIF4gbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIGluIHRoZSBudW1iZXJcbiAgICAgICAgICogcm91bmQgdGhlIG51bWJlciB0byBuaW5lIGRlY2ltYWwgcGxhY2VzXG4gICAgICAgICAqIHRvIGF2b2lkIGpzIGZsb2F0aW5nIHBvaW50IGZ1bm5pZXNcbiAgICAgICAgICovXG4gICAgICAgIGlmIChpc0Zsb2F0KHRoaXMuZGVub21pbmF0b3IpKSB7XG4gICAgICAgICAgICB2YXIgcm91bmRlZCA9IHJvdW5kVG9QbGFjZXModGhpcy5kZW5vbWluYXRvciwgOSk7XG4gICAgICAgICAgICB2YXIgc2NhbGV1cCA9IE1hdGgucG93KDEwLCByb3VuZGVkLnRvU3RyaW5nKCkuc3BsaXQoJy4nKVsxXS5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5kZW5vbWluYXRvciA9IE1hdGgucm91bmQodGhpcy5kZW5vbWluYXRvciAqIHNjYWxldXApOyAvLyB0aGlzICEhISBzaG91bGQgYmUgYSB3aG9sZSBudW1iZXJcbiAgICAgICAgICAgIC8vdGhpcy5udW1lcmF0b3IgKj0gc2NhbGV1cDtcbiAgICAgICAgICAgIHRoaXMubnVtZXJhdG9yICo9IHNjYWxldXA7XG4gICAgICAgIH0gXG4gICAgICAgIGlmIChpc0Zsb2F0KHRoaXMubnVtZXJhdG9yKSkge1xuICAgICAgICAgICAgdmFyIHJvdW5kZWQgPSByb3VuZFRvUGxhY2VzKHRoaXMubnVtZXJhdG9yLCA5KTtcbiAgICAgICAgICAgIHZhciBzY2FsZXVwID0gTWF0aC5wb3coMTAsIHJvdW5kZWQudG9TdHJpbmcoKS5zcGxpdCgnLicpWzFdLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLm51bWVyYXRvciA9IE1hdGgucm91bmQodGhpcy5udW1lcmF0b3IgKiBzY2FsZXVwKTsgLy8gdGhpcyAhISEgc2hvdWxkIGJlIGEgd2hvbGUgbnVtYmVyXG4gICAgICAgICAgICAvL3RoaXMubnVtZXJhdG9yICo9IHNjYWxldXA7XG4gICAgICAgICAgICB0aGlzLmRlbm9taW5hdG9yICo9IHNjYWxldXA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdjZiA9IEZyYWN0aW9uLmdjZih0aGlzLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvcik7XG4gICAgICAgIHRoaXMubnVtZXJhdG9yIC89IGdjZjtcbiAgICAgICAgdGhpcy5kZW5vbWluYXRvciAvPSBnY2Y7XG4gICAgICAgIGlmICgodGhpcy5udW1lcmF0b3IgPCAwICYmIHRoaXMuZGVub21pbmF0b3IgPCAwKSB8fCAodGhpcy5udW1lcmF0b3IgPiAwICYmIHRoaXMuZGVub21pbmF0b3IgPCAwKSkge1xuICAgICAgICAgICAgdGhpcy5udW1lcmF0b3IgKj0gLTE7XG4gICAgICAgICAgICB0aGlzLmRlbm9taW5hdG9yICo9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuXG59KSgpO1xuXG5cbi8qIFRha2VzIHR3byBudW1iZXJzIGFuZCByZXR1cm5zIHRoZWlyIGdyZWF0ZXN0IGNvbW1vbiBmYWN0b3IuXG4gKi9cbkZyYWN0aW9uLmdjZiA9IGZ1bmN0aW9uKGEsIGIpXG57XG5cbiAgICB2YXIgY29tbW9uX2ZhY3RvcnMgPSBbXTtcbiAgICB2YXIgZmEgPSBGcmFjdGlvbi5wcmltZUZhY3RvcnMoYSk7XG4gICAgdmFyIGZiID0gRnJhY3Rpb24ucHJpbWVGYWN0b3JzKGIpO1xuICAgIC8vIGZvciBlYWNoIGZhY3RvciBpbiBmYVxuICAgIC8vIGlmIGl0J3MgYWxzbyBpbiBmYlxuICAgIC8vIHB1dCBpdCBpbnRvIHRoZSBjb21tb24gZmFjdG9yc1xuICAgIGZhLmZvckVhY2goZnVuY3Rpb24gKGZhY3RvcikgXG4gICAgeyBcbiAgICAgICAgdmFyIGkgPSBmYi5pbmRleE9mKGZhY3Rvcik7XG4gICAgICAgIGlmIChpID49IDApIHtcbiAgICAgICAgICAgIGNvbW1vbl9mYWN0b3JzLnB1c2goZmFjdG9yKTtcbiAgICAgICAgICAgIGZiLnNwbGljZShpLDEpOyAvLyByZW1vdmUgZnJvbSBmYlxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoY29tbW9uX2ZhY3RvcnMubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gMTtcblxuICAgIHZhciBnY2YgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByID0gY29tbW9uX2ZhY3RvcnNbMF07XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGk9MTtpPGNvbW1vbl9mYWN0b3JzLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHIgPSByICogY29tbW9uX2ZhY3RvcnNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfSkoKTtcblxuICAgIHJldHVybiBnY2Y7XG5cbn07XG5cblxuLy8gQWRhcHRlZCBmcm9tOiBcbi8vIGh0dHA6Ly93d3cuYnRpbnRlcm5ldC5jb20vfnNlMTYvanMvZmFjdG9yLmh0bVxuRnJhY3Rpb24ucHJpbWVGYWN0b3JzID0gZnVuY3Rpb24obikgXG57XG5cbiAgICB2YXIgbnVtID0gTWF0aC5hYnMobik7XG4gICAgdmFyIGZhY3RvcnMgPSBbXTtcbiAgICB2YXIgX2ZhY3RvciA9IDI7ICAvLyBmaXJzdCBwb3RlbnRpYWwgcHJpbWUgZmFjdG9yXG5cbiAgICB3aGlsZSAoX2ZhY3RvciAqIF9mYWN0b3IgPD0gbnVtKSAgLy8gc2hvdWxkIHdlIGtlZXAgbG9va2luZyBmb3IgZmFjdG9ycz9cbiAgICB7ICAgICAgXG4gICAgICBpZiAobnVtICUgX2ZhY3RvciA9PT0gMCkgIC8vIHRoaXMgaXMgYSBmYWN0b3JcbiAgICAgICAgeyBcbiAgICAgICAgICAgIGZhY3RvcnMucHVzaChfZmFjdG9yKTsgIC8vIHNvIGtlZXAgaXRcbiAgICAgICAgICAgIG51bSA9IG51bS9fZmFjdG9yOyAgLy8gYW5kIGRpdmlkZSBvdXIgc2VhcmNoIHBvaW50IGJ5IGl0XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBfZmFjdG9yKys7ICAvLyBhbmQgaW5jcmVtZW50XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobnVtICE9IDEpICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbnl0aGluZyBsZWZ0IGF0IHRoZSBlbmQuLi5cbiAgICB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi50aGlzIG11c3QgYmUgdGhlIGxhc3QgcHJpbWUgZmFjdG9yXG4gICAgICAgIGZhY3RvcnMucHVzaChudW0pOyAgICAgICAgICAgLy8gICAgc28gaXQgdG9vIHNob3VsZCBiZSByZWNvcmRlZFxuICAgIH1cblxuICAgIHJldHVybiBmYWN0b3JzOyAgICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgcHJpbWUgZmFjdG9yc1xufVxuXG5tb2R1bGUuZXhwb3J0cy5GcmFjdGlvbiA9IEZyYWN0aW9uXG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHZhciBoYXNobWFya0luZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG5cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMveGhyJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxudmFyIGRlZmF1bHRzID0ge1xuICBhZGFwdGVyOiBnZXREZWZhdWx0QWRhcHRlcigpLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdBY2NlcHQnKTtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdDb250ZW50LVR5cGUnKTtcbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgLyoqXG4gICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuICAgKi9cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfVxufTtcblxuZGVmYXVsdHMuaGVhZGVycyA9IHtcbiAgY29tbW9uOiB7XG4gICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0gdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdHM7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBzZXR0bGUgPSByZXF1aXJlKCcuLy4uL2NvcmUvc2V0dGxlJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBidWlsZEZ1bGxQYXRoID0gcmVxdWlyZSgnLi4vY29yZS9idWlsZEZ1bGxQYXRoJyk7XG52YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL3BhcnNlSGVhZGVycycpO1xudmFyIGlzVVJMU2FtZU9yaWdpbiA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9pc1VSTFNhbWVPcmlnaW4nKTtcbnZhciBjcmVhdGVFcnJvciA9IHJlcXVpcmUoJy4uL2NvcmUvY3JlYXRlRXJyb3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB4aHJBZGFwdGVyKGNvbmZpZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZGlzcGF0Y2hYaHJSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZXF1ZXN0RGF0YSA9IGNvbmZpZy5kYXRhO1xuICAgIHZhciByZXF1ZXN0SGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xuXG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEocmVxdWVzdERhdGEpKSB7XG4gICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG4gICAgfVxuXG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgfHwgJyc7XG4gICAgICByZXF1ZXN0SGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpO1xuICAgIH1cblxuICAgIHZhciBmdWxsUGF0aCA9IGJ1aWxkRnVsbFBhdGgoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICAgIHJlcXVlc3Qub3Blbihjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIGJ1aWxkVVJMKGZ1bGxQYXRoLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplciksIHRydWUpO1xuXG4gICAgLy8gU2V0IHRoZSByZXF1ZXN0IHRpbWVvdXQgaW4gTVNcbiAgICByZXF1ZXN0LnRpbWVvdXQgPSBjb25maWcudGltZW91dDtcblxuICAgIC8vIExpc3RlbiBmb3IgcmVhZHkgc3RhdGVcbiAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAvLyBoYW5kbGVkIGJ5IG9uZXJyb3IgaW5zdGVhZFxuICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCAmJiAhKHJlcXVlc3QucmVzcG9uc2VVUkwgJiYgcmVxdWVzdC5yZXNwb25zZVVSTC5pbmRleE9mKCdmaWxlOicpID09PSAwKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgICB2YXIgcmVzcG9uc2VIZWFkZXJzID0gJ2dldEFsbFJlc3BvbnNlSGVhZGVycycgaW4gcmVxdWVzdCA/IHBhcnNlSGVhZGVycyhyZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSA6IG51bGw7XG4gICAgICB2YXIgcmVzcG9uc2VEYXRhID0gIWNvbmZpZy5yZXNwb25zZVR5cGUgfHwgY29uZmlnLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnID8gcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgdmFyIHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBjb25maWcsICdFQ09OTkFCT1JURUQnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdOZXR3b3JrIEVycm9yJywgY29uZmlnLCBudWxsLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIHZhciB0aW1lb3V0RXJyb3JNZXNzYWdlID0gJ3RpbWVvdXQgb2YgJyArIGNvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJztcbiAgICAgIGlmIChjb25maWcudGltZW91dEVycm9yTWVzc2FnZSkge1xuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlID0gY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2U7XG4gICAgICB9XG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IodGltZW91dEVycm9yTWVzc2FnZSwgY29uZmlnLCAnRUNPTk5BQk9SVEVEJyxcbiAgICAgICAgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gICAgLy8gU3BlY2lmaWNhbGx5IG5vdCBpZiB3ZSdyZSBpbiBhIHdlYiB3b3JrZXIsIG9yIHJlYWN0LW5hdGl2ZS5cbiAgICBpZiAodXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSkge1xuICAgICAgdmFyIGNvb2tpZXMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvY29va2llcycpO1xuXG4gICAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAgIHZhciB4c3JmVmFsdWUgPSAoY29uZmlnLndpdGhDcmVkZW50aWFscyB8fCBpc1VSTFNhbWVPcmlnaW4oZnVsbFBhdGgpKSAmJiBjb25maWcueHNyZkNvb2tpZU5hbWUgP1xuICAgICAgICBjb29raWVzLnJlYWQoY29uZmlnLnhzcmZDb29raWVOYW1lKSA6XG4gICAgICAgIHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgICByZXF1ZXN0SGVhZGVyc1tjb25maWcueHNyZkhlYWRlck5hbWVdID0geHNyZlZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gICAgaWYgKCdzZXRSZXF1ZXN0SGVhZGVyJyBpbiByZXF1ZXN0KSB7XG4gICAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdERhdGEgPT09ICd1bmRlZmluZWQnICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICAgICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UgYWRkIGhlYWRlciB0byB0aGUgcmVxdWVzdFxuICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpKSB7XG4gICAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9ICEhY29uZmlnLndpdGhDcmVkZW50aWFscztcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRXhwZWN0ZWQgRE9NRXhjZXB0aW9uIHRocm93biBieSBicm93c2VycyBub3QgY29tcGF0aWJsZSBYTUxIdHRwUmVxdWVzdCBMZXZlbCAyLlxuICAgICAgICAvLyBCdXQsIHRoaXMgY2FuIGJlIHN1cHByZXNzZWQgZm9yICdqc29uJyB0eXBlIGFzIGl0IGNhbiBiZSBwYXJzZWQgYnkgZGVmYXVsdCAndHJhbnNmb3JtUmVzcG9uc2UnIGZ1bmN0aW9uLlxuICAgICAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZWplY3QoY2FuY2VsKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGVuaGFuY2VFcnJvciA9IHJlcXVpcmUoJy4vZW5oYW5jZUVycm9yJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUVycm9yKG1lc3NhZ2UsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogQ29uZmlnLXNwZWNpZmljIG1lcmdlLWZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYSBuZXcgY29uZmlnLW9iamVjdFxuICogYnkgbWVyZ2luZyB0d28gY29uZmlndXJhdGlvbiBvYmplY3RzIHRvZ2V0aGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcxXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMlxuICogQHJldHVybnMge09iamVjdH0gTmV3IG9iamVjdCByZXN1bHRpbmcgZnJvbSBtZXJnaW5nIGNvbmZpZzIgdG8gY29uZmlnMVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1lcmdlQ29uZmlnKGNvbmZpZzEsIGNvbmZpZzIpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGNvbmZpZzIgPSBjb25maWcyIHx8IHt9O1xuICB2YXIgY29uZmlnID0ge307XG5cbiAgdmFyIHZhbHVlRnJvbUNvbmZpZzJLZXlzID0gWyd1cmwnLCAnbWV0aG9kJywgJ3BhcmFtcycsICdkYXRhJ107XG4gIHZhciBtZXJnZURlZXBQcm9wZXJ0aWVzS2V5cyA9IFsnaGVhZGVycycsICdhdXRoJywgJ3Byb3h5J107XG4gIHZhciBkZWZhdWx0VG9Db25maWcyS2V5cyA9IFtcbiAgICAnYmFzZVVSTCcsICd1cmwnLCAndHJhbnNmb3JtUmVxdWVzdCcsICd0cmFuc2Zvcm1SZXNwb25zZScsICdwYXJhbXNTZXJpYWxpemVyJyxcbiAgICAndGltZW91dCcsICd3aXRoQ3JlZGVudGlhbHMnLCAnYWRhcHRlcicsICdyZXNwb25zZVR5cGUnLCAneHNyZkNvb2tpZU5hbWUnLFxuICAgICd4c3JmSGVhZGVyTmFtZScsICdvblVwbG9hZFByb2dyZXNzJywgJ29uRG93bmxvYWRQcm9ncmVzcycsXG4gICAgJ21heENvbnRlbnRMZW5ndGgnLCAndmFsaWRhdGVTdGF0dXMnLCAnbWF4UmVkaXJlY3RzJywgJ2h0dHBBZ2VudCcsXG4gICAgJ2h0dHBzQWdlbnQnLCAnY2FuY2VsVG9rZW4nLCAnc29ja2V0UGF0aCdcbiAgXTtcblxuICB1dGlscy5mb3JFYWNoKHZhbHVlRnJvbUNvbmZpZzJLZXlzLCBmdW5jdGlvbiB2YWx1ZUZyb21Db25maWcyKHByb3ApIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgdXRpbHMuZm9yRWFjaChtZXJnZURlZXBQcm9wZXJ0aWVzS2V5cywgZnVuY3Rpb24gbWVyZ2VEZWVwUHJvcGVydGllcyhwcm9wKSB7XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGNvbmZpZzJbcHJvcF0pKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSB1dGlscy5kZWVwTWVyZ2UoY29uZmlnMVtwcm9wXSwgY29uZmlnMltwcm9wXSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdChjb25maWcxW3Byb3BdKSkge1xuICAgICAgY29uZmlnW3Byb3BdID0gdXRpbHMuZGVlcE1lcmdlKGNvbmZpZzFbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzFbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcxW3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgdXRpbHMuZm9yRWFjaChkZWZhdWx0VG9Db25maWcyS2V5cywgZnVuY3Rpb24gZGVmYXVsdFRvQ29uZmlnMihwcm9wKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcyW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMltwcm9wXTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcxW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMVtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBheGlvc0tleXMgPSB2YWx1ZUZyb21Db25maWcyS2V5c1xuICAgIC5jb25jYXQobWVyZ2VEZWVwUHJvcGVydGllc0tleXMpXG4gICAgLmNvbmNhdChkZWZhdWx0VG9Db25maWcyS2V5cyk7XG5cbiAgdmFyIG90aGVyS2V5cyA9IE9iamVjdFxuICAgIC5rZXlzKGNvbmZpZzIpXG4gICAgLmZpbHRlcihmdW5jdGlvbiBmaWx0ZXJBeGlvc0tleXMoa2V5KSB7XG4gICAgICByZXR1cm4gYXhpb3NLZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTE7XG4gICAgfSk7XG5cbiAgdXRpbHMuZm9yRWFjaChvdGhlcktleXMsIGZ1bmN0aW9uIG90aGVyS2V5c0RlZmF1bHRUb0NvbmZpZzIocHJvcCkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMVtwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzFbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gY29uZmlnO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBBIGBDYW5jZWxgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsKG1lc3NhZ2UpIHtcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbn1cblxuQ2FuY2VsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gJ0NhbmNlbCcgKyAodGhpcy5tZXNzYWdlID8gJzogJyArIHRoaXMubWVzc2FnZSA6ICcnKTtcbn07XG5cbkNhbmNlbC5wcm90b3R5cGUuX19DQU5DRUxfXyA9IHRydWU7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsO1xuIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IGtleSwgcHJveHkgfSBmcm9tICcuLi9jb25maWcnO1xuXG4vLyBRdWVyeSBmb3IgaW5ncmVkaWVudHMgSUQgXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWNpcGUge1xuICAgY29uc3RydWN0b3IoaWQpIHtcbiAgICAgIHRoaXMuaWQgPSBpZDtcbiAgIH1cblxuICAgYXN5bmMgZ2V0UmVjaXBlKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zKGBodHRwczovL2ZvcmtpZnktYXBpLmhlcm9rdWFwcC5jb20vYXBpL2dldD9ySWQ9JHt0aGlzLmlkfWApO1xuICAgICAgICAgdGhpcy50aXRsZSA9IHJlcy5kYXRhLnJlY2lwZS50aXRsZTtcbiAgICAgICAgIHRoaXMuYXV0aG9yID0gcmVzLmRhdGEucmVjaXBlLnB1Ymxpc2hlcjtcbiAgICAgICAgIHRoaXMuaW1nID0gcmVzLmRhdGEucmVjaXBlLmltYWdlX3VybDtcbiAgICAgICAgIHRoaXMudXJsID0gcmVzLmRhdGEucmVjaXBlLnNvdXJjZV91cmw7XG4gICAgICAgICB0aGlzLmluZ3JlZGllbnRzID0gcmVzLmRhdGEucmVjaXBlLmluZ3JlZGllbnRzO1xuICAgICAgICAgXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgYWxlcnQoJ1NvbWV0aGluZyB3ZW50IHdyb25nIDooJyk7XG4gICAgICB9XG4gICB9XG5cbiAgIGNhbGNUaW1lKCkge1xuICAgICAgY29uc3QgbnVtSW5nID0gdGhpcy5pbmdyZWRpZW50cy5sZW5ndGg7XG4gICAgICBjb25zdCBwZXJpb2RzID0gTWF0aC5jZWlsKG51bUluZyAvIDMpO1xuICAgICAgdGhpcy50aW1lID0gcGVyaW9kcyAqIDE1O1xuICAgfVxuXG4gICBjYWxjU2VydmluZ3MoKSB7XG4gICAgICB0aGlzLnNlcnZpbmdzID0gNDtcbiAgIH1cbiAgIFxuICAgcGFyc2VJbmdyZWRpZW50cygpIHtcbiAgICAgIGNvbnN0IHVuaXRzR2V0ID0gWyd0YWJsZXNwb29ucycsICd0YWJsZXNwb29uJywgJ291bmNlcycsICdvdW5jZScsICd0ZWFzcG9vbnMnLCAndGVhc3Bvb24nLCAnY3VwcycsICdwb3VuZHMnXTtcbiAgICAgIGNvbnN0IHVuaXRzVXNlID0gWyd0YnNwJywgJ3Ric3AnLCAnb3onLCAnb3onLCAndHNwJywgJ3RzcCcsICdjdXAnLCAncG91bmQnXTtcbiAgICAgIGNvbnN0IHVuaXRzID0gWy4uLnVuaXRzVXNlLCAna2cnLCAnZyddXG5cbiAgICAgIGNvbnN0IG5ld0luZ3JlZGllbnRzID0gdGhpcy5pbmdyZWRpZW50cy5tYXAoZWwgPT4ge1xuICAgICAgICAgLy8gMS4gVW5pZm9ybSB1bml0c1xuICAgICAgICAgbGV0IGluZ3JlZGllbnQgPSBlbC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgdW5pdHNHZXQuZm9yRWFjaCgodW5pdCwgaSkgPT4ge1xuICAgICAgICAgICAgaW5ncmVkaWVudCA9IGluZ3JlZGllbnQucmVwbGFjZSh1bml0LCB1bml0c1VzZVtpXSk7XG4gICAgICAgICB9KTtcblxuICAgICAgICAgLy8gMi4gUmVtb3ZlIHBhcmVudGhlc2VzXG4gICAgICAgICBpbmdyZWRpZW50ID0gaW5ncmVkaWVudC5yZXBsYWNlKC8gKlxcKFteKV0qXFwpICovZywgJyAnKTtcbiAgIFxuICAgICAgICAgLy8gMy4gUGFyc2UgaW5ncmVkaWVudHMgaW50byBjb3VudFxuICAgICAgICAgY29uc3QgYXJySW5nID0gaW5ncmVkaWVudC5zcGxpdCgnICcpO1xuICAgICAgICAgY29uc3QgdW5pdEluZGV4ID0gYXJySW5nLmZpbmRJbmRleChlbDEgPT4gdW5pdHMuaW5jbHVkZXMoZWwxKSk7XG5cbiAgICAgICAgIGxldCBvYmpJbmc7XG4gICAgICAgICBpZiAodW5pdEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIGlzIGEgdW5pdFxuICAgICAgICAgICAgLy8gRXguIDQgMS8yIGN1cHMsIGFyckNvdW50IGlzIFs0LCAxLzJdIC0tPiBldmFsKFwiNCsxLysyXCIpIC0tPiA0LjVcbiAgICAgICAgICAgIC8vIEV4LiA0IGN1cHMsIGFyckNvdW50IGlzIFs0XVxuICAgICAgICAgICAgY29uc3QgYXJyQ291bnQgPSBhcnJJbmcuc2xpY2UoMCwgdW5pdEluZGV4KTtcbiAgICAgICAgICAgIGxldCBjb3VudFxuICAgICAgICAgICAgaWYgKGFyckNvdW50Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgY291bnQgPSBhcnJJbmdbMF0ucmVwbGFjZSgnLScsICcrJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgY291bnQgPSBldmFsKGFyckluZyAtIHNsaWNlKDAsIHVuaXRJbmRleCkuam9pbignKycpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2JqSW5nID0ge1xuICAgICAgICAgICAgICAgY291bnQsXG4gICAgICAgICAgICAgICB1bml0OiBhcnJJbmdbdW5pdEluZGV4XSxcbiAgICAgICAgICAgICAgIGluZ3JlZGllbnQ6IGFyckluZy5zbGljZSh1bml0SW5kZXggKyAxKS5qb2luKCcgJylcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VJbnQoYXJySW5nWzBdLCAxMCkpIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIGlzIG5vIHVuaXQsIGJ1dCAxc3QgZWxlbWVudCBpcyBudW1iZXJcbiAgICAgICAgICAgIG9iakluZyA9IHtcbiAgICAgICAgICAgICAgIGNvdW50OiBwYXJzZUludChhcnJJbmdbMF0sIDEwKSxcbiAgICAgICAgICAgICAgIHVuaXQ6ICcnLFxuICAgICAgICAgICAgICAgaW5ncmVkaWVudHM6IGFyckluZy5zbGljZSgxKS5qb2luKCcgJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgIH0gZWxzZSBpZiAodW5pdEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm8gdW5pdCBhbmQgbm8gbnVtYmVyIGluIDFzdCBwb3NpdGlvblxuICAgICAgICAgICAgb2JqSW5nID0ge1xuICAgICAgICAgICAgICAgY291bnQ6IDEsXG4gICAgICAgICAgICAgICB1bml0OiAnJyxcbiAgICAgICAgICAgICAgIGluZ3JlZGllbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgIH1cbiAgICAgICAgIHJldHVybiBvYmpJbmc7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5pbmdyZWRpZW50cyA9IG5ld0luZ3JlZGllbnRzO1xuICAgfVxuXG4gICB1cGRhdGVTZXJ2aW5ncyAodHlwZSkge1xuICAgICAgLy8gU2VydmluZ3NcbiAgICAgIGNvbnN0IG5ld1NlcnZpbmdzID0gdHlwZSA9PT0gJ2RlYycgPyB0aGlzLnNlcnZpbmdzIC0gMSA6IHRoaXMuc2VydmluZ3MgKyAxO1xuXG4gICAgICAvLyBJbmdyZWRpZW50c1xuICAgICAgdGhpcy5pbmdyZWRpZW50cy5mb3JFYWNoKGluZyA9PiB7XG4gICAgICAgICBpbmcuY291bnQgKj0gKG5ld1NlcnZpbmdzIC8gdGhpcy5zZXJ2aW5ncylcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZXJ2aW5ncyA9IG5ld1NlcnZpbmdzO1xuICAgfVxufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgbWVyZ2VDb25maWcgPSByZXF1aXJlKCcuL2NvcmUvbWVyZ2VDb25maWcnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgdmFyIGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIHZhciBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0KTtcblxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbi8vIENyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB0byBiZSBleHBvcnRlZFxudmFyIGF4aW9zID0gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdHMpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3M7XG5cbi8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbmF4aW9zLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICByZXR1cm4gY3JlYXRlSW5zdGFuY2UobWVyZ2VDb25maWcoYXhpb3MuZGVmYXVsdHMsIGluc3RhbmNlQ29uZmlnKSk7XG59O1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbCcpO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWxUb2tlbicpO1xuYXhpb3MuaXNDYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9pc0NhbmNlbCcpO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuYXhpb3Muc3ByZWFkID0gcmVxdWlyZSgnLi9oZWxwZXJzL3NwcmVhZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGF4aW9zO1xuXG4vLyBBbGxvdyB1c2Ugb2YgZGVmYXVsdCBpbXBvcnQgc3ludGF4IGluIFR5cGVTY3JpcHRcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBheGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIEludGVyY2VwdG9yTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gcmVxdWlyZSgnLi9kaXNwYXRjaFJlcXVlc3QnKTtcbnZhciBtZXJnZUNvbmZpZyA9IHJlcXVpcmUoJy4vbWVyZ2VDb25maWcnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gQXhpb3MoaW5zdGFuY2VDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICovXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IGFyZ3VtZW50c1sxXSB8fCB7fTtcbiAgICBjb25maWcudXJsID0gYXJndW1lbnRzWzBdO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgfVxuXG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG5cbiAgLy8gU2V0IGNvbmZpZy5tZXRob2RcbiAgaWYgKGNvbmZpZy5tZXRob2QpIHtcbiAgICBjb25maWcubWV0aG9kID0gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuICB9IGVsc2UgaWYgKHRoaXMuZGVmYXVsdHMubWV0aG9kKSB7XG4gICAgY29uZmlnLm1ldGhvZCA9IHRoaXMuZGVmYXVsdHMubWV0aG9kLnRvTG93ZXJDYXNlKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uZmlnLm1ldGhvZCA9ICdnZXQnO1xuICB9XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbkF4aW9zLnByb3RvdHlwZS5nZXRVcmkgPSBmdW5jdGlvbiBnZXRVcmkoY29uZmlnKSB7XG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIHJldHVybiBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcikucmVwbGFjZSgvXlxcPy8sICcnKTtcbn07XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybFxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNcbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgICByZXNwb25zZS5kYXRhLFxuICAgICAgcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG4gIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG4gICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICB9XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi9jcmVhdGVFcnJvcicpO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIHZhciB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcbiAgaWYgKCF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KGNyZWF0ZUVycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIG51bGwsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVcGRhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIGNvbmZpZywgZXJyb3IgY29kZSwgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIFRoZSBlcnJvciB0byB1cGRhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICBlcnJvci5jb25maWcgPSBjb25maWc7XG4gIGlmIChjb2RlKSB7XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gIH1cblxuICBlcnJvci5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgZXJyb3IuaXNBeGlvc0Vycm9yID0gdHJ1ZTtcblxuICBlcnJvci50b0pTT04gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gU3RhbmRhcmRcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIC8vIE1pY3Jvc29mdFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICBudW1iZXI6IHRoaXMubnVtYmVyLFxuICAgICAgLy8gTW96aWxsYVxuICAgICAgZmlsZU5hbWU6IHRoaXMuZmlsZU5hbWUsXG4gICAgICBsaW5lTnVtYmVyOiB0aGlzLmxpbmVOdW1iZXIsXG4gICAgICBjb2x1bW5OdW1iZXI6IHRoaXMuY29sdW1uTnVtYmVyLFxuICAgICAgc3RhY2s6IHRoaXMuc3RhY2ssXG4gICAgICAvLyBBeGlvc1xuICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgIGNvZGU6IHRoaXMuY29kZVxuICAgIH07XG4gIH07XG4gIHJldHVybiBlcnJvcjtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpc0Fic29sdXRlVVJMID0gcmVxdWlyZSgnLi4vaGVscGVycy9pc0Fic29sdXRlVVJMJyk7XG52YXIgY29tYmluZVVSTHMgPSByZXF1aXJlKCcuLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBiYXNlVVJMIHdpdGggdGhlIHJlcXVlc3RlZFVSTCxcbiAqIG9ubHkgd2hlbiB0aGUgcmVxdWVzdGVkVVJMIGlzIG5vdCBhbHJlYWR5IGFuIGFic29sdXRlIFVSTC5cbiAqIElmIHRoZSByZXF1ZXN0VVJMIGlzIGFic29sdXRlLCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHJlcXVlc3RlZFVSTCB1bnRvdWNoZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdGVkVVJMIEFic29sdXRlIG9yIHJlbGF0aXZlIFVSTCB0byBjb21iaW5lXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgZnVsbCBwYXRoXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYnVpbGRGdWxsUGF0aChiYXNlVVJMLCByZXF1ZXN0ZWRVUkwpIHtcbiAgaWYgKGJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwocmVxdWVzdGVkVVJMKSkge1xuICAgIHJldHVybiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZXF1ZXN0ZWRVUkwpO1xuICB9XG4gIHJldHVybiByZXF1ZXN0ZWRVUkw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGRcXCtcXC1cXC5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gcmVsYXRpdmVVUkxcbiAgICA/IGJhc2VVUkwucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKVxuICAgIDogYmFzZVVSTDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLy8gSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbnZhciBpZ25vcmVEdXBsaWNhdGVPZiA9IFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gIHZhciBwYXJzZWQgPSB7fTtcbiAgdmFyIGtleTtcbiAgdmFyIHZhbDtcbiAgdmFyIGk7XG5cbiAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblxuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZi5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSAocGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSA6IFtdKS5jb25jYXQoW3ZhbF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3RcbiAgLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIHZhciBvcmlnaW5VUkw7XG5cbiAgICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICAgICAgdmFyIGhyZWYgPSB1cmw7XG5cbiAgICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xuICAgICAgICB9XG5cbiAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgICAgICAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgICAgICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcbiAgICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICAgICAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuICAgICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgICAgICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpID9cbiAgICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDpcbiAgICAgICAgICAgICcvJyArIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIG9yaWdpblVSTCA9IHJlc29sdmVVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXG4gICAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgICB2YXIgcGFyc2VkID0gKHV0aWxzLmlzU3RyaW5nKHJlcXVlc3RVUkwpKSA/IHJlc29sdmVVUkwocmVxdWVzdFVSTCkgOiByZXF1ZXN0VVJMO1xuICAgICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgICAgfTtcbiAgICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnZzICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAgIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG4gICAgfSkoKVxuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgICB2YXIgY29va2llID0gW107XG4gICAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgncGF0aD0nICsgcGF0aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ3NlY3VyZScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgICAgcmV0dXJuIChtYXRjaCA/IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFszXSkgOiBudWxsKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHt9LFxuICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ2FuY2VsID0gcmVxdWlyZSgnLi9DYW5jZWwnKTtcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBDYW5jZWxUb2tlbihleGVjdXRvcikge1xuICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIHJlc29sdmVQcm9taXNlO1xuICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBwcm9taXNlRXhlY3V0b3IocmVzb2x2ZSkge1xuICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgfSk7XG5cbiAgdmFyIHRva2VuID0gdGhpcztcbiAgZXhlY3V0b3IoZnVuY3Rpb24gY2FuY2VsKG1lc3NhZ2UpIHtcbiAgICBpZiAodG9rZW4ucmVhc29uKSB7XG4gICAgICAvLyBDYW5jZWxsYXRpb24gaGFzIGFscmVhZHkgYmVlbiByZXF1ZXN0ZWRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0b2tlbi5yZWFzb24gPSBuZXcgQ2FuY2VsKG1lc3NhZ2UpO1xuICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbkNhbmNlbFRva2VuLnByb3RvdHlwZS50aHJvd0lmUmVxdWVzdGVkID0gZnVuY3Rpb24gdGhyb3dJZlJlcXVlc3RlZCgpIHtcbiAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgdGhyb3cgdGhpcy5yZWFzb247XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAqL1xuQ2FuY2VsVG9rZW4uc291cmNlID0gZnVuY3Rpb24gc291cmNlKCkge1xuICB2YXIgY2FuY2VsO1xuICB2YXIgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgIGNhbmNlbCA9IGM7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHRva2VuOiB0b2tlbixcbiAgICBjYW5jZWw6IGNhbmNlbFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWxUb2tlbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTeW50YWN0aWMgc3VnYXIgZm9yIGludm9raW5nIGEgZnVuY3Rpb24gYW5kIGV4cGFuZGluZyBhbiBhcnJheSBmb3IgYXJndW1lbnRzLlxuICpcbiAqIENvbW1vbiB1c2UgY2FzZSB3b3VsZCBiZSB0byB1c2UgYEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseWAuXG4gKlxuICogIGBgYGpzXG4gKiAgZnVuY3Rpb24gZih4LCB5LCB6KSB7fVxuICogIHZhciBhcmdzID0gWzEsIDIsIDNdO1xuICogIGYuYXBwbHkobnVsbCwgYXJncyk7XG4gKiAgYGBgXG4gKlxuICogV2l0aCBgc3ByZWFkYCB0aGlzIGV4YW1wbGUgY2FuIGJlIHJlLXdyaXR0ZW4uXG4gKlxuICogIGBgYGpzXG4gKiAgc3ByZWFkKGZ1bmN0aW9uKHgsIHksIHopIHt9KShbMSwgMiwgM10pO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3ByZWFkKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKGFycikge1xuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShudWxsLCBhcnIpO1xuICB9O1xufTtcbiIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG4vLyBpbXBvcnQgeyBrZXksIHByb3h5IH0gZnJvbSAnLi4vY29uZmlnJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VhcmNoIHtcbiAgIGNvbnN0cnVjdG9yKHF1ZXJ5KSB7XG4gICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnk7XG4gICB9XG5cbiAgIGFzeW5jIGdldFJlc3VsdHMoKSB7XG4gICAgICB0cnkge1xuICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MoYGh0dHBzOi8vZm9ya2lmeS1hcGkuaGVyb2t1YXBwLmNvbS9hcGkvc2VhcmNoPyZxPSR7dGhpcy5xdWVyeX1gKTtcbiAgICAgICAgIHRoaXMucmVzdWx0ID0gcmVzLmRhdGEucmVjaXBlcztcbiAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgYWxlcnQoJ1NvbWV0aGluZyB3ZW50IHdyb25nIDopJyk7XG4gICAgICB9XG4gICB9XG59IiwiLy8gTWFrZSBET00gbGVtZW1lbnQgbGlzdCBhdmFpbGFibGUgdG8gZXh0ZXJuYWwgbW9kdWxlc1xuZXhwb3J0IGNvbnN0IGVsZW1lbnRzID0ge1xuICAgc2VhcmNoRm9ybTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaCcpLFxuICAgc2VhcmNoSW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2hfX2ZpZWxkJyksXG4gICBzZWFyY2hSZXN1bHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXN1bHRzJyksXG4gICByZXN1bHRMaXN0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzdWx0c19fbGlzdCcpLFxuICAgcmVzdWx0UGFnZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlc3VsdHNfX3BhZ2VzJyksXG4gICByZWNpcGU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWNpcGUnKVxufTtcblxuLy8gbWFrZSBsb2FkZXIgc3RyaW5nIGF2YWlsYWJsZSB0byBleHRlcm5hbCBtb2R1bGVzXG5leHBvcnQgY29uc3QgZWxlbWVudFN0aW5ncyA9IHtcbiAgIGxvYWRlcjogJ2xvYWRlcicsXG59XG5cbi8vIEdlbmVyYXRlIEhUTUwgY2xhc3MgYW5kIGljb24gbG9hZGVyIFxuZXhwb3J0IGNvbnN0IHJlbmRlckxvYWRlciA9IHBhcmVudCA9PiB7XG4gICBjb25zdCBsb2FkZXIgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwibG9hZGVyXCI+XG4gICAgICAgICA8c3ZnPlxuICAgICAgICAgICAgPHVzZSBocmVmPVwiaW1nL2ljb25zLnN2ZyNpY29uLWN3XCI+PC91c2U+XG4gICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgYDtcbiAgIHBhcmVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBsb2FkZXIpO1xufTtcblxuLy8gUmVtb3ZlIHRoZSBsb2FkZXIgcHJvZ3Jlc3MgaWNvblxuZXhwb3J0IGNvbnN0IGNsZWFyTG9hZGVyID0gKCkgPT4ge1xuICAgY29uc3QgbG9hZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7ZWxlbWVudFN0aW5ncy5sb2FkZXJ9YCk7XG4gICBpZiAobG9hZGVyKSBsb2FkZXIucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChsb2FkZXIpO1xufVxuXG4iLCJpbXBvcnQgeyBlbGVtZW50cyB9IGZyb20gJy4vYmFzZSc7XG5cbi8vIFJlYWQgdGhlIGlucHV0IGZpZWxkIHZhbHVlIFxuZXhwb3J0IGNvbnN0IGdldElucHV0ID0gKCkgPT4gZWxlbWVudHMuc2VhcmNoSW5wdXQudmFsdWU7XG5cbi8vIFJlc2V0IHRoZSBpbnB1dCBmaWVsZCBcbmV4cG9ydCBjb25zdCBjbGVhcklucHV0ID0gKCkgPT4ge1xuICAgZWxlbWVudHMuc2VhcmNoSW5wdXQudmFsdWUgPSAnJztcbn07XG5cbi8vIFJlbW92ZSB0aGUgcGFzdCByZXN1bHQgbGlzdFxuZXhwb3J0IGNvbnN0IGNsZWFyUmVzdWx0cyA9ICgpID0+IHtcbiAgIGVsZW1lbnRzLnJlc3VsdExpc3QuaW5uZXJIVE1MID0gJyc7XG4gICBlbGVtZW50cy5yZXN1bHRQYWdlLmlubmVySFRNTCA9ICcnO1xufTtcblxuZXhwb3J0IGNvbnN0IHNlbGVjdGVkQmdDb2xvciA9IGlkID0+IHtcbiAgIGNvbnN0IHJlc3VsdHNBcnIgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXN1bHRzX19saW5rLS1hY3RpdmUnKSk7XG4gICByZXN1bHRzQXJyLmZvckVhY2goZWwyID0+IHtcbiAgICAgIGVsMi5jbGFzc0xpc3QucmVtb3ZlKCdyZXN1bHRzX19saW5rLS1hY3RpdmUnKTtcbiAgIH0pO1xuXG4gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBhW2hyZWY9XCIjJHtpZH1cIl1gKS5jbGFzc0xpc3QuYWRkKCdyZXN1bHRzX19saW5rLS1hY3RpdmUnKTtcbn07XG5cbi8vIFNldCB0aGUgcmVjaXBlcyB0aXRsZXMgdG8gMTcgY2hhcmFjdGVyc1xuY29uc3QgbGltaXRSZWNpcGVUaXRsZSA9ICh0aXRsZSwgbGltaXQgPSAxNykgPT4ge1xuICAgY29uc3QgbmV3VGl0bGUgPSBbXTtcbiAgIGlmICh0aXRsZS5sZW5ndGggPiBsaW1pdCkge1xuICAgICAgdGl0bGUuc3BsaXQoJyAnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7XG4gICAgICAgICBpZiAoYWNjICsgY3VyLmxlbmd0aCA8PSBsaW1pdCkge1xuICAgICAgICAgICAgbmV3VGl0bGUucHVzaChjdXIpO1xuICAgICAgICAgfVxuICAgICAgICAgcmV0dXJuIGFjYyArIGN1ci5sZW5ndGg7XG4gICAgICB9LCAwKTtcblxuICAgICAgLy8gcmV0dXJuIHRoZSByZXN1bHQgdGl0bGVcbiAgIHJldHVybiBgJHtuZXdUaXRsZS5qb2luKCcgJyl9Li4uYDtcbiAgIH1cbiAgIHJldHVybiB0aXRsZTtcbn1cblxuLy8gRGlzcGxheSByZXN1bHRzIG9uIFVJXG5leHBvcnQgY29uc3QgcmVuZGVyUmVjaXBlID0gcmVjaXBlID0+IHtcbiAgIGNvbnN0IG1hcmt1cCA9IGBcbiAgICAgIDxsaT5cbiAgICAgICAgIDxhIGNsYXNzPVwibGlrZXNfX2xpbmtcIiBocmVmPVwiIyR7cmVjaXBlLnJlY2lwZV9pZH1cIj5cbiAgICAgICAgICAgIDxmaWd1cmUgY2xhc3M9XCJsaWtlc19fZmlnXCI+XG4gICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7cmVjaXBlLmltYWdlX3VybH1cIiBhbHQ9XCIke3JlY2lwZS50aXRsZX1cIj5cbiAgICAgICAgICAgIDwvZmlndXJlPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxpa2VzX19kYXRhXCI+XG4gICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJsaWtlc19fbmFtZVwiPiR7bGltaXRSZWNpcGVUaXRsZShyZWNpcGUudGl0bGUpfTwvaDQ+XG4gICAgICAgICAgICAgICA8cCBjbGFzcz1cImxpa2VzX19hdXRob3JcIj4ke3JlY2lwZS5wdWJsaXNoZXJ9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8L2E+XG4gICAgICA8L2xpPlxuICAgYDtcbiAgIGVsZW1lbnRzLnJlc3VsdExpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBtYXJrdXApO1xufTtcblxuLy8gVHlwZTogJ3ByZXYnIG9yICduZXh0IGJ1dHRvblxuY29uc3QgY3JlYXRlQnV0dG9uID0gKHBhZ2UsIHR5cGUpID0+IGBcbiAgIDxidXR0b24gY2xhc3M9XCJidG4taW5saW5lIHJlc3VsdHNfX2J0bi0tJHt0eXBlfVwiIGRhdGEtZ290bz0ke3R5cGUgPT09ICdwcmV2JyA/IHBhZ2UgLTEgOiBwYWdlICsgMX0+XG4gICAgICA8c3Bhbj5QYWdlJHt0eXBlID09PSAncHJldicgPyBwYWdlIC0gMSA6IHBhZ2UgKyAxfTwvc3Bhbj5cbiAgICAgIDxzdmcgY2xhc3M9XCJzZWFyY2hfX2ljb25cIj5cbiAgICAgICAgIDx1c2UgaHJlZj1cImltZy9pY29ucy5zdmcjaWNvbi10cmlhbmdsZS0ke3R5cGUgPT09ICdwcmV2JyA/ICdsZWZ0JyA6ICdyaWdodCd9XCI+PC91c2U+XG4gICAgICA8L3N2Zz5cbiAgIDwvYnV0dG9uPlxuYDtcblxuLy8gQ2hlY2sgZm9yIHRoZSB0eXBlIG9mIGJ1dHRvbiB0byBzaG93biBpbiBVSVxuY29uc3QgcmVuZGVyQnV0dG9ucyA9IChwYWdlLCBudW1SZXN1bHRzLCByZXNQZXJQYWdlKSA9PiB7XG4gICBjb25zdCBwYWdlcyA9IE1hdGguY2VpbChudW1SZXN1bHRzIC8gcmVzUGVyUGFnZSk7XG5cbiAgIGxldCBidXR0b247XG4gICBpZiAocGFnZSA9PT0gMSAmJiBwYWdlcyA+IDEpIHtcbiAgICAgIC8vIEJ1bnR0b24gdG8gZ28gdG8gbmV4dCBwYWdlXG4gICAgICBidXR0b24gPSBjcmVhdGVCdXR0b24ocGFnZSwgJ25leHQnKTtcbiAgIH0gZWxzZSBpZiAocGFnZSA8IHBhZ2VzKSB7XG4gICAgICAvLyBCb3RoIGJ1dHRvbnNcbiAgICAgIGJ1dHRvbiA9IGAke2NyZWF0ZUJ1dHRvbihwYWdlLCAncHJldicpfSR7Y3JlYXRlQnV0dG9uKHBhZ2UsICduZXh0Jyl9YDtcblxuICAgfSBlbHNlIGlmIChwYWdlID09PSBwYWdlcyAmJiBwYWdlcyA+IDEpIHtcbiAgICAgIC8vIE9ubHkgcHJldiBwYWdlIGJ1dHRvblxuICAgICAgYnV0dG9uID0gY3JlYXRlQnV0dG9uKHBhZ2UsICdwcmV2Jyk7XG4gICB9XG5cbiAgIGVsZW1lbnRzLnJlc3VsdFBhZ2UuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgYnV0dG9uKTtcbn07XG5cbi8vIEl0ZXJhdGUgdGhvdWdoIHJlc3VsdCBsaXN0IFxuZXhwb3J0IGNvbnN0IHJlbmRlclJlc3VsdHMgPSAocmVjaXBlcywgcGFnZSA9IDEsIHJlc1BlclBhZ2UgPSAxMCkgPT4ge1xuICAgLy8gcmVuZGVyIHJlc3VsdCBvZiBjdXJyZW50IHBhZ2VcbiAgIGNvbnN0IHN0YXJ0ID0gKHBhZ2UgLSAxKSAqIHJlc1BlclBhZ2U7XG4gICBjb25zdCBlbmQgPSBwYWdlICogcmVzUGVyUGFnZTtcbiAgIFxuICAgcmVjaXBlcy5zbGljZShzdGFydCwgZW5kKS5mb3JFYWNoKHJlbmRlclJlY2lwZSk7XG5cbiAgIC8vIGNhbGwgcmVuZGVyIGJ1dHRvbnNcbiAgIHJlbmRlckJ1dHRvbnMocGFnZSwgcmVjaXBlcy5sZW5ndGgsIHJlc1BlclBhZ2UpO1xufTsiLCJpbXBvcnQgeyBlbGVtZW50cyB9IGZyb20gJy4vYmFzZSc7XG5pbXBvcnQgeyBGcmFjdGlvbiB9IGZyb20gJ2ZyYWN0aW9uYWwnO1xuXG5leHBvcnQgY29uc3QgY2xlYXJSZWNpcGUgPSAoKSA9PiB7XG4gICBlbGVtZW50cy5yZWNpcGUuaW5uZXJIVE1MID0gJyc7XG59O1xuXG4vLyBcbmNvbnN0IGZvcm1hdENvdW50ID0gY291bnQgPT4ge1xuICAgaWYgKGNvdW50KSB7XG4gICAgICAvLyBFeC4gY291bnQgPSAyLjUgPT4gMiAxLzJcbiAgICAgIC8vIEV4LiBjb3VudCA9IDAuNSA9PiAxLzJcbiAgICAgIGNvbnN0IFtpbnQsIGRlY10gPSBjb3VudC50b1N0cmluZygpLnNwbGl0KCcuJykubWFwKGVsID0+IHBhcnNlSW50KGVsLCAxMCkpO1xuXG4gICAgICBpZiAoIWRlYykgcmV0dXJuIGNvdW50O1xuXG4gICAgICBpZiAoaW50ID09PSAwKSB7XG4gICAgICAgICBjb25zdCBmciA9IG5ldyBGcmFjdGlvbihjb3VudCk7XG4gICAgICAgICByZXR1cm4gYCR7ZnIubnVtZXJhdG9yfS8ke2ZyLmRlbm9taW5hdG9yfWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgY29uc3QgZnIgPSBuZXcgRnJhY3Rpb24oY291bnQgLSBpbnQpO1xuICAgICAgICAgcmV0dXJuIGAke2ludH0gJHtmci5udW1lcmF0b3J9LyR7ZnIuZGVub21pbmF0b3J9YDtcbiAgICAgIH1cbiAgIH1cbiAgIHJldHVybiAnPyc7XG59O1xuXG5jb25zdCBjcmVhdGVJbmdyZWRpZW50ID0gaW5ncmVkaWVudCA9PiBgXG4gICA8bGkgY2xhc3M9XCJyZWNpcGVfX2l0ZW1cIj5cbiAgICAgIDxzdmcgY2xhc3M9XCJyZWNpcGVfX2ljb25cIj5cbiAgICAgICAgICAgIDx1c2UgaHJlZj1cImltZy9pY29ucy5zdmcjaWNvbi1jaGVja1wiPjwvdXNlPlxuICAgICAgPC9zdmc+XG4gICAgICA8ZGl2IGNsYXNzPVwicmVjaXBlX19jb3VudFwiPiR7Zm9ybWF0Q291bnQoaW5ncmVkaWVudC5jb3VudCl9PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwicmVjaXBlX19pbmdyZWRpZW50XCI+XG4gICAgICAgICA8c3BhbiBjbGFzcz1cInJlY2lwZV9fdW5pdFwiPiR7aW5ncmVkaWVudC51bml0fTwvc3Bhbj5cbiAgICAgICAgICR7aW5ncmVkaWVudC5pbmdyZWRpZW50fSBcbiAgICAgIDwvZGl2PlxuICAgPC9saT5cbmA7XG5leHBvcnQgY29uc3QgcmVuZGVyUmVjaXBlID0gcmVjaXBlID0+IHtcbiAgIGNvbnN0IG1hcmt1cCA9IGBcbiAgICAgIDxmaWd1cmUgY2xhc3M9XCJyZWNpcGVfX2ZpZ1wiPlxuICAgICAgICAgPGltZyBzcmM9XCIke3JlY2lwZS5pbWd9XCIgYWx0PVwiJHtyZWNpcGUudGl0bGV9XCIgY2xhc3M9XCJyZWNpcGVfX2ltZ1wiPlxuICAgICAgICAgPGgxIGNsYXNzPVwicmVjaXBlX190aXRsZVwiPlxuICAgICAgICAgICAgPHNwYW4+JHtyZWNpcGUudGl0bGV9PC9zcGFuPlxuICAgICAgICAgPC9oMT5cbiAgICAgIDwvZmlndXJlPlxuXG4gICAgICA8ZGl2IGNsYXNzPVwicmVjaXBlX19kZXRhaWxzXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwicmVjaXBlX19pbmZvXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwicmVjaXBlX19pbmZvLWljb25cIj5cbiAgICAgICAgICAgICAgIDx1c2UgaHJlZj1cImltZy9pY29ucy5zdmcjaWNvbi1zdG9wd2F0Y2hcIj48L3VzZT5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZWNpcGVfX2luZm8tZGF0YSByZWNpcGVfX2luZm8tZGF0YS0tbWludXRlc1wiPiR7cmVjaXBlLnRpbWV9PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZWNpcGVfX2luZm8tdGV4dFwiPiBtaW51dGVzPC9zcGFuPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwicmVjaXBlX19pbmZvXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwicmVjaXBlX19pbmZvLWljb25cIj5cbiAgICAgICAgICAgICAgIDx1c2UgaHJlZj1cImltZy9pY29ucy5zdmcjaWNvbi1tYW5cIj48L3VzZT5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZWNpcGVfX2luZm8tZGF0YSByZWNpcGVfX2luZm8tZGF0YS0tcGVvcGxlXCI+JHtyZWNpcGUuc2VydmluZ3N9PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZWNpcGVfX2luZm8tdGV4dFwiPiBzZXJ2aW5nczwvc3Bhbj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlY2lwZV9faW5mby1idXR0b25zXCI+XG4gICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLXRpbnkgYnRuLWRlY3JlYXNlXCI+XG4gICAgICAgICAgICAgICAgICA8c3ZnPlxuICAgICAgICAgICAgICAgICAgICAgPHVzZSBocmVmPVwiaW1nL2ljb25zLnN2ZyNpY29uLWNpcmNsZS13aXRoLW1pbnVzXCI+PC91c2U+XG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi10aW55IGJ0bi1pbmNyZWFzZVwiPlxuICAgICAgICAgICAgICAgICAgPHN2Zz5cbiAgICAgICAgICAgICAgICAgICAgIDx1c2UgaHJlZj1cImltZy9pY29ucy5zdmcjaWNvbi1jaXJjbGUtd2l0aC1wbHVzXCI+PC91c2U+XG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZWNpcGVfX2xvdmVcIj5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJoZWFkZXJfX2xpa2VzXCI+XG4gICAgICAgICAgICAgICA8dXNlIGhyZWY9XCJpbWcvaWNvbnMuc3ZnI2ljb24taGVhcnQtb3V0bGluZWRcIj48L3VzZT5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cInJlY2lwZV9faW5ncmVkaWVudHNcIj5cbiAgICAgICAgIDx1bCBjbGFzcz1cInJlY2lwZV9faW5ncmVkaWVudC1saXN0XCI+XG4gICAgICAgICAgICAke3JlY2lwZS5pbmdyZWRpZW50cy5tYXAoZWwgPT4gY3JlYXRlSW5ncmVkaWVudChlbCkpLmpvaW4oJycpfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgPC91bD5cblxuICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1zbWFsbCByZWNpcGVfX2J0blwiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInNlYXJjaF9faWNvblwiPlxuICAgICAgICAgICAgICAgPHVzZSBocmVmPVwiaW1nL2ljb25zLnN2ZyNpY29uLXNob3BwaW5nLWNhcnRcIj48L3VzZT5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPHNwYW4+QWRkIHRvIHNob3BwaW5nIGxpc3Q8L3NwYW4+XG4gICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwicmVjaXBlX19kaXJlY3Rpb25zXCI+XG4gICAgICAgICA8aDIgY2xhc3M9XCJoZWFkaW5nLTJcIj5Ib3cgdG8gY29vayBpdDwvaDI+XG4gICAgICAgICA8cCBjbGFzcz1cInJlY2lwZV9fZGlyZWN0aW9ucy10ZXh0XCI+XG4gICAgICAgICAgICBUaGlzIHJlY2lwZSB3YXMgY2FyZWZ1bGx5IGRlc2lnbmVkIGFuZCB0ZXN0ZWQgYnlcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVjaXBlX19ieVwiPiR7cmVjaXBlLmF1dGhvcn08L3NwYW4+LiBQbGVhc2UgY2hlY2sgb3V0IGRpcmVjdGlvbnMgYXQgdGhlaXIgd2Vic2l0ZS5cbiAgICAgICAgIDwvcD5cbiAgICAgICAgIDxhIGNsYXNzPVwiYnRuLXNtYWxsIHJlY2lwZV9fYnRuXCIgaHJlZj1cIiR7cmVjaXBlLnVybH1cIiB0YXJnZXQ9XCJfYmxhbmtcIj5cbiAgICAgICAgICAgIDxzcGFuPkRpcmVjdGlvbnM8L3NwYW4+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwic2VhcmNoX19pY29uXCI+XG4gICAgICAgICAgICAgICA8dXNlIGhyZWY9XCJpbWcvaWNvbnMuc3ZnI2ljb24tdHJpYW5nbGUtcmlnaHRcIj48L3VzZT5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgPC9hPlxuICAgICAgPC9kaXY+ICBcbiAgIGA7XG5cbiAgIGVsZW1lbnRzLnJlY2lwZS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBtYXJrdXApO1xufTsiLCJpbXBvcnQgU2VhcmNoIGZyb20gJy4vbW9kZWxzL1NlYXJjaCc7XG5pbXBvcnQgUmVjaXBlIGZyb20gJy4vbW9kZWxzL1JlY2lwZSc7XG5pbXBvcnQgKiBhcyBzZWFyY2hWaWV3IGZyb20gJy4vdmlld3Mvc2VhcmNoVmlldyc7XG5pbXBvcnQgKiBhcyByZWNpcGVWaWV3IGZyb20gJy4vdmlld3MvcmVjaXBlVmlldyc7XG5pbXBvcnQgeyBlbGVtZW50cywgcmVuZGVyTG9hZGVyLCBjbGVhckxvYWRlciB9IGZyb20gJy4vdmlld3MvYmFzZSc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogR2xvYmFsIHN0YXRlIG9mIHRoZSBhcHBcbiAqIC0gU2VhcmNoIG9iamVjdFxuICogLSBDdXJyZW50IHJlY2lwZSBvYmplY3RcbiAqIC0gU2hvcHBpbmcgbGlzdCBvYmplY3RcbiAqIC0gTGlrZWQgcmVjaXBlc1xuICovXG5jb25zdCBzdGF0ZSA9IHt9O1xuXG4vLyBTZWFyY2ggQ29udHJvbGxlciBcbmNvbnN0IGNvbnRyb2xTZWFyY2ggPSBhc3luYyAoKSA9PiB7XG4gICAvLyAxLiBHZXQgcXVlcnkgZnJvbSB2aWV3XG4gICBjb25zdCBxdWVyeSA9IHNlYXJjaFZpZXcuZ2V0SW5wdXQoKTtcblxuICAgaWYgKHF1ZXJ5KSB7XG4gICAgICAvLyAyLiBOZXcgc2VhcmNoIG9iamVjdCwgYWRkIHRvIHN0YXRlXG4gICAgICBzdGF0ZS5zZWFyY2ggPSBuZXcgU2VhcmNoKHF1ZXJ5KTtcblxuICAgICAgLy8gMy4gUHJlcGFyZSBVSSBmb3IgcmVzdWx0c1xuICAgICAgc2VhcmNoVmlldy5jbGVhcklucHV0KCk7XG4gICAgICBzZWFyY2hWaWV3LmNsZWFyUmVzdWx0cygpO1xuICAgICAgcmVuZGVyTG9hZGVyKGVsZW1lbnRzLnNlYXJjaFJlc3VsdCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgICAvLyA0LiBTZWFyY2ggZm9yIHJlY2lwZXNcbiAgICAgICAgIGF3YWl0IHN0YXRlLnNlYXJjaC5nZXRSZXN1bHRzKCk7XG4gICBcbiAgICAgICAgIC8vIDUuIFJlbmRlciByZXN1bHRzIG9uIFVJXG4gICAgICAgICBjbGVhckxvYWRlcigpO1xuICAgICAgICAgc2VhcmNoVmlldy5yZW5kZXJSZXN1bHRzKHN0YXRlLnNlYXJjaC5yZXN1bHQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICBhbGVydCgnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCB0aGUgc2VhcmNoLi4uJyk7XG4gICAgICB9XG4gICB9XG59XG5cbmVsZW1lbnRzLnNlYXJjaEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZSA9PiB7XG4gICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICBjb250cm9sU2VhcmNoKCk7XG59KTtcblxuZWxlbWVudHMuc2VhcmNoUmVzdWx0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCcuYnRuLWlubGluZScpO1xuICAgaWYgKGJ0bikge1xuICAgICAgY29uc3QgZ29Ub1BhZ2UgPSBwYXJzZUludChidG4uZGF0YXNldC5nb3RvLCAxMCk7XG4gICAgICBzZWFyY2hWaWV3LmNsZWFyUmVzdWx0cygpO1xuICAgICAgc2VhcmNoVmlldy5yZW5kZXJSZXN1bHRzKHN0YXRlLnNlYXJjaC5yZXN1bHQsIGdvVG9QYWdlKTtcbiAgIH1cbn0pO1xuXG4vLyBSZWNpcGUgQ29udHJvbGxlclxuY29uc3QgY29udHJvbFJlY2lwZSA9IGFzeW5jICgpID0+IHtcbiAgIC8vIEdldCBJRCBmcm9tIHVybFxuICAgY29uc3QgaWQgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xuICAgY29uc29sZS5sb2coaWQpO1xuICAgXG4gICBpZiAoaWQpIHtcbiAgICAgIC8vIFByZXBhcmUgVUkgZm9yIGNoYW5nZXNcbiAgICAgIHJlY2lwZVZpZXcuY2xlYXJSZWNpcGUoKTtcbiAgICAgIHJlbmRlckxvYWRlcihlbGVtZW50cy5yZWNpcGUpO1xuXG4gICAgICAvLyBTZWxlY3RlZCBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgICBpZiAoc3RhdGUuc2VhcmNoKSBzZWFyY2hWaWV3LnNlbGVjdGVkQmdDb2xvcihpZCk7XG5cblxuICAgICAgLy8gQ3JlYXRlIG5ldyByZWNpcGUgb2JqZWNcbiAgICAgIHN0YXRlLnJlY2lwZSA9IG5ldyBSZWNpcGUoaWQpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAgLy8gR2V0IHJlY2lwZSBkYXRhIGFuZCBwYXJzZSB0aGUgaW5ncmVkaWVudFxuICAgICAgICAgYXdhaXQgc3RhdGUucmVjaXBlLmdldFJlY2lwZSgpO1xuICAgICAgICAgc3RhdGUucmVjaXBlLnBhcnNlSW5ncmVkaWVudHMoKTtcblxuICAgICAgICAgLy8gQ2FsdWNsYXRlIHByZXAgdGltZSBhbmQgc2VydmluZ3MgY291bnRcbiAgICAgICAgIHN0YXRlLnJlY2lwZS5jYWxjVGltZSgpO1xuICAgICAgICAgc3RhdGUucmVjaXBlLmNhbGNTZXJ2aW5ncygpO1xuICAgXG4gICAgICAgICAvLyBSZW5kZXIgcmVjaXBlXG4gICAgICAgICBjbGVhckxvYWRlcigpO1xuICAgICAgICAgcmVjaXBlVmlldy5yZW5kZXJSZWNpcGUoc3RhdGUucmVjaXBlKTtcblxuICAgICAgICAgY29uc29sZS5sb2coc3RhdGUucmVjaXBlKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgYWxlcnQoJ0Vycm9yIHByb2Nlc3NpbmcgcmVjaXBlIScpO1xuICAgICAgfVxuICAgfVxufTtcblxuLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBjb250cm9sUmVjaXBlKTtcbi8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgY29udHJvbFJlY2lwZSk7XG5cblsnaGFzaGNoYW5nZScsICdsb2FkJ10uZm9yRWFjaChldmVudCA9PiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY29udHJvbFJlY2lwZSkpO1xuXG4vLyBIYW5kbGluZyByZWNpcGUgbGlzdCBjbGljayBldmVudHNcbmVsZW1lbnRzLnJlY2lwZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoJy5idG4tZGVjcmVhc2UsIC5idG4tZGVjcmVhc2UgKiAnKSkge1xuICAgICAgLy8gRGVjcmVhc2UgYnV0dG9uIGNsaWNrZWRcbiAgICAgIHN0YXRlLnJlY2lwZS51cGRhdGVTZXJ2aW5ncygnZGVjJyk7XG5cbiAgIH0gZWxzZSBpZiAoZS50YXJnZXQubWF0Y2hlcygnLmJ0bi1pbmNyZWFzZSwgYnRuLWluY3JlYXNlICogJykpIHtcbiAgICAgIC8vIEluY3JlYXNlIGJ1dHRvbiBjbGlja2VkXG4gICAgICBzdGF0ZS5yZWNpcGUudXBkYXRlU2VydmluZ3MoJ2luYycpXG4gICB9XG4gICBjb25zb2xlLmxvZyhzdGF0ZS5yZWNpcGUpO1xufSk7Il0sInNvdXJjZVJvb3QiOiIifQ==